(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function DO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var WT={exports:{}},$d={},KT={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=Symbol.for("react.element"),NO=Symbol.for("react.portal"),LO=Symbol.for("react.fragment"),MO=Symbol.for("react.strict_mode"),VO=Symbol.for("react.profiler"),jO=Symbol.for("react.provider"),FO=Symbol.for("react.context"),UO=Symbol.for("react.forward_ref"),$O=Symbol.for("react.suspense"),BO=Symbol.for("react.memo"),zO=Symbol.for("react.lazy"),Z_=Symbol.iterator;function HO(t){return t===null||typeof t!="object"?null:(t=Z_&&t[Z_]||t["@@iterator"],typeof t=="function"?t:null)}var QT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GT=Object.assign,YT={};function ka(t,e,n){this.props=t,this.context=e,this.refs=YT,this.updater=n||QT}ka.prototype.isReactComponent={};ka.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ka.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XT(){}XT.prototype=ka.prototype;function nv(t,e,n){this.props=t,this.context=e,this.refs=YT,this.updater=n||QT}var rv=nv.prototype=new XT;rv.constructor=nv;GT(rv,ka.prototype);rv.isPureReactComponent=!0;var ew=Array.isArray,JT=Object.prototype.hasOwnProperty,iv={current:null},ZT={key:!0,ref:!0,__self:!0,__source:!0};function eS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)JT.call(e,r)&&!ZT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Lu,type:t,key:s,ref:o,props:i,_owner:iv.current}}function qO(t,e){return{$$typeof:Lu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lu}function WO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tw=/\/+/g;function hp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WO(""+t.key):e.toString(36)}function Zc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Lu:case NO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hp(o,0):r,ew(i)?(n="",t!=null&&(n=t.replace(tw,"$&/")+"/"),Zc(i,e,n,"",function(u){return u})):i!=null&&(sv(i)&&(i=qO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ew(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+hp(s,a);o+=Zc(s,e,n,l,i)}else if(l=HO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+hp(s,a++),o+=Zc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xc(t,e,n){if(t==null)return t;var r=[],i=0;return Zc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function KO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _n={current:null},ef={transition:null},QO={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:ef,ReactCurrentOwner:iv};Ie.Children={map:xc,forEach:function(t,e,n){xc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xc(t,function(){e++}),e},toArray:function(t){return xc(t,function(e){return e})||[]},only:function(t){if(!sv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=ka;Ie.Fragment=LO;Ie.Profiler=VO;Ie.PureComponent=nv;Ie.StrictMode=MO;Ie.Suspense=$O;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QO;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=GT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=iv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)JT.call(e,l)&&!ZT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Lu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:FO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jO,_context:t},t.Consumer=t};Ie.createElement=eS;Ie.createFactory=function(t){var e=eS.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:UO,render:t}};Ie.isValidElement=sv;Ie.lazy=function(t){return{$$typeof:zO,_payload:{_status:-1,_result:t},_init:KO}};Ie.memo=function(t,e){return{$$typeof:BO,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=ef.transition;ef.transition={};try{t()}finally{ef.transition=e}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(t,e){return _n.current.useCallback(t,e)};Ie.useContext=function(t){return _n.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return _n.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return _n.current.useEffect(t,e)};Ie.useId=function(){return _n.current.useId()};Ie.useImperativeHandle=function(t,e,n){return _n.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return _n.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return _n.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return _n.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return _n.current.useReducer(t,e,n)};Ie.useRef=function(t){return _n.current.useRef(t)};Ie.useState=function(t){return _n.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return _n.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return _n.current.useTransition()};Ie.version="18.2.0";KT.exports=Ie;var N=KT.exports;const Er=qT(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GO=N,YO=Symbol.for("react.element"),XO=Symbol.for("react.fragment"),JO=Object.prototype.hasOwnProperty,ZO=GO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eD={key:!0,ref:!0,__self:!0,__source:!0};function tS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JO.call(e,r)&&!eD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:YO,type:t,key:s,ref:o,props:i,_owner:ZO.current}}$d.Fragment=XO;$d.jsx=tS;$d.jsxs=tS;WT.exports=$d;var m=WT.exports,Qm={},nS={exports:{}},Fn={},rS={exports:{}},iS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,M){var L=k.length;k.push(M);e:for(;0<L;){var D=L-1>>>1,U=k[D];if(0<i(U,M))k[D]=M,k[L]=U,L=D;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var M=k[0],L=k.pop();if(L!==M){k[0]=L;e:for(var D=0,U=k.length,te=U>>>1;D<te;){var J=2*(D+1)-1,ue=k[J],Ee=J+1,Te=k[Ee];if(0>i(ue,L))Ee<U&&0>i(Te,ue)?(k[D]=Te,k[Ee]=L,D=Ee):(k[D]=ue,k[J]=L,D=J);else if(Ee<U&&0>i(Te,L))k[D]=Te,k[Ee]=L,D=Ee;else break e}}return M}function i(k,M){var L=k.sortIndex-M.sortIndex;return L!==0?L:k.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,g=!1,E=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(k){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=k)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function I(k){if(S=!1,P(k),!E)if(n(l)!==null)E=!0,B(T);else{var M=n(u);M!==null&&F(I,M.startTime-k)}}function T(k,M){E=!1,S&&(S=!1,v(d),d=-1),g=!0;var L=h;try{for(P(M),f=n(l);f!==null&&(!(f.expirationTime>M)||k&&!x());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var U=D(f.expirationTime<=M);M=t.unstable_now(),typeof U=="function"?f.callback=U:f===n(l)&&r(l),P(M)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var J=n(u);J!==null&&F(I,J.startTime-M),te=!1}return te}finally{f=null,h=L,g=!1}}var b=!1,w=null,d=-1,y=5,p=-1;function x(){return!(t.unstable_now()-p<y)}function A(){if(w!==null){var k=t.unstable_now();p=k;var M=!0;try{M=w(!0,k)}finally{M?O():(b=!1,w=null)}}else b=!1}var O;if(typeof _=="function")O=function(){_(A)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,j=C.port2;C.port1.onmessage=A,O=function(){j.postMessage(null)}}else O=function(){R(A,0)};function B(k){w=k,b||(b=!0,O())}function F(k,M){d=R(function(){k(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,B(T))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var L=h;h=M;try{return k()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,M){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var L=h;h=k;try{return M()}finally{h=L}},t.unstable_scheduleCallback=function(k,M,L){var D=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?D+L:D):L=D,k){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=L+U,k={id:c++,callback:M,priorityLevel:k,startTime:L,expirationTime:U,sortIndex:-1},L>D?(k.sortIndex=L,e(u,k),n(l)===null&&k===n(u)&&(S?(v(d),d=-1):S=!0,F(I,L-D))):(k.sortIndex=U,e(l,k),E||g||(E=!0,B(T))),k},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(k){var M=h;return function(){var L=h;h=M;try{return k.apply(this,arguments)}finally{h=L}}}})(iS);rS.exports=iS;var tD=rS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS=N,Mn=tD;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oS=new Set,Ql={};function ro(t,e){oa(t,e),oa(t+"Capture",e)}function oa(t,e){for(Ql[t]=e,t=0;t<e.length;t++)oS.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=Object.prototype.hasOwnProperty,nD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nw={},rw={};function rD(t){return Gm.call(rw,t)?!0:Gm.call(nw,t)?!1:nD.test(t)?rw[t]=!0:(nw[t]=!0,!1)}function iD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sD(t,e,n,r){if(e===null||typeof e>"u"||iD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ov=/[\-:]([a-z])/g;function av(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ov,av);Kt[e]=new wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ov,av);Kt[e]=new wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ov,av);Kt[e]=new wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new wn(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function lv(t,e,n,r){var i=Kt.hasOwnProperty(e)?Kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sD(e,n,i,r)&&(n=null),r||i===null?rD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var di=sS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tc=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),uv=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),aS=Symbol.for("react.provider"),lS=Symbol.for("react.context"),cv=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),Jm=Symbol.for("react.suspense_list"),fv=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),uS=Symbol.for("react.offscreen"),iw=Symbol.iterator;function Ka(t){return t===null||typeof t!="object"?null:(t=iw&&t[iw]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,pp;function hl(t){if(pp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pp=e&&e[1]||""}return`
`+pp+t}var mp=!1;function yp(t,e){if(!t||mp)return"";mp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{mp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hl(t):""}function oD(t){switch(t.tag){case 5:return hl(t.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return t=yp(t.type,!1),t;case 11:return t=yp(t.type.render,!1),t;case 1:return t=yp(t.type,!0),t;default:return""}}function Zm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Io:return"Fragment";case Ro:return"Portal";case Ym:return"Profiler";case uv:return"StrictMode";case Xm:return"Suspense";case Jm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lS:return(t.displayName||"Context")+".Consumer";case aS:return(t._context.displayName||"Context")+".Provider";case cv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fv:return e=t.displayName||null,e!==null?e:Zm(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return Zm(t(e))}catch{}}return null}function aD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zm(e);case 8:return e===uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lD(t){var e=cS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sc(t){t._valueTracker||(t._valueTracker=lD(t))}function fS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function If(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ey(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dS(t,e){e=e.checked,e!=null&&lv(t,"checked",e,!1)}function ty(t,e){dS(t,e);var n=Xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ny(t,e.type,n):e.hasOwnProperty("defaultValue")&&ny(t,e.type,Xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ow(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ny(t,e,n){(e!=="number"||If(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pl=Array.isArray;function Ko(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ry(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(pl(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xi(n)}}function hS(t,e){var n=Xi(e.value),r=Xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bc,mS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bc=bc||document.createElement("div"),bc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uD=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(t){uD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sl[e]=Sl[t]})});function yS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sl.hasOwnProperty(t)&&Sl[t]?(""+e).trim():e+"px"}function gS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cD=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sy(t,e){if(e){if(cD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function oy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ay=null;function dv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ly=null,Qo=null,Go=null;function uw(t){if(t=ju(t)){if(typeof ly!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Wd(e),ly(t.stateNode,t.type,e))}}function vS(t){Qo?Go?Go.push(t):Go=[t]:Qo=t}function _S(){if(Qo){var t=Qo,e=Go;if(Go=Qo=null,uw(t),e)for(t=0;t<e.length;t++)uw(e[t])}}function wS(t,e){return t(e)}function ES(){}var gp=!1;function PS(t,e,n){if(gp)return t(e,n);gp=!0;try{return wS(t,e,n)}finally{gp=!1,(Qo!==null||Go!==null)&&(ES(),_S())}}function Yl(t,e){var n=t.stateNode;if(n===null)return null;var r=Wd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var uy=!1;if(ri)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){uy=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{uy=!1}function fD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var bl=!1,Af=null,Cf=!1,cy=null,dD={onError:function(t){bl=!0,Af=t}};function hD(t,e,n,r,i,s,o,a,l){bl=!1,Af=null,fD.apply(dD,arguments)}function pD(t,e,n,r,i,s,o,a,l){if(hD.apply(this,arguments),bl){if(bl){var u=Af;bl=!1,Af=null}else throw Error(Y(198));Cf||(Cf=!0,cy=u)}}function io(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cw(t){if(io(t)!==t)throw Error(Y(188))}function mD(t){var e=t.alternate;if(!e){if(e=io(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return cw(i),t;if(s===r)return cw(i),e;s=s.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function TS(t){return t=mD(t),t!==null?SS(t):null}function SS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SS(t);if(e!==null)return e;t=t.sibling}return null}var bS=Mn.unstable_scheduleCallback,fw=Mn.unstable_cancelCallback,yD=Mn.unstable_shouldYield,gD=Mn.unstable_requestPaint,ht=Mn.unstable_now,vD=Mn.unstable_getCurrentPriorityLevel,hv=Mn.unstable_ImmediatePriority,RS=Mn.unstable_UserBlockingPriority,kf=Mn.unstable_NormalPriority,_D=Mn.unstable_LowPriority,IS=Mn.unstable_IdlePriority,Bd=null,Rr=null;function wD(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Bd,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:xD,ED=Math.log,PD=Math.LN2;function xD(t){return t>>>=0,t===0?32:31-(ED(t)/PD|0)|0}var Rc=64,Ic=4194304;function ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Of(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ml(a):(s&=o,s!==0&&(r=ml(s)))}else o=n&~i,o!==0?r=ml(o):s!==0&&(r=ml(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),i=1<<n,r|=t[n],e&=~i;return r}function TD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-dr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=TD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function fy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AS(){var t=Rc;return Rc<<=1,!(Rc&4194240)&&(Rc=64),t}function vp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function bD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function pv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function CS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kS,mv,OS,DS,NS,dy=!1,Ac=[],Vi=null,ji=null,Fi=null,Xl=new Map,Jl=new Map,Ii=[],RD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dw(t,e){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(e.pointerId)}}function Ga(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ju(e),e!==null&&mv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ID(t,e,n,r,i){switch(e){case"focusin":return Vi=Ga(Vi,t,e,n,r,i),!0;case"dragenter":return ji=Ga(ji,t,e,n,r,i),!0;case"mouseover":return Fi=Ga(Fi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xl.set(s,Ga(Xl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Jl.set(s,Ga(Jl.get(s)||null,t,e,n,r,i)),!0}return!1}function LS(t){var e=ws(t.target);if(e!==null){var n=io(e);if(n!==null){if(e=n.tag,e===13){if(e=xS(n),e!==null){t.blockedOn=e,NS(t.priority,function(){OS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ay=r,n.target.dispatchEvent(r),ay=null}else return e=ju(n),e!==null&&mv(e),t.blockedOn=n,!1;e.shift()}return!0}function hw(t,e,n){tf(t)&&n.delete(e)}function AD(){dy=!1,Vi!==null&&tf(Vi)&&(Vi=null),ji!==null&&tf(ji)&&(ji=null),Fi!==null&&tf(Fi)&&(Fi=null),Xl.forEach(hw),Jl.forEach(hw)}function Ya(t,e){t.blockedOn===e&&(t.blockedOn=null,dy||(dy=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,AD)))}function Zl(t){function e(i){return Ya(i,t)}if(0<Ac.length){Ya(Ac[0],t);for(var n=1;n<Ac.length;n++){var r=Ac[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vi!==null&&Ya(Vi,t),ji!==null&&Ya(ji,t),Fi!==null&&Ya(Fi,t),Xl.forEach(e),Jl.forEach(e),n=0;n<Ii.length;n++)r=Ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)LS(n),n.blockedOn===null&&Ii.shift()}var Yo=di.ReactCurrentBatchConfig,Df=!0;function CD(t,e,n,r){var i=Ve,s=Yo.transition;Yo.transition=null;try{Ve=1,yv(t,e,n,r)}finally{Ve=i,Yo.transition=s}}function kD(t,e,n,r){var i=Ve,s=Yo.transition;Yo.transition=null;try{Ve=4,yv(t,e,n,r)}finally{Ve=i,Yo.transition=s}}function yv(t,e,n,r){if(Df){var i=hy(t,e,n,r);if(i===null)Ip(t,e,r,Nf,n),dw(t,r);else if(ID(i,t,e,n,r))r.stopPropagation();else if(dw(t,r),e&4&&-1<RD.indexOf(t)){for(;i!==null;){var s=ju(i);if(s!==null&&kS(s),s=hy(t,e,n,r),s===null&&Ip(t,e,r,Nf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ip(t,e,r,null,n)}}var Nf=null;function hy(t,e,n,r){if(Nf=null,t=dv(r),t=ws(t),t!==null)if(e=io(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nf=t,null}function MS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vD()){case hv:return 1;case RS:return 4;case kf:case _D:return 16;case IS:return 536870912;default:return 16}default:return 16}}var Di=null,gv=null,nf=null;function VS(){if(nf)return nf;var t,e=gv,n=e.length,r,i="value"in Di?Di.value:Di.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return nf=i.slice(t,1<r?1-r:void 0)}function rf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cc(){return!0}function pw(){return!1}function Un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cc:pw,this.isPropagationStopped=pw,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cc)},persist:function(){},isPersistent:Cc}),e}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vv=Un(Oa),Vu=at({},Oa,{view:0,detail:0}),OD=Un(Vu),_p,wp,Xa,zd=at({},Vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_v,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xa&&(Xa&&t.type==="mousemove"?(_p=t.screenX-Xa.screenX,wp=t.screenY-Xa.screenY):wp=_p=0,Xa=t),_p)},movementY:function(t){return"movementY"in t?t.movementY:wp}}),mw=Un(zd),DD=at({},zd,{dataTransfer:0}),ND=Un(DD),LD=at({},Vu,{relatedTarget:0}),Ep=Un(LD),MD=at({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),VD=Un(MD),jD=at({},Oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FD=Un(jD),UD=at({},Oa,{data:0}),yw=Un(UD),$D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zD[t])?!!e[t]:!1}function _v(){return HD}var qD=at({},Vu,{key:function(t){if(t.key){var e=$D[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_v,charCode:function(t){return t.type==="keypress"?rf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WD=Un(qD),KD=at({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gw=Un(KD),QD=at({},Vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_v}),GD=Un(QD),YD=at({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),XD=Un(YD),JD=at({},zd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZD=Un(JD),eN=[9,13,27,32],wv=ri&&"CompositionEvent"in window,Rl=null;ri&&"documentMode"in document&&(Rl=document.documentMode);var tN=ri&&"TextEvent"in window&&!Rl,jS=ri&&(!wv||Rl&&8<Rl&&11>=Rl),vw=String.fromCharCode(32),_w=!1;function FS(t,e){switch(t){case"keyup":return eN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function US(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ao=!1;function nN(t,e){switch(t){case"compositionend":return US(e);case"keypress":return e.which!==32?null:(_w=!0,vw);case"textInput":return t=e.data,t===vw&&_w?null:t;default:return null}}function rN(t,e){if(Ao)return t==="compositionend"||!wv&&FS(t,e)?(t=VS(),nf=gv=Di=null,Ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jS&&e.locale!=="ko"?null:e.data;default:return null}}var iN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ww(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iN[t.type]:e==="textarea"}function $S(t,e,n,r){vS(r),e=Lf(e,"onChange"),0<e.length&&(n=new vv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Il=null,eu=null;function sN(t){JS(t,0)}function Hd(t){var e=Oo(t);if(fS(e))return t}function oN(t,e){if(t==="change")return e}var BS=!1;if(ri){var Pp;if(ri){var xp="oninput"in document;if(!xp){var Ew=document.createElement("div");Ew.setAttribute("oninput","return;"),xp=typeof Ew.oninput=="function"}Pp=xp}else Pp=!1;BS=Pp&&(!document.documentMode||9<document.documentMode)}function Pw(){Il&&(Il.detachEvent("onpropertychange",zS),eu=Il=null)}function zS(t){if(t.propertyName==="value"&&Hd(eu)){var e=[];$S(e,eu,t,dv(t)),PS(sN,e)}}function aN(t,e,n){t==="focusin"?(Pw(),Il=e,eu=n,Il.attachEvent("onpropertychange",zS)):t==="focusout"&&Pw()}function lN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hd(eu)}function uN(t,e){if(t==="click")return Hd(e)}function cN(t,e){if(t==="input"||t==="change")return Hd(e)}function fN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pr=typeof Object.is=="function"?Object.is:fN;function tu(t,e){if(pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gm.call(e,i)||!pr(t[i],e[i]))return!1}return!0}function xw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tw(t,e){var n=xw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xw(n)}}function HS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qS(){for(var t=window,e=If();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=If(t.document)}return e}function Ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dN(t){var e=qS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HS(n.ownerDocument.documentElement,n)){if(r!==null&&Ev(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Tw(n,s);var o=Tw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hN=ri&&"documentMode"in document&&11>=document.documentMode,Co=null,py=null,Al=null,my=!1;function Sw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;my||Co==null||Co!==If(r)||(r=Co,"selectionStart"in r&&Ev(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Al&&tu(Al,r)||(Al=r,r=Lf(py,"onSelect"),0<r.length&&(e=new vv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Co)))}function kc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ko={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},Tp={},WS={};ri&&(WS=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function qd(t){if(Tp[t])return Tp[t];if(!ko[t])return t;var e=ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WS)return Tp[t]=e[n];return t}var KS=qd("animationend"),QS=qd("animationiteration"),GS=qd("animationstart"),YS=qd("transitionend"),XS=new Map,bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(t,e){XS.set(t,e),ro(e,[t])}for(var Sp=0;Sp<bw.length;Sp++){var bp=bw[Sp],pN=bp.toLowerCase(),mN=bp[0].toUpperCase()+bp.slice(1);rs(pN,"on"+mN)}rs(KS,"onAnimationEnd");rs(QS,"onAnimationIteration");rs(GS,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(YS,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yN=new Set("cancel close invalid load scroll toggle".split(" ").concat(yl));function Rw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pD(r,e,void 0,t),t.currentTarget=null}function JS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Rw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Rw(i,a,u),s=l}}}if(Cf)throw t=cy,Cf=!1,cy=null,t}function We(t,e){var n=e[wy];n===void 0&&(n=e[wy]=new Set);var r=t+"__bubble";n.has(r)||(ZS(e,t,2,!1),n.add(r))}function Rp(t,e,n){var r=0;e&&(r|=4),ZS(n,t,r,e)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function nu(t){if(!t[Oc]){t[Oc]=!0,oS.forEach(function(n){n!=="selectionchange"&&(yN.has(n)||Rp(n,!1,t),Rp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oc]||(e[Oc]=!0,Rp("selectionchange",!1,e))}}function ZS(t,e,n,r){switch(MS(e)){case 1:var i=CD;break;case 4:i=kD;break;default:i=yv}n=i.bind(null,e,n,t),i=void 0,!uy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ip(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ws(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}PS(function(){var u=s,c=dv(n),f=[];e:{var h=XS.get(t);if(h!==void 0){var g=vv,E=t;switch(t){case"keypress":if(rf(n)===0)break e;case"keydown":case"keyup":g=WD;break;case"focusin":E="focus",g=Ep;break;case"focusout":E="blur",g=Ep;break;case"beforeblur":case"afterblur":g=Ep;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=mw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ND;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=GD;break;case KS:case QS:case GS:g=VD;break;case YS:g=XD;break;case"scroll":g=OD;break;case"wheel":g=ZD;break;case"copy":case"cut":case"paste":g=FD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=gw}var S=(e&4)!==0,R=!S&&t==="scroll",v=S?h!==null?h+"Capture":null:h;S=[];for(var _=u,P;_!==null;){P=_;var I=P.stateNode;if(P.tag===5&&I!==null&&(P=I,v!==null&&(I=Yl(_,v),I!=null&&S.push(ru(_,I,P)))),R)break;_=_.return}0<S.length&&(h=new g(h,E,null,n,c),f.push({event:h,listeners:S}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==ay&&(E=n.relatedTarget||n.fromElement)&&(ws(E)||E[ii]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=u,E=E?ws(E):null,E!==null&&(R=io(E),E!==R||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=u),g!==E)){if(S=mw,I="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(S=gw,I="onPointerLeave",v="onPointerEnter",_="pointer"),R=g==null?h:Oo(g),P=E==null?h:Oo(E),h=new S(I,_+"leave",g,n,c),h.target=R,h.relatedTarget=P,I=null,ws(c)===u&&(S=new S(v,_+"enter",E,n,c),S.target=P,S.relatedTarget=R,I=S),R=I,g&&E)t:{for(S=g,v=E,_=0,P=S;P;P=go(P))_++;for(P=0,I=v;I;I=go(I))P++;for(;0<_-P;)S=go(S),_--;for(;0<P-_;)v=go(v),P--;for(;_--;){if(S===v||v!==null&&S===v.alternate)break t;S=go(S),v=go(v)}S=null}else S=null;g!==null&&Iw(f,h,g,S,!1),E!==null&&R!==null&&Iw(f,R,E,S,!0)}}e:{if(h=u?Oo(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var T=oN;else if(ww(h))if(BS)T=cN;else{T=lN;var b=aN}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=uN);if(T&&(T=T(t,u))){$S(f,T,n,c);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&ny(h,"number",h.value)}switch(b=u?Oo(u):window,t){case"focusin":(ww(b)||b.contentEditable==="true")&&(Co=b,py=u,Al=null);break;case"focusout":Al=py=Co=null;break;case"mousedown":my=!0;break;case"contextmenu":case"mouseup":case"dragend":my=!1,Sw(f,n,c);break;case"selectionchange":if(hN)break;case"keydown":case"keyup":Sw(f,n,c)}var w;if(wv)e:{switch(t){case"compositionstart":var d="onCompositionStart";break e;case"compositionend":d="onCompositionEnd";break e;case"compositionupdate":d="onCompositionUpdate";break e}d=void 0}else Ao?FS(t,n)&&(d="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(d="onCompositionStart");d&&(jS&&n.locale!=="ko"&&(Ao||d!=="onCompositionStart"?d==="onCompositionEnd"&&Ao&&(w=VS()):(Di=c,gv="value"in Di?Di.value:Di.textContent,Ao=!0)),b=Lf(u,d),0<b.length&&(d=new yw(d,t,null,n,c),f.push({event:d,listeners:b}),w?d.data=w:(w=US(n),w!==null&&(d.data=w)))),(w=tN?nN(t,n):rN(t,n))&&(u=Lf(u,"onBeforeInput"),0<u.length&&(c=new yw("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=w))}JS(f,e)})}function ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Yl(t,n),s!=null&&r.unshift(ru(t,s,i)),s=Yl(t,e),s!=null&&r.push(ru(t,s,i))),t=t.return}return r}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Iw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Yl(n,s),l!=null&&o.unshift(ru(n,l,a))):i||(l=Yl(n,s),l!=null&&o.push(ru(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gN=/\r\n?/g,vN=/\u0000|\uFFFD/g;function Aw(t){return(typeof t=="string"?t:""+t).replace(gN,`
`).replace(vN,"")}function Dc(t,e,n){if(e=Aw(e),Aw(t)!==e&&n)throw Error(Y(425))}function Mf(){}var yy=null,gy=null;function vy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _y=typeof setTimeout=="function"?setTimeout:void 0,_N=typeof clearTimeout=="function"?clearTimeout:void 0,Cw=typeof Promise=="function"?Promise:void 0,wN=typeof queueMicrotask=="function"?queueMicrotask:typeof Cw<"u"?function(t){return Cw.resolve(null).then(t).catch(EN)}:_y;function EN(t){setTimeout(function(){throw t})}function Ap(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zl(e)}function Ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Da=Math.random().toString(36).slice(2),Pr="__reactFiber$"+Da,iu="__reactProps$"+Da,ii="__reactContainer$"+Da,wy="__reactEvents$"+Da,PN="__reactListeners$"+Da,xN="__reactHandles$"+Da;function ws(t){var e=t[Pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ii]||n[Pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kw(t);t!==null;){if(n=t[Pr])return n;t=kw(t)}return e}t=n,n=t.parentNode}return null}function ju(t){return t=t[Pr]||t[ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Wd(t){return t[iu]||null}var Ey=[],Do=-1;function is(t){return{current:t}}function Ge(t){0>Do||(t.current=Ey[Do],Ey[Do]=null,Do--)}function ze(t,e){Do++,Ey[Do]=t.current,t.current=e}var Ji={},an=is(Ji),Sn=is(!1),js=Ji;function aa(t,e){var n=t.type.contextTypes;if(!n)return Ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function Vf(){Ge(Sn),Ge(an)}function Ow(t,e,n){if(an.current!==Ji)throw Error(Y(168));ze(an,e),ze(Sn,n)}function e1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,aD(t)||"Unknown",i));return at({},n,r)}function jf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ji,js=an.current,ze(an,t),ze(Sn,Sn.current),!0}function Dw(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=e1(t,e,js),r.__reactInternalMemoizedMergedChildContext=t,Ge(Sn),Ge(an),ze(an,t)):Ge(Sn),ze(Sn,n)}var Hr=null,Kd=!1,Cp=!1;function t1(t){Hr===null?Hr=[t]:Hr.push(t)}function TN(t){Kd=!0,t1(t)}function ss(){if(!Cp&&Hr!==null){Cp=!0;var t=0,e=Ve;try{var n=Hr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,Kd=!1}catch(i){throw Hr!==null&&(Hr=Hr.slice(t+1)),bS(hv,ss),i}finally{Ve=e,Cp=!1}}return null}var No=[],Lo=0,Ff=null,Uf=0,Qn=[],Gn=0,Fs=null,Wr=1,Kr="";function ps(t,e){No[Lo++]=Uf,No[Lo++]=Ff,Ff=t,Uf=e}function n1(t,e,n){Qn[Gn++]=Wr,Qn[Gn++]=Kr,Qn[Gn++]=Fs,Fs=t;var r=Wr;t=Kr;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var s=32-dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wr=1<<32-dr(e)+i|n<<i|r,Kr=s+t}else Wr=1<<s|n<<i|r,Kr=t}function Pv(t){t.return!==null&&(ps(t,1),n1(t,1,0))}function xv(t){for(;t===Ff;)Ff=No[--Lo],No[Lo]=null,Uf=No[--Lo],No[Lo]=null;for(;t===Fs;)Fs=Qn[--Gn],Qn[Gn]=null,Kr=Qn[--Gn],Qn[Gn]=null,Wr=Qn[--Gn],Qn[Gn]=null}var Nn=null,On=null,Ze=!1,ur=null;function r1(t,e){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Nw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,On=Ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fs!==null?{id:Wr,overflow:Kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,On=null,!0):!1;default:return!1}}function Py(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xy(t){if(Ze){var e=On;if(e){var n=e;if(!Nw(t,e)){if(Py(t))throw Error(Y(418));e=Ui(n.nextSibling);var r=Nn;e&&Nw(t,e)?r1(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Nn=t)}}else{if(Py(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ze=!1,Nn=t}}}function Lw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function Nc(t){if(t!==Nn)return!1;if(!Ze)return Lw(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vy(t.type,t.memoizedProps)),e&&(e=On)){if(Py(t))throw i1(),Error(Y(418));for(;e;)r1(t,e),e=Ui(e.nextSibling)}if(Lw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){On=Ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}On=null}}else On=Nn?Ui(t.stateNode.nextSibling):null;return!0}function i1(){for(var t=On;t;)t=Ui(t.nextSibling)}function la(){On=Nn=null,Ze=!1}function Tv(t){ur===null?ur=[t]:ur.push(t)}var SN=di.ReactCurrentBatchConfig;function or(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $f=is(null),Bf=null,Mo=null,Sv=null;function bv(){Sv=Mo=Bf=null}function Rv(t){var e=$f.current;Ge($f),t._currentValue=e}function Ty(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xo(t,e){Bf=t,Sv=Mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tn=!0),t.firstContext=null)}function er(t){var e=t._currentValue;if(Sv!==t)if(t={context:t,memoizedValue:e,next:null},Mo===null){if(Bf===null)throw Error(Y(308));Mo=t,Bf.dependencies={lanes:0,firstContext:t}}else Mo=Mo.next=t;return e}var Es=null;function Iv(t){Es===null?Es=[t]:Es.push(t)}function s1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Iv(e)):(n.next=i.next,i.next=n),e.interleaved=n,si(t,r)}function si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Si=!1;function Av(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $i(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,si(t,n)}return i=r.interleaved,i===null?(e.next=e,Iv(r)):(e.next=i.next,i.next=e),r.interleaved=e,si(t,n)}function sf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pv(t,n)}}function Mw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zf(t,e,n,r){var i=t.updateQueue;Si=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,S=a;switch(h=e,g=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){f=E.call(g,f,h);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,h=typeof E=="function"?E.call(g,f,h):E,h==null)break e;f=at({},f,h);break e;case 2:Si=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=f):c=c.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$s|=o,t.lanes=o,t.memoizedState=f}}function Vw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var a1=new sS.Component().refs;function Sy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qd={isMounted:function(t){return(t=t._reactInternals)?io(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vn(),i=zi(t),s=Jr(r,i);s.payload=e,n!=null&&(s.callback=n),e=$i(t,s,i),e!==null&&(hr(e,t,i,r),sf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vn(),i=zi(t),s=Jr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$i(t,s,i),e!==null&&(hr(e,t,i,r),sf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vn(),r=zi(t),i=Jr(n,r);i.tag=2,e!=null&&(i.callback=e),e=$i(t,i,r),e!==null&&(hr(e,t,r,n),sf(e,t,r))}};function jw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!tu(n,r)||!tu(i,s):!0}function l1(t,e,n){var r=!1,i=Ji,s=e.contextType;return typeof s=="object"&&s!==null?s=er(s):(i=bn(e)?js:an.current,r=e.contextTypes,s=(r=r!=null)?aa(t,i):Ji),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Fw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qd.enqueueReplaceState(e,e.state,null)}function by(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=a1,Av(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=er(s):(s=bn(e)?js:an.current,i.context=aa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Sy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qd.enqueueReplaceState(i,i.state,null),zf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ja(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===a1&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Lc(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Uw(t){var e=t._init;return e(t._payload)}function u1(t){function e(v,_){if(t){var P=v.deletions;P===null?(v.deletions=[_],v.flags|=16):P.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Hi(v,_),v.index=0,v.sibling=null,v}function s(v,_,P){return v.index=P,t?(P=v.alternate,P!==null?(P=P.index,P<_?(v.flags|=2,_):P):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,P,I){return _===null||_.tag!==6?(_=Vp(P,v.mode,I),_.return=v,_):(_=i(_,P),_.return=v,_)}function l(v,_,P,I){var T=P.type;return T===Io?c(v,_,P.props.children,I,P.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ti&&Uw(T)===_.type)?(I=i(_,P.props),I.ref=Ja(v,_,P),I.return=v,I):(I=ff(P.type,P.key,P.props,null,v.mode,I),I.ref=Ja(v,_,P),I.return=v,I)}function u(v,_,P,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==P.containerInfo||_.stateNode.implementation!==P.implementation?(_=jp(P,v.mode,I),_.return=v,_):(_=i(_,P.children||[]),_.return=v,_)}function c(v,_,P,I,T){return _===null||_.tag!==7?(_=Ls(P,v.mode,I,T),_.return=v,_):(_=i(_,P),_.return=v,_)}function f(v,_,P){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Vp(""+_,v.mode,P),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tc:return P=ff(_.type,_.key,_.props,null,v.mode,P),P.ref=Ja(v,null,_),P.return=v,P;case Ro:return _=jp(_,v.mode,P),_.return=v,_;case Ti:var I=_._init;return f(v,I(_._payload),P)}if(pl(_)||Ka(_))return _=Ls(_,v.mode,P,null),_.return=v,_;Lc(v,_)}return null}function h(v,_,P,I){var T=_!==null?_.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return T!==null?null:a(v,_,""+P,I);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Tc:return P.key===T?l(v,_,P,I):null;case Ro:return P.key===T?u(v,_,P,I):null;case Ti:return T=P._init,h(v,_,T(P._payload),I)}if(pl(P)||Ka(P))return T!==null?null:c(v,_,P,I,null);Lc(v,P)}return null}function g(v,_,P,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return v=v.get(P)||null,a(_,v,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Tc:return v=v.get(I.key===null?P:I.key)||null,l(_,v,I,T);case Ro:return v=v.get(I.key===null?P:I.key)||null,u(_,v,I,T);case Ti:var b=I._init;return g(v,_,P,b(I._payload),T)}if(pl(I)||Ka(I))return v=v.get(P)||null,c(_,v,I,T,null);Lc(_,I)}return null}function E(v,_,P,I){for(var T=null,b=null,w=_,d=_=0,y=null;w!==null&&d<P.length;d++){w.index>d?(y=w,w=null):y=w.sibling;var p=h(v,w,P[d],I);if(p===null){w===null&&(w=y);break}t&&w&&p.alternate===null&&e(v,w),_=s(p,_,d),b===null?T=p:b.sibling=p,b=p,w=y}if(d===P.length)return n(v,w),Ze&&ps(v,d),T;if(w===null){for(;d<P.length;d++)w=f(v,P[d],I),w!==null&&(_=s(w,_,d),b===null?T=w:b.sibling=w,b=w);return Ze&&ps(v,d),T}for(w=r(v,w);d<P.length;d++)y=g(w,v,d,P[d],I),y!==null&&(t&&y.alternate!==null&&w.delete(y.key===null?d:y.key),_=s(y,_,d),b===null?T=y:b.sibling=y,b=y);return t&&w.forEach(function(x){return e(v,x)}),Ze&&ps(v,d),T}function S(v,_,P,I){var T=Ka(P);if(typeof T!="function")throw Error(Y(150));if(P=T.call(P),P==null)throw Error(Y(151));for(var b=T=null,w=_,d=_=0,y=null,p=P.next();w!==null&&!p.done;d++,p=P.next()){w.index>d?(y=w,w=null):y=w.sibling;var x=h(v,w,p.value,I);if(x===null){w===null&&(w=y);break}t&&w&&x.alternate===null&&e(v,w),_=s(x,_,d),b===null?T=x:b.sibling=x,b=x,w=y}if(p.done)return n(v,w),Ze&&ps(v,d),T;if(w===null){for(;!p.done;d++,p=P.next())p=f(v,p.value,I),p!==null&&(_=s(p,_,d),b===null?T=p:b.sibling=p,b=p);return Ze&&ps(v,d),T}for(w=r(v,w);!p.done;d++,p=P.next())p=g(w,v,d,p.value,I),p!==null&&(t&&p.alternate!==null&&w.delete(p.key===null?d:p.key),_=s(p,_,d),b===null?T=p:b.sibling=p,b=p);return t&&w.forEach(function(A){return e(v,A)}),Ze&&ps(v,d),T}function R(v,_,P,I){if(typeof P=="object"&&P!==null&&P.type===Io&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Tc:e:{for(var T=P.key,b=_;b!==null;){if(b.key===T){if(T=P.type,T===Io){if(b.tag===7){n(v,b.sibling),_=i(b,P.props.children),_.return=v,v=_;break e}}else if(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ti&&Uw(T)===b.type){n(v,b.sibling),_=i(b,P.props),_.ref=Ja(v,b,P),_.return=v,v=_;break e}n(v,b);break}else e(v,b);b=b.sibling}P.type===Io?(_=Ls(P.props.children,v.mode,I,P.key),_.return=v,v=_):(I=ff(P.type,P.key,P.props,null,v.mode,I),I.ref=Ja(v,_,P),I.return=v,v=I)}return o(v);case Ro:e:{for(b=P.key;_!==null;){if(_.key===b)if(_.tag===4&&_.stateNode.containerInfo===P.containerInfo&&_.stateNode.implementation===P.implementation){n(v,_.sibling),_=i(_,P.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=jp(P,v.mode,I),_.return=v,v=_}return o(v);case Ti:return b=P._init,R(v,_,b(P._payload),I)}if(pl(P))return E(v,_,P,I);if(Ka(P))return S(v,_,P,I);Lc(v,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,P),_.return=v,v=_):(n(v,_),_=Vp(P,v.mode,I),_.return=v,v=_),o(v)):n(v,_)}return R}var ua=u1(!0),c1=u1(!1),Fu={},Ir=is(Fu),su=is(Fu),ou=is(Fu);function Ps(t){if(t===Fu)throw Error(Y(174));return t}function Cv(t,e){switch(ze(ou,e),ze(su,t),ze(Ir,Fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iy(e,t)}Ge(Ir),ze(Ir,e)}function ca(){Ge(Ir),Ge(su),Ge(ou)}function f1(t){Ps(ou.current);var e=Ps(Ir.current),n=iy(e,t.type);e!==n&&(ze(su,t),ze(Ir,n))}function kv(t){su.current===t&&(Ge(Ir),Ge(su))}var nt=is(0);function Hf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kp=[];function Ov(){for(var t=0;t<kp.length;t++)kp[t]._workInProgressVersionPrimary=null;kp.length=0}var of=di.ReactCurrentDispatcher,Op=di.ReactCurrentBatchConfig,Us=0,ot=null,xt=null,Dt=null,qf=!1,Cl=!1,au=0,bN=0;function Gt(){throw Error(Y(321))}function Dv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pr(t[n],e[n]))return!1;return!0}function Nv(t,e,n,r,i,s){if(Us=s,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,of.current=t===null||t.memoizedState===null?CN:kN,t=n(r,i),Cl){s=0;do{if(Cl=!1,au=0,25<=s)throw Error(Y(301));s+=1,Dt=xt=null,e.updateQueue=null,of.current=ON,t=n(r,i)}while(Cl)}if(of.current=Wf,e=xt!==null&&xt.next!==null,Us=0,Dt=xt=ot=null,qf=!1,e)throw Error(Y(300));return t}function Lv(){var t=au!==0;return au=0,t}function _r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ot.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function tr(){if(xt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Dt===null?ot.memoizedState:Dt.next;if(e!==null)Dt=e,xt=t;else{if(t===null)throw Error(Y(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Dt===null?ot.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function lu(t,e){return typeof e=="function"?e(t):e}function Dp(t){var e=tr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Us&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ot.lanes|=c,$s|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,pr(r,e.memoizedState)||(Tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ot.lanes|=s,$s|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Np(t){var e=tr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);pr(s,e.memoizedState)||(Tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function d1(){}function h1(t,e){var n=ot,r=tr(),i=e(),s=!pr(r.memoizedState,i);if(s&&(r.memoizedState=i,Tn=!0),r=r.queue,Mv(y1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,uu(9,m1.bind(null,n,r,i,e),void 0,null),Lt===null)throw Error(Y(349));Us&30||p1(n,e,i)}return i}function p1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function m1(t,e,n,r){e.value=n,e.getSnapshot=r,g1(e)&&v1(t)}function y1(t,e,n){return n(function(){g1(e)&&v1(t)})}function g1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pr(t,n)}catch{return!0}}function v1(t){var e=si(t,1);e!==null&&hr(e,t,1,-1)}function $w(t){var e=_r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:t},e.queue=t,t=t.dispatch=AN.bind(null,ot,t),[e.memoizedState,t]}function uu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _1(){return tr().memoizedState}function af(t,e,n,r){var i=_r();ot.flags|=t,i.memoizedState=uu(1|e,n,void 0,r===void 0?null:r)}function Gd(t,e,n,r){var i=tr();r=r===void 0?null:r;var s=void 0;if(xt!==null){var o=xt.memoizedState;if(s=o.destroy,r!==null&&Dv(r,o.deps)){i.memoizedState=uu(e,n,s,r);return}}ot.flags|=t,i.memoizedState=uu(1|e,n,s,r)}function Bw(t,e){return af(8390656,8,t,e)}function Mv(t,e){return Gd(2048,8,t,e)}function w1(t,e){return Gd(4,2,t,e)}function E1(t,e){return Gd(4,4,t,e)}function P1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function x1(t,e,n){return n=n!=null?n.concat([t]):null,Gd(4,4,P1.bind(null,e,t),n)}function Vv(){}function T1(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function S1(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function b1(t,e,n){return Us&21?(pr(n,e)||(n=AS(),ot.lanes|=n,$s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=n)}function RN(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Op.transition;Op.transition={};try{t(!1),e()}finally{Ve=n,Op.transition=r}}function R1(){return tr().memoizedState}function IN(t,e,n){var r=zi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},I1(t))A1(e,n);else if(n=s1(t,e,n,r),n!==null){var i=vn();hr(n,t,r,i),C1(n,e,r)}}function AN(t,e,n){var r=zi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(I1(t))A1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,pr(a,o)){var l=e.interleaved;l===null?(i.next=i,Iv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=s1(t,e,i,r),n!==null&&(i=vn(),hr(n,t,r,i),C1(n,e,r))}}function I1(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function A1(t,e){Cl=qf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function C1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pv(t,n)}}var Wf={readContext:er,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},CN={readContext:er,useCallback:function(t,e){return _r().memoizedState=[t,e===void 0?null:e],t},useContext:er,useEffect:Bw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,af(4194308,4,P1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return af(4194308,4,t,e)},useInsertionEffect:function(t,e){return af(4,2,t,e)},useMemo:function(t,e){var n=_r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IN.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=_r();return t={current:t},e.memoizedState=t},useState:$w,useDebugValue:Vv,useDeferredValue:function(t){return _r().memoizedState=t},useTransition:function(){var t=$w(!1),e=t[0];return t=RN.bind(null,t[1]),_r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=_r();if(Ze){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Lt===null)throw Error(Y(349));Us&30||p1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Bw(y1.bind(null,r,s,t),[t]),r.flags|=2048,uu(9,m1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_r(),e=Lt.identifierPrefix;if(Ze){var n=Kr,r=Wr;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=au++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kN={readContext:er,useCallback:T1,useContext:er,useEffect:Mv,useImperativeHandle:x1,useInsertionEffect:w1,useLayoutEffect:E1,useMemo:S1,useReducer:Dp,useRef:_1,useState:function(){return Dp(lu)},useDebugValue:Vv,useDeferredValue:function(t){var e=tr();return b1(e,xt.memoizedState,t)},useTransition:function(){var t=Dp(lu)[0],e=tr().memoizedState;return[t,e]},useMutableSource:d1,useSyncExternalStore:h1,useId:R1,unstable_isNewReconciler:!1},ON={readContext:er,useCallback:T1,useContext:er,useEffect:Mv,useImperativeHandle:x1,useInsertionEffect:w1,useLayoutEffect:E1,useMemo:S1,useReducer:Np,useRef:_1,useState:function(){return Np(lu)},useDebugValue:Vv,useDeferredValue:function(t){var e=tr();return xt===null?e.memoizedState=t:b1(e,xt.memoizedState,t)},useTransition:function(){var t=Np(lu)[0],e=tr().memoizedState;return[t,e]},useMutableSource:d1,useSyncExternalStore:h1,useId:R1,unstable_isNewReconciler:!1};function fa(t,e){try{var n="",r=e;do n+=oD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Lp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ry(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DN=typeof WeakMap=="function"?WeakMap:Map;function k1(t,e,n){n=Jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qf||(Qf=!0,Vy=r),Ry(t,e)},n}function O1(t,e,n){n=Jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ry(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ry(t,e),typeof r!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KN.bind(null,t,e,n),e.then(t,t))}function Hw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jr(-1,1),e.tag=2,$i(n,e,1))),n.lanes|=1),t)}var NN=di.ReactCurrentOwner,Tn=!1;function mn(t,e,n,r){e.child=t===null?c1(e,null,n,r):ua(e,t.child,n,r)}function Ww(t,e,n,r,i){n=n.render;var s=e.ref;return Xo(e,i),r=Nv(t,e,n,r,s,i),n=Lv(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(Ze&&n&&Pv(e),e.flags|=1,mn(t,e,r,i),e.child)}function Kw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!qv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,D1(t,e,s,r,i)):(t=ff(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:tu,n(o,r)&&t.ref===e.ref)return oi(t,e,i)}return e.flags|=1,t=Hi(s,r),t.ref=e.ref,t.return=e,e.child=t}function D1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(tu(s,r)&&t.ref===e.ref)if(Tn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Tn=!0);else return e.lanes=t.lanes,oi(t,e,i)}return Iy(t,e,n,r,i)}function N1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(jo,kn),kn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(jo,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(jo,kn),kn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(jo,kn),kn|=r;return mn(t,e,i,n),e.child}function L1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Iy(t,e,n,r,i){var s=bn(n)?js:an.current;return s=aa(e,s),Xo(e,i),n=Nv(t,e,n,r,s,i),r=Lv(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(Ze&&r&&Pv(e),e.flags|=1,mn(t,e,n,i),e.child)}function Qw(t,e,n,r,i){if(bn(n)){var s=!0;jf(e)}else s=!1;if(Xo(e,i),e.stateNode===null)lf(t,e),l1(e,n,r),by(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=er(u):(u=bn(n)?js:an.current,u=aa(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Fw(e,o,r,u),Si=!1;var h=e.memoizedState;o.state=h,zf(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Sn.current||Si?(typeof c=="function"&&(Sy(e,n,c,r),l=e.memoizedState),(a=Si||jw(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,o1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:or(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=er(l):(l=bn(n)?js:an.current,l=aa(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Fw(e,o,r,l),Si=!1,h=e.memoizedState,o.state=h,zf(e,r,o,i);var E=e.memoizedState;a!==f||h!==E||Sn.current||Si?(typeof g=="function"&&(Sy(e,n,g,r),E=e.memoizedState),(u=Si||jw(e,n,u,r,h,E,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ay(t,e,n,r,s,i)}function Ay(t,e,n,r,i,s){L1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Dw(e,n,!1),oi(t,e,s);r=e.stateNode,NN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ua(e,t.child,null,s),e.child=ua(e,null,a,s)):mn(t,e,a,s),e.memoizedState=r.state,i&&Dw(e,n,!0),e.child}function M1(t){var e=t.stateNode;e.pendingContext?Ow(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ow(t,e.context,!1),Cv(t,e.containerInfo)}function Gw(t,e,n,r,i){return la(),Tv(i),e.flags|=256,mn(t,e,n,r),e.child}var Cy={dehydrated:null,treeContext:null,retryLane:0};function ky(t){return{baseLanes:t,cachePool:null,transitions:null}}function V1(t,e,n){var r=e.pendingProps,i=nt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(nt,i&1),t===null)return xy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jd(o,r,0,null),t=Ls(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ky(n),e.memoizedState=Cy,t):jv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return LN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hi(a,s):(s=Ls(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ky(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Cy,r}return s=t.child,t=s.sibling,r=Hi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jv(t,e){return e=Jd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mc(t,e,n,r){return r!==null&&Tv(r),ua(e,t.child,null,n),t=jv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Lp(Error(Y(422))),Mc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Jd({mode:"visible",children:r.children},i,0,null),s=Ls(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ua(e,t.child,null,o),e.child.memoizedState=ky(o),e.memoizedState=Cy,s);if(!(e.mode&1))return Mc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Y(419)),r=Lp(s,r,void 0),Mc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Tn||a){if(r=Lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,si(t,i),hr(r,t,i,-1))}return Hv(),r=Lp(Error(Y(421))),Mc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,On=Ui(i.nextSibling),Nn=e,Ze=!0,ur=null,t!==null&&(Qn[Gn++]=Wr,Qn[Gn++]=Kr,Qn[Gn++]=Fs,Wr=t.id,Kr=t.overflow,Fs=e),e=jv(e,r.children),e.flags|=4096,e)}function Yw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ty(t.return,e,n)}function Mp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function j1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yw(t,n,e);else if(t.tag===19)Yw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mp(e,!0,n,null,s);break;case"together":Mp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Hi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MN(t,e,n){switch(e.tag){case 3:M1(e),la();break;case 5:f1(e);break;case 1:bn(e.type)&&jf(e);break;case 4:Cv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze($f,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?V1(t,e,n):(ze(nt,nt.current&1),t=oi(t,e,n),t!==null?t.sibling:null);ze(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return j1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,N1(t,e,n)}return oi(t,e,n)}var F1,Oy,U1,$1;F1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oy=function(){};U1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ps(Ir.current);var s=null;switch(n){case"input":i=ey(t,i),r=ey(t,r),s=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),s=[];break;case"textarea":i=ry(t,i),r=ry(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mf)}sy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ql.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};$1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Za(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function VN(t,e,n){var r=e.pendingProps;switch(xv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return bn(e.type)&&Vf(),Yt(e),null;case 3:return r=e.stateNode,ca(),Ge(Sn),Ge(an),Ov(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ur!==null&&(Uy(ur),ur=null))),Oy(t,e),Yt(e),null;case 5:kv(e);var i=Ps(ou.current);if(n=e.type,t!==null&&e.stateNode!=null)U1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Yt(e),null}if(t=Ps(Ir.current),Nc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Pr]=e,r[iu]=s,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<yl.length;i++)We(yl[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":sw(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":aw(r,s),We("invalid",r)}sy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Dc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Dc(r.textContent,a,t),i=["children",""+a]):Ql.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":Sc(r),ow(r,s,!0);break;case"textarea":Sc(r),lw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Mf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pr]=e,t[iu]=r,F1(t,e,!1,!1),e.stateNode=t;e:{switch(o=oy(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<yl.length;i++)We(yl[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":sw(t,r),i=ey(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),We("invalid",t);break;case"textarea":aw(t,r),i=ry(t,r),We("invalid",t);break;default:i=r}sy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gl(t,l):typeof l=="number"&&Gl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ql.hasOwnProperty(s)?l!=null&&s==="onScroll"&&We("scroll",t):l!=null&&lv(t,s,l,o))}switch(n){case"input":Sc(t),ow(t,r,!1);break;case"textarea":Sc(t),lw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ko(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)$1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Ps(ou.current),Ps(Ir.current),Nc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pr]=e,(s=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:Dc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=e,e.stateNode=r}return Yt(e),null;case 13:if(Ge(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&On!==null&&e.mode&1&&!(e.flags&128))i1(),la(),e.flags|=98560,s=!1;else if(s=Nc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[Pr]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),s=!1}else ur!==null&&(Uy(ur),ur=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?bt===0&&(bt=3):Hv())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return ca(),Oy(t,e),t===null&&nu(e.stateNode.containerInfo),Yt(e),null;case 10:return Rv(e.type._context),Yt(e),null;case 17:return bn(e.type)&&Vf(),Yt(e),null;case 19:if(Ge(nt),s=e.memoizedState,s===null)return Yt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Za(s,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hf(t),o!==null){for(e.flags|=128,Za(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(nt,nt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ht()>da&&(e.flags|=128,r=!0,Za(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Za(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ze)return Yt(e),null}else 2*ht()-s.renderingStartTime>da&&n!==1073741824&&(e.flags|=128,r=!0,Za(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ht(),e.sibling=null,n=nt.current,ze(nt,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return zv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function jN(t,e){switch(xv(e),e.tag){case 1:return bn(e.type)&&Vf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ca(),Ge(Sn),Ge(an),Ov(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kv(e),null;case 13:if(Ge(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(nt),null;case 4:return ca(),null;case 10:return Rv(e.type._context),null;case 22:case 23:return zv(),null;case 24:return null;default:return null}}var Vc=!1,en=!1,FN=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Vo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Dy(t,e,n){try{n()}catch(r){ct(t,e,r)}}var Xw=!1;function UN(t,e){if(yy=Df,t=qS(),Ev(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gy={focusedElem:t,selectionRange:n},Df=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,R=E.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?S:or(e.type,S),R);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(I){ct(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return E=Xw,Xw=!1,E}function kl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dy(e,n,s)}i=i.next}while(i!==r)}}function Yd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ny(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function B1(t){var e=t.alternate;e!==null&&(t.alternate=null,B1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pr],delete e[iu],delete e[wy],delete e[PN],delete e[xN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function z1(t){return t.tag===5||t.tag===3||t.tag===4}function Jw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ly(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mf));else if(r!==4&&(t=t.child,t!==null))for(Ly(t,e,n),t=t.sibling;t!==null;)Ly(t,e,n),t=t.sibling}function My(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(My(t,e,n),t=t.sibling;t!==null;)My(t,e,n),t=t.sibling}var Bt=null,lr=!1;function wi(t,e,n){for(n=n.child;n!==null;)H1(t,e,n),n=n.sibling}function H1(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Bd,n)}catch{}switch(n.tag){case 5:en||Vo(n,e);case 6:var r=Bt,i=lr;Bt=null,wi(t,e,n),Bt=r,lr=i,Bt!==null&&(lr?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(lr?(t=Bt,n=n.stateNode,t.nodeType===8?Ap(t.parentNode,n):t.nodeType===1&&Ap(t,n),Zl(t)):Ap(Bt,n.stateNode));break;case 4:r=Bt,i=lr,Bt=n.stateNode.containerInfo,lr=!0,wi(t,e,n),Bt=r,lr=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dy(n,e,o),i=i.next}while(i!==r)}wi(t,e,n);break;case 1:if(!en&&(Vo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}wi(t,e,n);break;case 21:wi(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,wi(t,e,n),en=r):wi(t,e,n);break;default:wi(t,e,n)}}function Zw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FN),e.forEach(function(r){var i=GN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,lr=!1;break e;case 3:Bt=a.stateNode.containerInfo,lr=!0;break e;case 4:Bt=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(Bt===null)throw Error(Y(160));H1(s,o,i),Bt=null,lr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q1(e,t),e=e.sibling}function q1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sr(e,t),vr(t),r&4){try{kl(3,t,t.return),Yd(3,t)}catch(S){ct(t,t.return,S)}try{kl(5,t,t.return)}catch(S){ct(t,t.return,S)}}break;case 1:sr(e,t),vr(t),r&512&&n!==null&&Vo(n,n.return);break;case 5:if(sr(e,t),vr(t),r&512&&n!==null&&Vo(n,n.return),t.flags&32){var i=t.stateNode;try{Gl(i,"")}catch(S){ct(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dS(i,s),oy(a,o);var u=oy(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?gS(i,f):c==="dangerouslySetInnerHTML"?mS(i,f):c==="children"?Gl(i,f):lv(i,c,f,u)}switch(a){case"input":ty(i,s);break;case"textarea":hS(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ko(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ko(i,!!s.multiple,s.defaultValue,!0):Ko(i,!!s.multiple,s.multiple?[]:"",!1))}i[iu]=s}catch(S){ct(t,t.return,S)}}break;case 6:if(sr(e,t),vr(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){ct(t,t.return,S)}}break;case 3:if(sr(e,t),vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zl(e.containerInfo)}catch(S){ct(t,t.return,S)}break;case 4:sr(e,t),vr(t);break;case 13:sr(e,t),vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($v=ht())),r&4&&Zw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(en=(u=en)||c,sr(e,t),en=u):sr(e,t),vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ne=t,c=t.child;c!==null;){for(f=ne=c;ne!==null;){switch(h=ne,g=h.child,h.tag){case 0:case 11:case 14:case 15:kl(4,h,h.return);break;case 1:Vo(h,h.return);var E=h.stateNode;if(typeof E.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){ct(r,n,S)}}break;case 5:Vo(h,h.return);break;case 22:if(h.memoizedState!==null){tE(f);continue}}g!==null?(g.return=h,ne=g):tE(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yS("display",o))}catch(S){ct(t,t.return,S)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){ct(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:sr(e,t),vr(t),r&4&&Zw(t);break;case 21:break;default:sr(e,t),vr(t)}}function vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(z1(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gl(i,""),r.flags&=-33);var s=Jw(t);My(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Jw(t);Ly(t,a,o);break;default:throw Error(Y(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $N(t,e,n){ne=t,W1(t)}function W1(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||en;a=Vc;var u=en;if(Vc=o,(en=l)&&!u)for(ne=i;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?nE(i):l!==null?(l.return=o,ne=l):nE(i);for(;s!==null;)ne=s,W1(s),s=s.sibling;ne=i,Vc=a,en=u}eE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):eE(t)}}function eE(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||Yd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:or(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Vw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Vw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Zl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}en||e.flags&512&&Ny(e)}catch(h){ct(e,e.return,h)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function tE(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function nE(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yd(4,e)}catch(l){ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ct(e,i,l)}}var s=e.return;try{Ny(e)}catch(l){ct(e,s,l)}break;case 5:var o=e.return;try{Ny(e)}catch(l){ct(e,o,l)}}}catch(l){ct(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var BN=Math.ceil,Kf=di.ReactCurrentDispatcher,Fv=di.ReactCurrentOwner,Jn=di.ReactCurrentBatchConfig,De=0,Lt=null,_t=null,qt=0,kn=0,jo=is(0),bt=0,cu=null,$s=0,Xd=0,Uv=0,Ol=null,Pn=null,$v=0,da=1/0,Br=null,Qf=!1,Vy=null,Bi=null,jc=!1,Ni=null,Gf=0,Dl=0,jy=null,uf=-1,cf=0;function vn(){return De&6?ht():uf!==-1?uf:uf=ht()}function zi(t){return t.mode&1?De&2&&qt!==0?qt&-qt:SN.transition!==null?(cf===0&&(cf=AS()),cf):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:MS(t.type)),t):1}function hr(t,e,n,r){if(50<Dl)throw Dl=0,jy=null,Error(Y(185));Mu(t,n,r),(!(De&2)||t!==Lt)&&(t===Lt&&(!(De&2)&&(Xd|=n),bt===4&&Ai(t,qt)),Rn(t,r),n===1&&De===0&&!(e.mode&1)&&(da=ht()+500,Kd&&ss()))}function Rn(t,e){var n=t.callbackNode;SD(t,e);var r=Of(t,t===Lt?qt:0);if(r===0)n!==null&&fw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fw(n),e===1)t.tag===0?TN(rE.bind(null,t)):t1(rE.bind(null,t)),wN(function(){!(De&6)&&ss()}),n=null;else{switch(CS(r)){case 1:n=hv;break;case 4:n=RS;break;case 16:n=kf;break;case 536870912:n=IS;break;default:n=kf}n=eb(n,K1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function K1(t,e){if(uf=-1,cf=0,De&6)throw Error(Y(327));var n=t.callbackNode;if(Jo()&&t.callbackNode!==n)return null;var r=Of(t,t===Lt?qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yf(t,r);else{e=r;var i=De;De|=2;var s=G1();(Lt!==t||qt!==e)&&(Br=null,da=ht()+500,Ns(t,e));do try{qN();break}catch(a){Q1(t,a)}while(1);bv(),Kf.current=s,De=i,_t!==null?e=0:(Lt=null,qt=0,e=bt)}if(e!==0){if(e===2&&(i=fy(t),i!==0&&(r=i,e=Fy(t,i))),e===1)throw n=cu,Ns(t,0),Ai(t,r),Rn(t,ht()),n;if(e===6)Ai(t,r);else{if(i=t.current.alternate,!(r&30)&&!zN(i)&&(e=Yf(t,r),e===2&&(s=fy(t),s!==0&&(r=s,e=Fy(t,s))),e===1))throw n=cu,Ns(t,0),Ai(t,r),Rn(t,ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:ms(t,Pn,Br);break;case 3:if(Ai(t,r),(r&130023424)===r&&(e=$v+500-ht(),10<e)){if(Of(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_y(ms.bind(null,t,Pn,Br),e);break}ms(t,Pn,Br);break;case 4:if(Ai(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BN(r/1960))-r,10<r){t.timeoutHandle=_y(ms.bind(null,t,Pn,Br),r);break}ms(t,Pn,Br);break;case 5:ms(t,Pn,Br);break;default:throw Error(Y(329))}}}return Rn(t,ht()),t.callbackNode===n?K1.bind(null,t):null}function Fy(t,e){var n=Ol;return t.current.memoizedState.isDehydrated&&(Ns(t,e).flags|=256),t=Yf(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&Uy(e)),t}function Uy(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function zN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ai(t,e){for(e&=~Uv,e&=~Xd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function rE(t){if(De&6)throw Error(Y(327));Jo();var e=Of(t,0);if(!(e&1))return Rn(t,ht()),null;var n=Yf(t,e);if(t.tag!==0&&n===2){var r=fy(t);r!==0&&(e=r,n=Fy(t,r))}if(n===1)throw n=cu,Ns(t,0),Ai(t,e),Rn(t,ht()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ms(t,Pn,Br),Rn(t,ht()),null}function Bv(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(da=ht()+500,Kd&&ss())}}function Bs(t){Ni!==null&&Ni.tag===0&&!(De&6)&&Jo();var e=De;De|=1;var n=Jn.transition,r=Ve;try{if(Jn.transition=null,Ve=1,t)return t()}finally{Ve=r,Jn.transition=n,De=e,!(De&6)&&ss()}}function zv(){kn=jo.current,Ge(jo)}function Ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_N(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(xv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vf();break;case 3:ca(),Ge(Sn),Ge(an),Ov();break;case 5:kv(r);break;case 4:ca();break;case 13:Ge(nt);break;case 19:Ge(nt);break;case 10:Rv(r.type._context);break;case 22:case 23:zv()}n=n.return}if(Lt=t,_t=t=Hi(t.current,null),qt=kn=e,bt=0,cu=null,Uv=Xd=$s=0,Pn=Ol=null,Es!==null){for(e=0;e<Es.length;e++)if(n=Es[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Es=null}return t}function Q1(t,e){do{var n=_t;try{if(bv(),of.current=Wf,qf){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qf=!1}if(Us=0,Dt=xt=ot=null,Cl=!1,au=0,Fv.current=null,n===null||n.return===null){bt=1,cu=e,_t=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Hw(o);if(g!==null){g.flags&=-257,qw(g,o,a,s,e),g.mode&1&&zw(s,u,e),e=g,l=u;var E=e.updateQueue;if(E===null){var S=new Set;S.add(l),e.updateQueue=S}else E.add(l);break e}else{if(!(e&1)){zw(s,u,e),Hv();break e}l=Error(Y(426))}}else if(Ze&&a.mode&1){var R=Hw(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),qw(R,o,a,s,e),Tv(fa(l,a));break e}}s=l=fa(l,a),bt!==4&&(bt=2),Ol===null?Ol=[s]:Ol.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=k1(s,l,e);Mw(s,v);break e;case 1:a=l;var _=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Bi===null||!Bi.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=O1(s,a,e);Mw(s,I);break e}}s=s.return}while(s!==null)}X1(n)}catch(T){e=T,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(1)}function G1(){var t=Kf.current;return Kf.current=Wf,t===null?Wf:t}function Hv(){(bt===0||bt===3||bt===2)&&(bt=4),Lt===null||!($s&268435455)&&!(Xd&268435455)||Ai(Lt,qt)}function Yf(t,e){var n=De;De|=2;var r=G1();(Lt!==t||qt!==e)&&(Br=null,Ns(t,e));do try{HN();break}catch(i){Q1(t,i)}while(1);if(bv(),De=n,Kf.current=r,_t!==null)throw Error(Y(261));return Lt=null,qt=0,bt}function HN(){for(;_t!==null;)Y1(_t)}function qN(){for(;_t!==null&&!yD();)Y1(_t)}function Y1(t){var e=Z1(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?X1(t):_t=e,Fv.current=null}function X1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jN(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,_t=null;return}}else if(n=VN(n,e,kn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);bt===0&&(bt=5)}function ms(t,e,n){var r=Ve,i=Jn.transition;try{Jn.transition=null,Ve=1,WN(t,e,n,r)}finally{Jn.transition=i,Ve=r}return null}function WN(t,e,n,r){do Jo();while(Ni!==null);if(De&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(bD(t,s),t===Lt&&(_t=Lt=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jc||(jc=!0,eb(kf,function(){return Jo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Jn.transition,Jn.transition=null;var o=Ve;Ve=1;var a=De;De|=4,Fv.current=null,UN(t,n),q1(n,t),dN(gy),Df=!!yy,gy=yy=null,t.current=n,$N(n),gD(),De=a,Ve=o,Jn.transition=s}else t.current=n;if(jc&&(jc=!1,Ni=t,Gf=i),s=t.pendingLanes,s===0&&(Bi=null),wD(n.stateNode),Rn(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qf)throw Qf=!1,t=Vy,Vy=null,t;return Gf&1&&t.tag!==0&&Jo(),s=t.pendingLanes,s&1?t===jy?Dl++:(Dl=0,jy=t):Dl=0,ss(),null}function Jo(){if(Ni!==null){var t=CS(Gf),e=Jn.transition,n=Ve;try{if(Jn.transition=null,Ve=16>t?16:t,Ni===null)var r=!1;else{if(t=Ni,Ni=null,Gf=0,De&6)throw Error(Y(331));var i=De;for(De|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var c=ne;switch(c.tag){case 0:case 11:case 15:kl(8,c,s)}var f=c.child;if(f!==null)f.return=c,ne=f;else for(;ne!==null;){c=ne;var h=c.sibling,g=c.return;if(B1(c),c===u){ne=null;break}if(h!==null){h.return=g,ne=h;break}ne=g}}}var E=s.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var R=S.sibling;S.sibling=null,S=R}while(S!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ne=v;break e}ne=s.return}}var _=t.current;for(ne=_;ne!==null;){o=ne;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,ne=P;else e:for(o=_;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yd(9,a)}}catch(T){ct(a,a.return,T)}if(a===o){ne=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ne=I;break e}ne=a.return}}if(De=i,ss(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Bd,t)}catch{}r=!0}return r}finally{Ve=n,Jn.transition=e}}return!1}function iE(t,e,n){e=fa(n,e),e=k1(t,e,1),t=$i(t,e,1),e=vn(),t!==null&&(Mu(t,1,e),Rn(t,e))}function ct(t,e,n){if(t.tag===3)iE(t,t,n);else for(;e!==null;){if(e.tag===3){iE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bi===null||!Bi.has(r))){t=fa(n,t),t=O1(e,t,1),e=$i(e,t,1),t=vn(),e!==null&&(Mu(e,1,t),Rn(e,t));break}}e=e.return}}function KN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vn(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(qt&n)===n&&(bt===4||bt===3&&(qt&130023424)===qt&&500>ht()-$v?Ns(t,0):Uv|=n),Rn(t,e)}function J1(t,e){e===0&&(t.mode&1?(e=Ic,Ic<<=1,!(Ic&130023424)&&(Ic=4194304)):e=1);var n=vn();t=si(t,e),t!==null&&(Mu(t,e,n),Rn(t,n))}function QN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),J1(t,n)}function GN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),J1(t,n)}var Z1;Z1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)Tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tn=!1,MN(t,e,n);Tn=!!(t.flags&131072)}else Tn=!1,Ze&&e.flags&1048576&&n1(e,Uf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lf(t,e),t=e.pendingProps;var i=aa(e,an.current);Xo(e,n),i=Nv(null,e,r,t,i,n);var s=Lv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(s=!0,jf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Av(e),i.updater=Qd,e.stateNode=i,i._reactInternals=e,by(e,r,t,n),e=Ay(null,e,r,!0,s,n)):(e.tag=0,Ze&&s&&Pv(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XN(r),t=or(r,t),i){case 0:e=Iy(null,e,r,t,n);break e;case 1:e=Qw(null,e,r,t,n);break e;case 11:e=Ww(null,e,r,t,n);break e;case 14:e=Kw(null,e,r,or(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),Iy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),Qw(t,e,r,i,n);case 3:e:{if(M1(e),t===null)throw Error(Y(387));r=e.pendingProps,s=e.memoizedState,i=s.element,o1(t,e),zf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fa(Error(Y(423)),e),e=Gw(t,e,r,n,i);break e}else if(r!==i){i=fa(Error(Y(424)),e),e=Gw(t,e,r,n,i);break e}else for(On=Ui(e.stateNode.containerInfo.firstChild),Nn=e,Ze=!0,ur=null,n=c1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),r===i){e=oi(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return f1(e),t===null&&xy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vy(r,i)?o=null:s!==null&&vy(r,s)&&(e.flags|=32),L1(t,e),mn(t,e,o,n),e.child;case 6:return t===null&&xy(e),null;case 13:return V1(t,e,n);case 4:return Cv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ua(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),Ww(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze($f,r._currentValue),r._currentValue=o,s!==null)if(pr(s.value,o)){if(s.children===i.children&&!Sn.current){e=oi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Jr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ty(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ty(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xo(e,n),i=er(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=or(r,e.pendingProps),i=or(r.type,i),Kw(t,e,r,i,n);case 15:return D1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:or(r,i),lf(t,e),e.tag=1,bn(r)?(t=!0,jf(e)):t=!1,Xo(e,n),l1(e,r,i),by(e,r,i,n),Ay(null,e,r,!0,t,n);case 19:return j1(t,e,n);case 22:return N1(t,e,n)}throw Error(Y(156,e.tag))};function eb(t,e){return bS(t,e)}function YN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,n,r){return new YN(t,e,n,r)}function qv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XN(t){if(typeof t=="function")return qv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cv)return 11;if(t===fv)return 14}return 2}function Hi(t,e){var n=t.alternate;return n===null?(n=Xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ff(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")qv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Io:return Ls(n.children,i,s,e);case uv:o=8,i|=8;break;case Ym:return t=Xn(12,n,e,i|2),t.elementType=Ym,t.lanes=s,t;case Xm:return t=Xn(13,n,e,i),t.elementType=Xm,t.lanes=s,t;case Jm:return t=Xn(19,n,e,i),t.elementType=Jm,t.lanes=s,t;case uS:return Jd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aS:o=10;break e;case lS:o=9;break e;case cv:o=11;break e;case fv:o=14;break e;case Ti:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ls(t,e,n,r){return t=Xn(7,t,r,e),t.lanes=n,t}function Jd(t,e,n,r){return t=Xn(22,t,r,e),t.elementType=uS,t.lanes=n,t.stateNode={isHidden:!1},t}function Vp(t,e,n){return t=Xn(6,t,null,e),t.lanes=n,t}function jp(t,e,n){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wv(t,e,n,r,i,s,o,a,l){return t=new JN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Av(s),t}function ZN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tb(t){if(!t)return Ji;t=t._reactInternals;e:{if(io(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(bn(n))return e1(t,n,e)}return e}function nb(t,e,n,r,i,s,o,a,l){return t=Wv(n,r,!0,t,i,s,o,a,l),t.context=tb(null),n=t.current,r=vn(),i=zi(n),s=Jr(r,i),s.callback=e??null,$i(n,s,i),t.current.lanes=i,Mu(t,i,r),Rn(t,r),t}function Zd(t,e,n,r){var i=e.current,s=vn(),o=zi(i);return n=tb(n),e.context===null?e.context=n:e.pendingContext=n,e=Jr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$i(i,e,o),t!==null&&(hr(t,i,o,s),sf(t,i,o)),o}function Xf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kv(t,e){sE(t,e),(t=t.alternate)&&sE(t,e)}function e2(){return null}var rb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qv(t){this._internalRoot=t}eh.prototype.render=Qv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Zd(t,e,null,null)};eh.prototype.unmount=Qv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bs(function(){Zd(null,t,null,null)}),e[ii]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var e=DS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ii.length&&e!==0&&e<Ii[n].priority;n++);Ii.splice(n,0,t),n===0&&LS(t)}};function Gv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oE(){}function t2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Xf(o);s.call(u)}}var o=nb(e,r,t,0,null,!1,!1,"",oE);return t._reactRootContainer=o,t[ii]=o.current,nu(t.nodeType===8?t.parentNode:t),Bs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Xf(l);a.call(u)}}var l=Wv(t,0,!1,null,null,!1,!1,"",oE);return t._reactRootContainer=l,t[ii]=l.current,nu(t.nodeType===8?t.parentNode:t),Bs(function(){Zd(e,l,n,r)}),l}function nh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Xf(o);a.call(l)}}Zd(e,o,t,i)}else o=t2(n,e,t,i,r);return Xf(o)}kS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ml(e.pendingLanes);n!==0&&(pv(e,n|1),Rn(e,ht()),!(De&6)&&(da=ht()+500,ss()))}break;case 13:Bs(function(){var r=si(t,1);if(r!==null){var i=vn();hr(r,t,1,i)}}),Kv(t,1)}};mv=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var n=vn();hr(e,t,134217728,n)}Kv(t,134217728)}};OS=function(t){if(t.tag===13){var e=zi(t),n=si(t,e);if(n!==null){var r=vn();hr(n,t,e,r)}Kv(t,e)}};DS=function(){return Ve};NS=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};ly=function(t,e,n){switch(e){case"input":if(ty(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wd(r);if(!i)throw Error(Y(90));fS(r),ty(r,i)}}}break;case"textarea":hS(t,n);break;case"select":e=n.value,e!=null&&Ko(t,!!n.multiple,e,!1)}};wS=Bv;ES=Bs;var n2={usingClientEntryPoint:!1,Events:[ju,Oo,Wd,vS,_S,Bv]},el={findFiberByHostInstance:ws,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},r2={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TS(t),t===null?null:t.stateNode},findFiberByHostInstance:el.findFiberByHostInstance||e2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{Bd=Fc.inject(r2),Rr=Fc}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n2;Fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gv(e))throw Error(Y(200));return ZN(t,e,null,n)};Fn.createRoot=function(t,e){if(!Gv(t))throw Error(Y(299));var n=!1,r="",i=rb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wv(t,1,!1,null,null,n,!1,r,i),t[ii]=e.current,nu(t.nodeType===8?t.parentNode:t),new Qv(e)};Fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=TS(e),t=t===null?null:t.stateNode,t};Fn.flushSync=function(t){return Bs(t)};Fn.hydrate=function(t,e,n){if(!th(e))throw Error(Y(200));return nh(null,t,e,!0,n)};Fn.hydrateRoot=function(t,e,n){if(!Gv(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nb(e,null,t,1,n??null,i,!1,s,o),t[ii]=e.current,nu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new eh(e)};Fn.render=function(t,e,n){if(!th(e))throw Error(Y(200));return nh(null,t,e,!1,n)};Fn.unmountComponentAtNode=function(t){if(!th(t))throw Error(Y(40));return t._reactRootContainer?(Bs(function(){nh(null,null,t,!1,function(){t._reactRootContainer=null,t[ii]=null})}),!0):!1};Fn.unstable_batchedUpdates=Bv;Fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!th(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return nh(t,e,n,!1,r)};Fn.version="18.2.0-next-9e3b772b8-20220608";function ib(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ib)}catch(t){console.error(t)}}ib(),nS.exports=Fn;var zs=nS.exports,aE=zs;Qm.createRoot=aE.createRoot,Qm.hydrateRoot=aE.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Le(){return Le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Le.apply(this,arguments)}var yt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yt||(yt={}));const lE="popstate";function i2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return fu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hs(i)}return o2(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ha(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s2(){return Math.random().toString(36).substr(2,8)}function uE(t,e){return{usr:t.state,key:t.key,idx:e}}function fu(t,e,n,r){return n===void 0&&(n=null),Le({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hi(e):e,{state:n,key:e&&e.key||r||s2()})}function Hs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function o2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=yt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Le({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=yt.Pop;let R=c(),v=R==null?null:R-u;u=R,l&&l({action:a,location:S.location,delta:v})}function h(R,v){a=yt.Push;let _=fu(S.location,R,v);n&&n(_,R),u=c()+1;let P=uE(_,u),I=S.createHref(_);try{o.pushState(P,"",I)}catch{i.location.assign(I)}s&&l&&l({action:a,location:S.location,delta:1})}function g(R,v){a=yt.Replace;let _=fu(S.location,R,v);n&&n(_,R),u=c();let P=uE(_,u),I=S.createHref(_);o.replaceState(P,"",I),s&&l&&l({action:a,location:S.location,delta:0})}function E(R){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof R=="string"?R:Hs(R);return be(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let S={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(lE,f),l=R,()=>{i.removeEventListener(lE,f),l=null}},createHref(R){return e(i,R)},createURL:E,encodeLocation(R){let v=E(R);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:g,go(R){return o.go(R)}};return S}var Pt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pt||(Pt={}));const a2=new Set(["lazy","caseSensitive","path","id","index","children"]);function l2(t){return t.index===!0}function $y(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(be(i.index!==!0||!i.children,"Cannot specify children on an index route"),be(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),l2(i)){let l=Le({},i,e(i),{id:a});return r[a]=l,l}else{let l=Le({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=$y(i.children,e,o,r)),l}})}function Fo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?hi(e):e,i=Na(r.pathname||"/",n);if(i==null)return null;let s=sb(t);u2(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=v2(s[a],E2(i));return o}function sb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Zr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sb(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:y2(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ob(s.path))i(s,o,l)}),e}function ob(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ob(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function u2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:g2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const c2=/^:\w+$/,f2=3,d2=2,h2=1,p2=10,m2=-2,cE=t=>t==="*";function y2(t,e){let n=t.split("/"),r=n.length;return n.some(cE)&&(r+=m2),e&&(r+=d2),n.filter(i=>!cE(i)).reduce((i,s)=>i+(c2.test(s)?f2:s===""?h2:p2),r)}function g2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function v2(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=_2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Zr([i,c.pathname]),pathnameBase:S2(Zr([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Zr([i,c.pathnameBase]))}return s}function _2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=w2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let h=a[f]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=P2(a[f]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function w2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ha(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function E2(t){try{return decodeURI(t)}catch(e){return ha(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function P2(t,e){try{return decodeURIComponent(t)}catch(n){return ha(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Na(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function x2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?hi(t):t;return{pathname:n?n.startsWith("/")?n:T2(n,e):e,search:b2(r),hash:R2(i)}}function T2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=hi(t):(i=Le({},t),be(!i.pathname||!i.pathname.includes("?"),Fp("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),Fp("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),Fp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=x2(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Zr=t=>t.join("/").replace(/\/\/+/g,"/"),S2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),b2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,I2=function(e,n){n===void 0&&(n={});let r=typeof n=="number"?{status:n}:n,i=new Headers(r.headers);return i.has("Content-Type")||i.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),Le({},r,{headers:i}))};class Xv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ab(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lb=["post","put","patch","delete"],A2=new Set(lb),C2=["get",...lb],k2=new Set(C2),O2=new Set([301,302,303,307,308]),D2=new Set([307,308]),Up={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},N2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fE={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L2=!cb,M2=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function V2(t){be(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e;if(t.mapRouteProperties)e=t.mapRouteProperties;else if(t.detectErrorBoundary){let z=t.detectErrorBoundary;e=H=>({hasErrorBoundary:z(H)})}else e=M2;let n={},r=$y(t.routes,e,void 0,n),i,s=t.basename||"/",o=Le({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),a=null,l=new Set,u=null,c=null,f=null,h=t.hydrationData!=null,g=Fo(r,t.history.location,s),E=null;if(g==null){let z=ar(404,{pathname:t.history.location.pathname}),{matches:H,route:K}=vE(r);g=H,E={[K.id]:z}}let S=!g.some(z=>z.route.lazy)&&(!g.some(z=>z.route.loader)||t.hydrationData!=null),R,v={historyAction:t.history.action,location:t.history.location,matches:g,initialized:S,navigation:Up,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},_=yt.Pop,P=!1,I,T=!1,b=!1,w=[],d=[],y=new Map,p=0,x=-1,A=new Map,O=new Set,C=new Map,j=new Map,B=new Map,F=!1;function k(){return a=t.history.listen(z=>{let{action:H,location:K,delta:re}=z;if(F){F=!1;return}ha(B.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=$e({currentLocation:v.location,nextLocation:K,historyAction:H});if(le&&re!=null){F=!0,t.history.go(re*-1),ae(le,{state:"blocked",location:K,proceed(){ae(le,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),t.history.go(re)},reset(){X(le),D({blockers:new Map(R.state.blockers)})}});return}return ue(H,K)}),v.initialized||ue(yt.Pop,v.location),R}function M(){a&&a(),l.clear(),I&&I.abort(),v.fetchers.forEach((z,H)=>ir(H)),v.blockers.forEach((z,H)=>X(H))}function L(z){return l.add(z),()=>l.delete(z)}function D(z){v=Le({},v,z),l.forEach(H=>H(v))}function U(z,H){var K,re;let le=v.actionData!=null&&v.navigation.formMethod!=null&&zr(v.navigation.formMethod)&&v.navigation.state==="loading"&&((K=z.state)==null?void 0:K._isRedirect)!==!0,ge;H.actionData?Object.keys(H.actionData).length>0?ge=H.actionData:ge=null:le?ge=v.actionData:ge=null;let xe=H.loaderData?gE(v.loaderData,H.loaderData,H.matches||[],H.errors):v.loaderData;for(let[ce]of B)X(ce);let me=P===!0||v.navigation.formMethod!=null&&zr(v.navigation.formMethod)&&((re=z.state)==null?void 0:re._isRedirect)!==!0;i&&(r=i,i=void 0),D(Le({},H,{actionData:ge,loaderData:xe,historyAction:_,location:z,initialized:!0,navigation:Up,revalidation:"idle",restoreScrollPosition:mo(z,H.matches||v.matches),preventScrollReset:me,blockers:new Map(v.blockers)})),T||_===yt.Pop||(_===yt.Push?t.history.push(z,z.state):_===yt.Replace&&t.history.replace(z,z.state)),_=yt.Pop,P=!1,T=!1,b=!1,w=[],d=[]}async function te(z,H){if(typeof z=="number"){t.history.go(z);return}let K=By(v.location,v.matches,s,o.v7_prependBasename,z,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:re,submission:le,error:ge}=dE(o.v7_normalizeFormMethod,!1,K,H),xe=v.location,me=fu(v.location,re,H&&H.state);me=Le({},me,t.history.encodeLocation(me));let ce=H&&H.replace!=null?H.replace:void 0,Ne=yt.Push;ce===!0?Ne=yt.Replace:ce===!1||le!=null&&zr(le.formMethod)&&le.formAction===v.location.pathname+v.location.search&&(Ne=yt.Replace);let Fe=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Qt=$e({currentLocation:xe,nextLocation:me,historyAction:Ne});if(Qt){ae(Qt,{state:"blocked",location:me,proceed(){ae(Qt,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),te(z,H)},reset(){X(Qt),D({blockers:new Map(v.blockers)})}});return}return await ue(Ne,me,{submission:le,pendingError:ge,preventScrollReset:Fe,replace:H&&H.replace})}function J(){if(Fr(),D({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){ue(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}ue(_||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function ue(z,H,K){I&&I.abort(),I=null,_=z,T=(K&&K.startUninterruptedRevalidation)===!0,sp(v.location,v.matches),P=(K&&K.preventScrollReset)===!0;let re=i||r,le=K&&K.overrideNavigation,ge=Fo(re,H,s);if(!ge){let Ct=ar(404,{pathname:H.pathname}),{matches:kt,route:Bn}=vE(re);Be(),U(H,{matches:kt,loaderData:{},errors:{[Bn.id]:Ct}});return}if(v.initialized&&B2(v.location,H)&&!(K&&K.submission&&zr(K.submission.formMethod))){U(H,{matches:ge});return}I=new AbortController;let xe=nl(t.history,H,I.signal,K&&K.submission),me,ce;if(K&&K.pendingError)ce={[Uo(ge).route.id]:K.pendingError};else if(K&&K.submission&&zr(K.submission.formMethod)){let Ct=await Ee(xe,H,K.submission,ge,{replace:K.replace});if(Ct.shortCircuited)return;me=Ct.pendingActionData,ce=Ct.pendingActionError,le=Le({state:"loading",location:H},K.submission),xe=new Request(xe.url,{signal:xe.signal})}let{shortCircuited:Ne,loaderData:Fe,errors:Qt}=await Te(xe,H,ge,le,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,me,ce);Ne||(I=null,U(H,Le({matches:ge},me?{actionData:me}:{},{loaderData:Fe,errors:Qt})))}async function Ee(z,H,K,re,le){Fr();let ge=Le({state:"submitting",location:H},K);D({navigation:ge});let xe,me=zy(re,H);if(!me.route.action&&!me.route.lazy)xe={type:Pt.error,error:ar(405,{method:z.method,pathname:H.pathname,routeId:me.route.id})};else if(xe=await tl("action",z,me,re,n,e,s),z.signal.aborted)return{shortCircuited:!0};if(Zo(xe)){let ce;return le&&le.replace!=null?ce=le.replace:ce=xe.location===v.location.pathname+v.location.search,await At(v,xe,{submission:K,replace:ce}),{shortCircuited:!0}}if(Nl(xe)){let ce=Uo(re,me.route.id);return(le&&le.replace)!==!0&&(_=yt.Push),{pendingActionData:{},pendingActionError:{[ce.route.id]:xe.error}}}if(xs(xe))throw ar(400,{type:"defer-action"});return{pendingActionData:{[me.route.id]:xe.data}}}async function Te(z,H,K,re,le,ge,xe,me,ce){let Ne=re;Ne||(Ne=Le({state:"loading",location:H,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},le));let Fe=le||ge?le||ge:Ne.formMethod&&Ne.formAction&&Ne.formData&&Ne.formEncType?{formMethod:Ne.formMethod,formAction:Ne.formAction,formData:Ne.formData,formEncType:Ne.formEncType}:void 0,Qt=i||r,[Ct,kt]=hE(t.history,v,K,Fe,H,b,w,d,C,Qt,s,me,ce);if(Be(tt=>!(K&&K.some(zn=>zn.route.id===tt))||Ct&&Ct.some(zn=>zn.route.id===tt)),Ct.length===0&&kt.length===0){let tt=q();return U(H,Le({matches:K,loaderData:{},errors:ce||null},me?{actionData:me}:{},tt?{fetchers:new Map(v.fetchers)}:{})),{shortCircuited:!0}}if(!T){kt.forEach(zn=>{let yo=v.fetchers.get(zn.key),cp={state:"loading",data:yo&&yo.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(zn.key,cp)});let tt=me||v.actionData;D(Le({navigation:Ne},tt?Object.keys(tt).length===0?{actionData:null}:{actionData:tt}:{},kt.length>0?{fetchers:new Map(v.fetchers)}:{}))}x=++p,kt.forEach(tt=>{tt.controller&&y.set(tt.key,tt.controller)});let Bn=()=>kt.forEach(tt=>V(tt.key));I&&I.signal.addEventListener("abort",Bn);let{results:Wa,loaderResults:op,fetcherResults:wc}=await En(v.matches,K,Ct,kt,z);if(z.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Bn),kt.forEach(tt=>y.delete(tt.key));let _i=_E(Wa);if(_i)return await At(v,_i,{replace:xe}),{shortCircuited:!0};let{loaderData:Ec,errors:ap}=yE(v,K,Ct,op,ce,kt,wc,j);j.forEach((tt,zn)=>{tt.subscribe(yo=>{(yo||tt.done)&&j.delete(zn)})});let lp=q(),up=ie(x),Pc=lp||up||kt.length>0;return Le({loaderData:Ec,errors:ap},Pc?{fetchers:new Map(v.fetchers)}:{})}function Se(z){return v.fetchers.get(z)||N2}function He(z,H,K,re){if(L2)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");y.has(z)&&V(z);let le=i||r,ge=By(v.location,v.matches,s,o.v7_prependBasename,K,H,re==null?void 0:re.relative),xe=Fo(le,ge,s);if(!xe){gr(z,H,ar(404,{pathname:ge}));return}let{path:me,submission:ce}=dE(o.v7_normalizeFormMethod,!0,ge,re),Ne=zy(xe,me);if(P=(re&&re.preventScrollReset)===!0,ce&&zr(ce.formMethod)){qe(z,H,me,Ne,xe,ce);return}C.set(z,{routeId:H,path:me}),Xe(z,H,me,Ne,xe,ce)}async function qe(z,H,K,re,le,ge){if(Fr(),C.delete(z),!re.route.action&&!re.route.lazy){let Cn=ar(405,{method:ge.formMethod,pathname:K,routeId:H});gr(z,H,Cn);return}let xe=v.fetchers.get(z),me=Le({state:"submitting"},ge,{data:xe&&xe.data," _hasFetcherDoneAnything ":!0});v.fetchers.set(z,me),D({fetchers:new Map(v.fetchers)});let ce=new AbortController,Ne=nl(t.history,K,ce.signal,ge);y.set(z,ce);let Fe=await tl("action",Ne,re,le,n,e,s);if(Ne.signal.aborted){y.get(z)===ce&&y.delete(z);return}if(Zo(Fe)){y.delete(z),O.add(z);let Cn=Le({state:"loading"},ge,{data:void 0," _hasFetcherDoneAnything ":!0});return v.fetchers.set(z,Cn),D({fetchers:new Map(v.fetchers)}),At(v,Fe,{submission:ge,isFetchActionRedirect:!0})}if(Nl(Fe)){gr(z,H,Fe.error);return}if(xs(Fe))throw ar(400,{type:"defer-action"});let Qt=v.navigation.location||v.location,Ct=nl(t.history,Qt,ce.signal),kt=i||r,Bn=v.navigation.state!=="idle"?Fo(kt,v.navigation.location,s):v.matches;be(Bn,"Didn't find any matches after fetcher action");let Wa=++p;A.set(z,Wa);let op=Le({state:"loading",data:Fe.data},ge,{" _hasFetcherDoneAnything ":!0});v.fetchers.set(z,op);let[wc,_i]=hE(t.history,v,Bn,ge,Qt,b,w,d,C,kt,s,{[re.route.id]:Fe.data},void 0);_i.filter(Cn=>Cn.key!==z).forEach(Cn=>{let fp=Cn.key,J_=v.fetchers.get(fp),OO={state:"loading",data:J_&&J_.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(fp,OO),Cn.controller&&y.set(fp,Cn.controller)}),D({fetchers:new Map(v.fetchers)});let Ec=()=>_i.forEach(Cn=>V(Cn.key));ce.signal.addEventListener("abort",Ec);let{results:ap,loaderResults:lp,fetcherResults:up}=await En(v.matches,Bn,wc,_i,Ct);if(ce.signal.aborted)return;ce.signal.removeEventListener("abort",Ec),A.delete(z),y.delete(z),_i.forEach(Cn=>y.delete(Cn.key));let Pc=_E(ap);if(Pc)return At(v,Pc);let{loaderData:tt,errors:zn}=yE(v,v.matches,wc,lp,void 0,_i,up,j),yo={state:"idle",data:Fe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(z,yo);let cp=ie(Wa);v.navigation.state==="loading"&&Wa>x?(be(_,"Expected pending action"),I&&I.abort(),U(v.navigation.location,{matches:Bn,loaderData:tt,errors:zn,fetchers:new Map(v.fetchers)})):(D(Le({errors:zn,loaderData:gE(v.loaderData,tt,Bn,zn)},cp?{fetchers:new Map(v.fetchers)}:{})),b=!1)}async function Xe(z,H,K,re,le,ge){let xe=v.fetchers.get(z),me=Le({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ge,{data:xe&&xe.data," _hasFetcherDoneAnything ":!0});v.fetchers.set(z,me),D({fetchers:new Map(v.fetchers)});let ce=new AbortController,Ne=nl(t.history,K,ce.signal);y.set(z,ce);let Fe=await tl("loader",Ne,re,le,n,e,s);if(xs(Fe)&&(Fe=await pb(Fe,Ne.signal,!0)||Fe),y.get(z)===ce&&y.delete(z),Ne.signal.aborted)return;if(Zo(Fe)){O.add(z),await At(v,Fe);return}if(Nl(Fe)){let Ct=Uo(v.matches,H);v.fetchers.delete(z),D({fetchers:new Map(v.fetchers),errors:{[Ct.route.id]:Fe.error}});return}be(!xs(Fe),"Unhandled fetcher deferred data");let Qt={state:"idle",data:Fe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(z,Qt),D({fetchers:new Map(v.fetchers)})}async function At(z,H,K){var re;let{submission:le,replace:ge,isFetchActionRedirect:xe}=K===void 0?{}:K;H.revalidate&&(b=!0);let me=fu(z.location,H.location,Le({_isRedirect:!0},xe?{_isFetchActionRedirect:!0}:{}));if(be(me,"Expected a location on the redirect navigation"),ub.test(H.location)&&cb&&typeof((re=window)==null?void 0:re.location)<"u"){let kt=t.history.createURL(H.location),Bn=Na(kt.pathname,s)==null;if(window.location.origin!==kt.origin||Bn){ge?window.location.replace(H.location):window.location.assign(H.location);return}}I=null;let ce=ge===!0?yt.Replace:yt.Push,{formMethod:Ne,formAction:Fe,formEncType:Qt,formData:Ct}=z.navigation;!le&&Ne&&Fe&&Ct&&Qt&&(le={formMethod:Ne,formAction:Fe,formEncType:Qt,formData:Ct}),D2.has(H.status)&&le&&zr(le.formMethod)?await ue(ce,me,{submission:Le({},le,{formAction:H.location}),preventScrollReset:P}):xe?await ue(ce,me,{overrideNavigation:{state:"loading",location:me,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:le,preventScrollReset:P}):await ue(ce,me,{overrideNavigation:{state:"loading",location:me,formMethod:le?le.formMethod:void 0,formAction:le?le.formAction:void 0,formEncType:le?le.formEncType:void 0,formData:le?le.formData:void 0},preventScrollReset:P})}async function En(z,H,K,re,le){let ge=await Promise.all([...K.map(ce=>tl("loader",le,ce,H,n,e,s)),...re.map(ce=>ce.matches&&ce.match&&ce.controller?tl("loader",nl(t.history,ce.path,ce.controller.signal),ce.match,ce.matches,n,e,s):{type:Pt.error,error:ar(404,{pathname:ce.path})})]),xe=ge.slice(0,K.length),me=ge.slice(K.length);return await Promise.all([wE(z,K,xe,xe.map(()=>le.signal),!1,v.loaderData),wE(z,re.map(ce=>ce.match),me,re.map(ce=>ce.controller?ce.controller.signal:null),!0)]),{results:ge,loaderResults:xe,fetcherResults:me}}function Fr(){b=!0,w.push(...Be()),C.forEach((z,H)=>{y.has(H)&&(d.push(H),V(H))})}function gr(z,H,K){let re=Uo(v.matches,H);ir(z),D({errors:{[re.route.id]:K},fetchers:new Map(v.fetchers)})}function ir(z){y.has(z)&&V(z),C.delete(z),A.delete(z),O.delete(z),v.fetchers.delete(z)}function V(z){let H=y.get(z);be(H,"Expected fetch controller: "+z),H.abort(),y.delete(z)}function $(z){for(let H of z){let re={state:"idle",data:Se(H).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(H,re)}}function q(){let z=[],H=!1;for(let K of O){let re=v.fetchers.get(K);be(re,"Expected fetcher: "+K),re.state==="loading"&&(O.delete(K),z.push(K),H=!0)}return $(z),H}function ie(z){let H=[];for(let[K,re]of A)if(re<z){let le=v.fetchers.get(K);be(le,"Expected fetcher: "+K),le.state==="loading"&&(V(K),A.delete(K),H.push(K))}return $(H),H.length>0}function Z(z,H){let K=v.blockers.get(z)||fE;return B.get(z)!==H&&B.set(z,H),K}function X(z){v.blockers.delete(z),B.delete(z)}function ae(z,H){let K=v.blockers.get(z)||fE;be(K.state==="unblocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="proceeding"||K.state==="blocked"&&H.state==="unblocked"||K.state==="proceeding"&&H.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+H.state),v.blockers.set(z,H),D({blockers:new Map(v.blockers)})}function $e(z){let{currentLocation:H,nextLocation:K,historyAction:re}=z;if(B.size===0)return;B.size>1&&ha(!1,"A router only supports one blocker at a time");let le=Array.from(B.entries()),[ge,xe]=le[le.length-1],me=v.blockers.get(ge);if(!(me&&me.state==="proceeding")&&xe({currentLocation:H,nextLocation:K,historyAction:re}))return ge}function Be(z){let H=[];return j.forEach((K,re)=>{(!z||z(re))&&(K.cancel(),H.push(re),j.delete(re))}),H}function vi(z,H,K){if(u=z,f=H,c=K||(re=>re.key),!h&&v.navigation===Up){h=!0;let re=mo(v.location,v.matches);re!=null&&D({restoreScrollPosition:re})}return()=>{u=null,f=null,c=null}}function sp(z,H){if(u&&c&&f){let K=H.map(le=>EE(le,v.loaderData)),re=c(z,K)||z.key;u[re]=f()}}function mo(z,H){if(u&&c&&f){let K=H.map(ge=>EE(ge,v.loaderData)),re=c(z,K)||z.key,le=u[re];if(typeof le=="number")return le}return null}function qa(z){n={},i=$y(z,e,void 0,n)}return R={get basename(){return s},get state(){return v},get routes(){return r},initialize:k,subscribe:L,enableScrollRestoration:vi,navigate:te,fetch:He,revalidate:J,createHref:z=>t.history.createHref(z),encodeLocation:z=>t.history.encodeLocation(z),getFetcher:Se,deleteFetcher:ir,dispose:M,getBlocker:Z,deleteBlocker:X,_internalFetchControllers:y,_internalActiveDeferreds:j,_internalSetRoutes:qa},R}function j2(t){return t!=null&&"formData"in t}function By(t,e,n,r,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let c of e)if(a.push(c),c.route.id===s){l=c;break}}else a=e,l=e[e.length-1];let u=Yv(i||".",rh(a).map(c=>c.pathnameBase),Na(t.pathname,n)||t.pathname,o==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Jv(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Zr([n,u.pathname])),Hs(u)}function dE(t,e,n,r){if(!r||!j2(r))return{path:n};if(r.formMethod&&!q2(r.formMethod))return{path:n,error:ar(405,{method:r.formMethod})};let i;if(r.formData){let a=r.formMethod||"get";if(i={formMethod:t?a.toUpperCase():a.toLowerCase(),formAction:hb(n),formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:r.formData},zr(i.formMethod))return{path:n,submission:i}}let s=hi(n),o=db(r.formData);return e&&s.search&&Jv(s.search)&&o.append("index",""),s.search="?"+o,{path:Hs(s),submission:i}}function F2(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function hE(t,e,n,r,i,s,o,a,l,u,c,f,h){let g=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,E=t.createURL(e.location),S=t.createURL(i),R=h?Object.keys(h)[0]:void 0,_=F2(n,R).filter((I,T)=>{if(I.route.lazy)return!0;if(I.route.loader==null)return!1;if(U2(e.loaderData,e.matches[T],I)||o.some(d=>d===I.route.id))return!0;let b=e.matches[T],w=I;return pE(I,Le({currentUrl:E,currentParams:b.params,nextUrl:S,nextParams:w.params},r,{actionResult:g,defaultShouldRevalidate:s||E.pathname+E.search===S.pathname+S.search||E.search!==S.search||fb(b,w)}))}),P=[];return l.forEach((I,T)=>{if(!n.some(y=>y.route.id===I.routeId))return;let b=Fo(u,I.path,c);if(!b){P.push({key:T,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let w=zy(b,I.path);if(a.includes(T)){P.push({key:T,routeId:I.routeId,path:I.path,matches:b,match:w,controller:new AbortController});return}pE(w,Le({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:S,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:s}))&&P.push({key:T,routeId:I.routeId,path:I.path,matches:b,match:w,controller:new AbortController})}),[_,P]}function U2(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function fb(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function pE(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function mE(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];be(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";ha(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!a2.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Le({},e(i),{lazy:void 0}))}async function tl(t,e,n,r,i,s,o,a,l,u){a===void 0&&(a=!1),l===void 0&&(l=!1);let c,f,h,g=R=>{let v,_=new Promise((P,I)=>v=I);return h=()=>v(),e.signal.addEventListener("abort",h),Promise.race([R({request:e,params:n.params,context:u}),_])};try{let R=n.route[t];if(n.route.lazy)if(R)f=(await Promise.all([g(R),mE(n.route,s,i)]))[0];else if(await mE(n.route,s,i),R=n.route[t],R)f=await g(R);else if(t==="action"){let v=new URL(e.url),_=v.pathname+v.search;throw ar(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:Pt.data,data:void 0};else if(R)f=await g(R);else{let v=new URL(e.url),_=v.pathname+v.search;throw ar(404,{pathname:_})}be(f!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(R){c=Pt.error,f=R}finally{h&&e.signal.removeEventListener("abort",h)}if(H2(f)){let R=f.status;if(O2.has(R)){let P=f.headers.get("Location");if(be(P,"Redirects returned/thrown from loaders/actions must have a Location header"),!ub.test(P))P=By(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,P);else if(!a){let I=new URL(e.url),T=P.startsWith("//")?new URL(I.protocol+P):new URL(P),b=Na(T.pathname,o)!=null;T.origin===I.origin&&b&&(P=T.pathname+T.search+T.hash)}if(a)throw f.headers.set("Location",P),f;return{type:Pt.redirect,status:R,location:P,revalidate:f.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||Pt.data,response:f};let v,_=f.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?v=await f.json():v=await f.text(),c===Pt.error?{type:c,error:new Xv(R,f.statusText,v),headers:f.headers}:{type:Pt.data,data:v,statusCode:f.status,headers:f.headers}}if(c===Pt.error)return{type:c,error:f};if(z2(f)){var E,S;return{type:Pt.deferred,deferredData:f,statusCode:(E=f.init)==null?void 0:E.status,headers:((S=f.init)==null?void 0:S.headers)&&new Headers(f.init.headers)}}return{type:Pt.data,data:f}}function nl(t,e,n,r){let i=t.createURL(hb(e)).toString(),s={signal:n};if(r&&zr(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?db(l):l}return new Request(i,s)}function db(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function $2(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,f)=>{let h=e[f].route.id;if(be(!Zo(c),"Cannot handle redirect results in processLoaderData"),Nl(c)){let g=Uo(t,h),E=c.error;r&&(E=Object.values(r)[0],r=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=E),s[h]=void 0,l||(l=!0,a=ab(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else xs(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function yE(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=$2(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:f,match:h,controller:g}=s[c];be(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let E=o[c];if(!(g&&g.signal.aborted))if(Nl(E)){let S=Uo(t.matches,h==null?void 0:h.route.id);u&&u[S.route.id]||(u=Le({},u,{[S.route.id]:E.error})),t.fetchers.delete(f)}else if(Zo(E))be(!1,"Unhandled fetcher revalidation redirect");else if(xs(E))be(!1,"Unhandled fetcher deferred data");else{let S={state:"idle",data:E.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(f,S)}}return{loaderData:l,errors:u}}function gE(t,e,n,r){let i=Le({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Uo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function vE(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ar(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Xv(t||500,o,new Error(a),!0)}function _E(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Zo(n))return n}}function hb(t){let e=typeof t=="string"?hi(t):t;return Hs(Le({},e,{hash:""}))}function B2(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function xs(t){return t.type===Pt.deferred}function Nl(t){return t.type===Pt.error}function Zo(t){return(t&&t.type)===Pt.redirect}function z2(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function H2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function q2(t){return k2.has(t.toLowerCase())}function zr(t){return A2.has(t.toLowerCase())}async function wE(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(f=>f.route.id===l.route.id),c=u!=null&&!fb(u,l)&&(s&&s[l.route.id])!==void 0;if(xs(a)&&(i||c)){let f=r[o];be(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await pb(a,f,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function pb(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Pt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Pt.error,error:i}}return{type:Pt.data,data:t.deferredData.data}}}function Jv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function EE(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function zy(t,e){let n=typeof e=="string"?hi(e).search:e.search;if(t[t.length-1].route.index&&Jv(n||""))return t[t.length-1];let r=rh(t);return r[r.length-1]}/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jf(){return Jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jf.apply(this,arguments)}const ih=N.createContext(null),Zv=N.createContext(null),so=N.createContext(null),sh=N.createContext(null),pi=N.createContext({outlet:null,matches:[],isDataRoute:!1}),mb=N.createContext(null);function W2(t,e){let{relative:n}=e===void 0?{}:e;Uu()||be(!1);let{basename:r,navigator:i}=N.useContext(so),{hash:s,pathname:o,search:a}=e0(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Zr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Uu(){return N.useContext(sh)!=null}function La(){return Uu()||be(!1),N.useContext(sh).location}function yb(t){N.useContext(so).static||N.useLayoutEffect(t)}function Vr(){let{isDataRoute:t}=N.useContext(pi);return t?rL():K2()}function K2(){Uu()||be(!1);let t=N.useContext(ih),{basename:e,navigator:n}=N.useContext(so),{matches:r}=N.useContext(pi),{pathname:i}=La(),s=JSON.stringify(rh(r).map(l=>l.pathnameBase)),o=N.useRef(!1);return yb(()=>{o.current=!0}),N.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Yv(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Zr([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const gb=N.createContext(null);function vb(){return N.useContext(gb)}function Q2(t){let e=N.useContext(pi).outlet;return e&&N.createElement(gb.Provider,{value:t},e)}function rr(){let{matches:t}=N.useContext(pi),e=t[t.length-1];return e?e.params:{}}function e0(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=N.useContext(pi),{pathname:i}=La(),s=JSON.stringify(rh(r).map(o=>o.pathnameBase));return N.useMemo(()=>Yv(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function G2(t,e,n){Uu()||be(!1);let{navigator:r}=N.useContext(so),{matches:i}=N.useContext(pi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=La(),u;if(e){var c;let S=typeof e=="string"?hi(e):e;a==="/"||(c=S.pathname)!=null&&c.startsWith(a)||be(!1),u=S}else u=l;let f=u.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",g=Fo(t,{pathname:h}),E=eL(g&&g.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Zr([a,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?a:Zr([a,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n);return e&&E?N.createElement(sh.Provider,{value:{location:Jf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:yt.Pop}},E):E}function Y2(){let t=wb(),e=ab(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,s)}const X2=N.createElement(Y2,null);class J2 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?N.createElement(pi.Provider,{value:this.props.routeContext},N.createElement(mb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z2(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(ih);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(pi.Provider,{value:e},r)}function eL(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||be(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||X2);let h=e.concat(s.slice(0,u+1)),g=()=>{let E;return c?E=f:l.route.Component?E=N.createElement(l.route.Component,null):l.route.element?E=l.route.element:E=a,N.createElement(Z2,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:E})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?N.createElement(J2,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:g(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):g()},null)}var Hy;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Hy||(Hy={}));var qs;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(qs||(qs={}));function tL(t){let e=N.useContext(ih);return e||be(!1),e}function _b(t){let e=N.useContext(Zv);return e||be(!1),e}function nL(t){let e=N.useContext(pi);return e||be(!1),e}function t0(t){let e=nL(),n=e.matches[e.matches.length-1];return n.route.id||be(!1),n.route.id}function oh(){let t=_b(qs.UseLoaderData),e=t0(qs.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function wb(){var t;let e=N.useContext(mb),n=_b(qs.UseRouteError),r=t0(qs.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function rL(){let{router:t}=tL(Hy.UseNavigateStable),e=t0(qs.UseNavigateStable),n=N.useRef(!1);return yb(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Jf({fromRouteId:e},s)))},[t,e])}function iL(t){let{fallbackElement:e,router:n}=t,[r,i]=N.useState(n.state);N.useLayoutEffect(()=>n.subscribe(i),[n,i]);let s=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",a=N.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return N.createElement(N.Fragment,null,N.createElement(ih.Provider,{value:a},N.createElement(Zv.Provider,{value:r},N.createElement(oL,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?N.createElement(sL,{routes:n.routes,state:r}):e))),null)}function sL(t){let{routes:e,state:n}=t;return G2(e,void 0,n)}function n0(t){return Q2(t.context)}function oL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=yt.Pop,navigator:s,static:o=!1}=t;Uu()&&be(!1);let a=e.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=hi(r));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:g="default"}=r,E=N.useMemo(()=>{let S=Na(u,a);return S==null?null:{location:{pathname:S,search:c,hash:f,state:h,key:g},navigationType:i}},[a,u,c,f,h,g,i]);return E==null?null:N.createElement(so.Provider,{value:l},N.createElement(sh.Provider,{children:n,value:E}))}var PE;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(PE||(PE={}));new Promise(()=>{});function aL(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:N.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pa.apply(this,arguments)}function Eb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uL(t,e){return t.button===0&&(!e||e==="_self")&&!lL(t)}const cL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],fL=["aria-current","caseSensitive","className","end","style","to","children"];function dL(t,e){return V2({basename:e==null?void 0:e.basename,future:pa({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:i2({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||hL(),routes:t,mapRouteProperties:aL}).initialize()}function hL(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=pa({},e,{errors:pL(e.errors)})),e}function pL(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Xv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const mL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gL=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,f=Eb(e,cL),{basename:h}=N.useContext(so),g,E=!1;if(typeof u=="string"&&yL.test(u)&&(g=u,mL))try{let _=new URL(window.location.href),P=u.startsWith("//")?new URL(_.protocol+u):new URL(u),I=Na(P.pathname,h);P.origin===_.origin&&I!=null?u=I+P.search+P.hash:E=!0}catch{}let S=W2(u,{relative:i}),R=vL(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function v(_){r&&r(_),_.defaultPrevented||R(_)}return N.createElement("a",pa({},f,{href:g||S,onClick:E||s?r:v,ref:n,target:l}))}),Mt=N.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=Eb(e,fL),f=e0(l,{relative:c.relative}),h=La(),g=N.useContext(Zv),{navigator:E}=N.useContext(so),S=E.encodeLocation?E.encodeLocation(f).pathname:f.pathname,R=h.pathname,v=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(R=R.toLowerCase(),v=v?v.toLowerCase():null,S=S.toLowerCase());let _=R===S||!o&&R.startsWith(S)&&R.charAt(S.length)==="/",P=v!=null&&(v===S||!o&&v.startsWith(S)&&v.charAt(S.length)==="/"),I=_?r:void 0,T;typeof s=="function"?T=s({isActive:_,isPending:P}):T=[s,_?"active":null,P?"pending":null].filter(Boolean).join(" ");let b=typeof a=="function"?a({isActive:_,isPending:P}):a;return N.createElement(gL,pa({},c,{"aria-current":I,className:T,ref:n,style:b,to:l}),typeof u=="function"?u({isActive:_,isPending:P}):u)});var xE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(xE||(xE={}));var TE;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(TE||(TE={}));function vL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Vr(),l=La(),u=e0(t,{relative:o});return N.useCallback(c=>{if(uL(c,n)){c.preventDefault();let f=r!==void 0?r:Hs(l)===Hs(u);a(t,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}const Pb=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ah=N.createContext({}),lh=N.createContext(null),uh=typeof document<"u",Zf=uh?N.useLayoutEffect:N.useEffect,xb=N.createContext({strict:!1});function _L(t,e,n,r){const{visualElement:i}=N.useContext(ah),s=N.useContext(xb),o=N.useContext(lh),a=N.useContext(Pb).reducedMotion,l=N.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return N.useInsertionEffect(()=>{u&&u.update(n,o)}),Zf(()=>{u&&u.render()}),N.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?Zf:N.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function $o(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wL(t,e,n){return N.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$o(n)&&(n.current=r))},[e])}function du(t){return typeof t=="string"||Array.isArray(t)}function ch(t){return typeof t=="object"&&typeof t.start=="function"}const r0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i0=["initial",...r0];function fh(t){return ch(t.animate)||i0.some(e=>du(t[e]))}function Tb(t){return!!(fh(t)||t.variants)}function EL(t,e){if(fh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||du(n)?n:void 0,animate:du(r)?r:void 0}}return t.inherit!==!1?e:{}}function PL(t){const{initial:e,animate:n}=EL(t,N.useContext(ah));return N.useMemo(()=>({initial:e,animate:n}),[SE(e),SE(n)])}function SE(t){return Array.isArray(t)?t.join(" "):t}const bE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hu={};for(const t in bE)hu[t]={isEnabled:e=>bE[t].some(n=>!!e[n])};function xL(t){for(const e in t)hu[e]={...hu[e],...t[e]}}const s0=N.createContext({}),Sb=N.createContext({}),TL=Symbol.for("motionComponentSymbol");function SL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&xL(t);function s(a,l){let u;const c={...N.useContext(Pb),...a,layoutId:bL(a)},{isStatic:f}=c,h=PL(a),g=r(a,f);if(!f&&uh){h.visualElement=_L(i,g,c,e);const E=N.useContext(Sb),S=N.useContext(xb).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,S,t,E))}return N.createElement(ah.Provider,{value:h},u&&h.visualElement?N.createElement(u,{visualElement:h.visualElement,...c}):null,n(i,a,wL(g,h.visualElement,l),g,f,h.visualElement))}const o=N.forwardRef(s);return o[TL]=i,o}function bL({layoutId:t}){const e=N.useContext(s0).id;return e&&t!==void 0?e+"-"+t:t}function RL(t){function e(r,i={}){return SL(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const IL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o0(t){return typeof t!="string"||t.includes("-")?!1:!!(IL.indexOf(t)>-1||/[A-Z]/.test(t))}const ed={};function AL(t){Object.assign(ed,t)}const $u=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oo=new Set($u);function bb(t,{layout:e,layoutId:n}){return oo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ed[t]||t==="opacity")}const In=t=>!!(t&&t.getVelocity),CL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kL=$u.length;function OL(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<kL;o++){const a=$u[o];if(t[a]!==void 0){const l=CL[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const Rb=t=>e=>typeof e=="string"&&e.startsWith(t),Ib=Rb("--"),qy=Rb("var(--"),DL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,NL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ws=(t,e,n)=>Math.min(Math.max(n,t),e),ao={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ll={...ao,transform:t=>Ws(0,1,t)},Uc={...ao,default:1},Ml=t=>Math.round(t*1e5)/1e5,dh=/(-)?([\d]*\.?[\d])+/g,Ab=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,LL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bu(t){return typeof t=="string"}const zu=t=>({test:e=>Bu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xi=zu("deg"),Ar=zu("%"),pe=zu("px"),ML=zu("vh"),VL=zu("vw"),RE={...Ar,parse:t=>Ar.parse(t)/100,transform:t=>Ar.transform(t*100)},IE={...ao,transform:Math.round},Cb={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,size:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,rotate:xi,rotateX:xi,rotateY:xi,rotateZ:xi,scale:Uc,scaleX:Uc,scaleY:Uc,scaleZ:Uc,skew:xi,skewX:xi,skewY:xi,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Ll,originX:RE,originY:RE,originZ:pe,zIndex:IE,fillOpacity:Ll,strokeOpacity:Ll,numOctaves:IE};function a0(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const f in e){const h=e[f];if(Ib(f)){s[f]=h;continue}const g=Cb[f],E=NL(h,g);if(oo.has(f)){if(l=!0,o[f]=E,!c)continue;h!==(g.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,a[f]=E):i[f]=E}if(e.transform||(l||r?i.transform=OL(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:g=0}=a;i.transformOrigin=`${f} ${h} ${g}`}}const l0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kb(t,e,n){for(const r in e)!In(e[r])&&!bb(r,n)&&(t[r]=e[r])}function jL({transformTemplate:t},e,n){return N.useMemo(()=>{const r=l0();return a0(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function FL(t,e,n){const r=t.style||{},i={};return kb(i,r,t),Object.assign(i,jL(t,e,n)),t.transformValues?t.transformValues(i):i}function UL(t,e,n){const r={},i=FL(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const $L=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function td(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||$L.has(t)}let Ob=t=>!td(t);function BL(t){t&&(Ob=e=>e.startsWith("on")?!td(e):t(e))}try{BL(require("@emotion/is-prop-valid").default)}catch{}function zL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Ob(i)||n===!0&&td(i)||!e&&!td(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function AE(t,e,n){return typeof t=="string"?t:pe.transform(e+n*t)}function HL(t,e,n){const r=AE(e,t.x,t.width),i=AE(n,t.y,t.height);return`${r} ${i}`}const qL={offset:"stroke-dashoffset",array:"stroke-dasharray"},WL={offset:"strokeDashoffset",array:"strokeDasharray"};function KL(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?qL:WL;t[s.offset]=pe.transform(-r);const o=pe.transform(e),a=pe.transform(n);t[s.array]=`${o} ${a}`}function u0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,f,h){if(a0(t,u,c,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:E,dimensions:S}=t;g.transform&&(S&&(E.transform=g.transform),delete g.transform),S&&(i!==void 0||s!==void 0||E.transform)&&(E.transformOrigin=HL(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&KL(g,o,a,l,!1)}const Db=()=>({...l0(),attrs:{}}),c0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QL(t,e,n,r){const i=N.useMemo(()=>{const s=Db();return u0(s,e,{enableHardwareAcceleration:!1},c0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};kb(s,t.style,t),i.style={...s,...i.style}}return i}function GL(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(o0(n)?QL:UL)(r,s,o,n),c={...zL(r,typeof n=="string",t),...l,ref:i},{children:f}=r,h=N.useMemo(()=>In(f)?f.get():f,[f]);return N.createElement(n,{...c,children:h})}}const f0=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Nb(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Lb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Mb(t,e,n,r){Nb(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Lb.has(i)?i:f0(i),e.attrs[i])}function d0(t,e){const{style:n}=t,r={};for(const i in n)(In(n[i])||e.style&&In(e.style[i])||bb(i,t))&&(r[i]=n[i]);return r}function Vb(t,e){const n=d0(t,e);for(const r in t)if(In(t[r])||In(e[r])){const i=$u.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function h0(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function jb(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const nd=t=>Array.isArray(t),YL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),XL=t=>nd(t)?t[t.length-1]||0:t;function df(t){const e=In(t)?t.get():t;return YL(e)?e.toValue():e}function JL({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:ZL(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const Fb=t=>(e,n)=>{const r=N.useContext(ah),i=N.useContext(lh),s=()=>JL(t,e,r,i);return n?s():jb(s)};function ZL(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=df(s[h]);let{initial:o,animate:a}=t;const l=fh(t),u=Tb(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;return f&&typeof f!="boolean"&&!ch(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const E=h0(t,g);if(!E)return;const{transitionEnd:S,transition:R,...v}=E;for(const _ in v){let P=v[_];if(Array.isArray(P)){const I=c?P.length-1:0;P=P[I]}P!==null&&(i[_]=P)}for(const _ in S)i[_]=S[_]}),i}const eM={useVisualState:Fb({scrapeMotionValuesFromProps:Vb,createRenderState:Db,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}u0(n,r,{enableHardwareAcceleration:!1},c0(e.tagName),t.transformTemplate),Mb(e,n)}})},tM={useVisualState:Fb({scrapeMotionValuesFromProps:d0,createRenderState:l0})};function nM(t,{forwardMotionProps:e=!1},n,r){return{...o0(t)?eM:tM,preloadedFeatures:n,useRender:GL(e),createVisualElement:r,Component:t}}function Qr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Ub=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function hh(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const rM=t=>e=>Ub(e)&&t(e,hh(e));function ei(t,e,n,r){return Qr(t,e,rM(n),r)}const iM=(t,e)=>n=>e(t(n)),qi=(...t)=>t.reduce(iM);function $b(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const CE=$b("dragHorizontal"),kE=$b("dragVertical");function Bb(t){let e=!1;if(t==="y")e=kE();else if(t==="x")e=CE();else{const n=CE(),r=kE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function zb(){const t=Bb(!0);return t?(t(),!1):!0}class os{constructor(e){this.isMounted=!1,this.node=e}update(){}}function sM(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const f=c&&i,h=f?e:n;return u&&o.add(l),h.indexOf(l)===-1&&(h.push(l),f&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Nt={delta:0,timestamp:0,isProcessing:!1},oM=40;let Wy=!0,pu=!1;const ph=["read","update","preRender","render","postRender"],ea=ph.reduce((t,e)=>(t[e]=sM(()=>pu=!0),t),{}),aM=t=>ea[t].process(Nt),Hb=t=>{pu=!1,Nt.delta=Wy?1e3/60:Math.max(Math.min(t-Nt.timestamp,oM),1),Nt.timestamp=t,Nt.isProcessing=!0,ph.forEach(aM),Nt.isProcessing=!1,pu&&(Wy=!1,requestAnimationFrame(Hb))},lM=()=>{pu=!0,Wy=!0,Nt.isProcessing||requestAnimationFrame(Hb)},et=ph.reduce((t,e)=>{const n=ea[e];return t[e]=(r,i=!1,s=!1)=>(pu||lM(),n.schedule(r,i,s)),t},{});function ai(t){ph.forEach(e=>ea[e].cancel(t))}function OE(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||zb())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&et.update(()=>a[r](s,o))};return ei(t.current,n,i,{passive:!t.getProps()[r]})}class uM extends os{mount(){this.unmount=qi(OE(this.node,!0),OE(this.node,!1))}unmount(){}}class cM extends os{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qi(Qr(this.node.current,"focus",()=>this.onFocus()),Qr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const qb=(t,e)=>e?t===e?!0:qb(t,e.parentElement):!1,Tt=t=>t;function $p(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,hh(n))}class fM extends os{constructor(){super(...arguments),this.removeStartListeners=Tt,this.removeEndListeners=Tt,this.removeAccessibleListeners=Tt,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=ei(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();et.update(()=>{qb(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=ei(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=qi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||$p("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&et.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Qr(this.node.current,"keyup",o),$p("down",(a,l)=>{this.startPress(a,l)})},n=Qr(this.node.current,"keydown",e),r=()=>{this.isPressing&&$p("cancel",(s,o)=>this.cancelPress(s,o))},i=Qr(this.node.current,"blur",r);this.removeAccessibleListeners=qi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&et.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zb()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&et.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ei(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Qr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=qi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ky=new WeakMap,Bp=new WeakMap,dM=t=>{const e=Ky.get(t.target);e&&e(t)},hM=t=>{t.forEach(dM)};function pM({root:t,...e}){const n=t||document;Bp.has(n)||Bp.set(n,{});const r=Bp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(hM,{root:t,...e})),r[i]}function mM(t,e,n){const r=pM(e);return Ky.set(t,n),r.observe(t),()=>{Ky.delete(t),r.unobserve(t)}}const yM={some:0,all:1};class gM extends os{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:yM[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return mM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vM(e,n))&&this.startObserver()}unmount(){}}function vM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _M={inView:{Feature:gM},tap:{Feature:fM},focus:{Feature:cM},hover:{Feature:uM}};function Wb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function wM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function EM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function mh(t,e,n){const r=t.getProps();return h0(r,e,n!==void 0?n:r.custom,wM(t),EM(t))}const PM="framerAppearId",xM="data-"+f0(PM);let TM=Tt,yh=Tt;const Wi=t=>t*1e3,ti=t=>t/1e3,SM={current:!1},Kb=t=>Array.isArray(t)&&typeof t[0]=="number";function Qb(t){return!!(!t||typeof t=="string"&&Gb[t]||Kb(t)||Array.isArray(t)&&t.every(Qb))}const gl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Gb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gl([0,.65,.55,1]),circOut:gl([.55,0,1,.45]),backIn:gl([.31,.01,.66,-.59]),backOut:gl([.33,1.53,.69,.99])};function Yb(t){if(t)return Kb(t)?gl(t):Array.isArray(t)?t.map(Yb):Gb[t]}function bM(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=Yb(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const DE={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},zp={},Xb={};for(const t in DE)Xb[t]=()=>(zp[t]===void 0&&(zp[t]=DE[t]()),zp[t]);function RM(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Jb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,IM=1e-7,AM=12;function CM(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Jb(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>IM&&++a<AM);return o}function Hu(t,e,n,r){if(t===e&&n===r)return Tt;const i=s=>CM(s,0,1,t,n);return s=>s===0||s===1?s:Jb(i(s),e,r)}const kM=Hu(.42,0,1,1),OM=Hu(0,0,.58,1),Zb=Hu(.42,0,.58,1),DM=t=>Array.isArray(t)&&typeof t[0]!="number",eR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tR=t=>e=>1-t(1-e),nR=t=>1-Math.sin(Math.acos(t)),p0=tR(nR),NM=eR(p0),rR=Hu(.33,1.53,.69,.99),m0=tR(rR),LM=eR(m0),MM=t=>(t*=2)<1?.5*m0(t):.5*(2-Math.pow(2,-10*(t-1))),VM={linear:Tt,easeIn:kM,easeInOut:Zb,easeOut:OM,circIn:nR,circInOut:NM,circOut:p0,backIn:m0,backInOut:LM,backOut:rR,anticipate:MM},NE=t=>{if(Array.isArray(t)){yh(t.length===4);const[e,n,r,i]=t;return Hu(e,n,r,i)}else if(typeof t=="string")return VM[t];return t},y0=(t,e)=>n=>!!(Bu(n)&&LL.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),iR=(t,e,n)=>r=>{if(!Bu(r))return r;const[i,s,o,a]=r.match(dh);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},jM=t=>Ws(0,255,t),Hp={...ao,transform:t=>Math.round(jM(t))},Ts={test:y0("rgb","red"),parse:iR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Hp.transform(t)+", "+Hp.transform(e)+", "+Hp.transform(n)+", "+Ml(Ll.transform(r))+")"};function FM(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Qy={test:y0("#"),parse:FM,transform:Ts.transform},Bo={test:y0("hsl","hue"),parse:iR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ar.transform(Ml(e))+", "+Ar.transform(Ml(n))+", "+Ml(Ll.transform(r))+")"},pn={test:t=>Ts.test(t)||Qy.test(t)||Bo.test(t),parse:t=>Ts.test(t)?Ts.parse(t):Bo.test(t)?Bo.parse(t):Qy.parse(t),transform:t=>Bu(t)?t:t.hasOwnProperty("red")?Ts.transform(t):Bo.transform(t)},st=(t,e,n)=>-n*t+n*e+t;function qp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function UM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=qp(l,a,t+1/3),s=qp(l,a,t),o=qp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Wp=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},$M=[Qy,Ts,Bo],BM=t=>$M.find(e=>e.test(t));function LE(t){const e=BM(t);let n=e.parse(t);return e===Bo&&(n=UM(n)),n}const sR=(t,e)=>{const n=LE(t),r=LE(e),i={...n};return s=>(i.red=Wp(n.red,r.red,s),i.green=Wp(n.green,r.green,s),i.blue=Wp(n.blue,r.blue,s),i.alpha=st(n.alpha,r.alpha,s),Ts.transform(i))};function zM(t){var e,n;return isNaN(t)&&Bu(t)&&(((e=t.match(dh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Ab))===null||n===void 0?void 0:n.length)||0)>0}const oR={regex:DL,countKey:"Vars",token:"${v}",parse:Tt},aR={regex:Ab,countKey:"Colors",token:"${c}",parse:pn.parse},lR={regex:dh,countKey:"Numbers",token:"${n}",parse:ao.parse};function Kp(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function rd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Kp(n,oR),Kp(n,aR),Kp(n,lR),n}function uR(t){return rd(t).values}function cR(t){const{values:e,numColors:n,numVars:r,tokenised:i}=rd(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(oR.token,o[l]):l<r+n?a=a.replace(aR.token,pn.transform(o[l])):a=a.replace(lR.token,Ml(o[l]));return a}}const HM=t=>typeof t=="number"?0:t;function qM(t){const e=uR(t);return cR(t)(e.map(HM))}const Zi={test:zM,parse:uR,createTransformer:cR,getAnimatableNone:qM},fR=(t,e)=>n=>`${n>0?e:t}`;function dR(t,e){return typeof t=="number"?n=>st(t,e,n):pn.test(t)?sR(t,e):t.startsWith("var(")?fR(t,e):pR(t,e)}const hR=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>dR(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},WM=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=dR(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},pR=(t,e)=>{const n=Zi.createTransformer(e),r=rd(t),i=rd(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?qi(hR(r.values,i.values),n):fR(t,e)},mu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ME=(t,e)=>n=>st(t,e,n);function KM(t){return typeof t=="number"?ME:typeof t=="string"?pn.test(t)?sR:pR:Array.isArray(t)?hR:typeof t=="object"?WM:ME}function QM(t,e,n){const r=[],i=n||KM(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Tt:e;a=qi(l,a)}r.push(a)}return r}function mR(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(yh(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=QM(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const f=mu(t[c],t[c+1],u);return o[c](f)};return n?u=>l(Ws(t[0],t[s-1],u)):l}function GM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=mu(0,e,r);t.push(st(n,1,i))}}function YM(t){const e=[0];return GM(e,t.length-1),e}function XM(t,e){return t.map(n=>n*e)}function JM(t,e){return t.map(()=>e||Zb).splice(0,t.length-1)}function id({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=DM(r)?r.map(NE):NE(r),s={done:!1,value:e[0]},o=XM(n&&n.length===e.length?n:YM(e),t),a=mR(o,e,{ease:Array.isArray(i)?i:JM(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function yR(t,e){return e?t*(1e3/e):0}const ZM=5;function gR(t,e,n){const r=Math.max(e-ZM,0);return yR(n-t(r),e-r)}const Qp=.001,eV=.01,VE=10,tV=.05,nV=1;function rV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;TM(t<=Wi(VE));let o=1-e;o=Ws(tV,nV,o),t=Ws(eV,VE,ti(t)),o<1?(i=u=>{const c=u*o,f=c*t,h=c-n,g=Gy(u,o),E=Math.exp(-f);return Qp-h/g*E},s=u=>{const f=u*o*t,h=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,E=Math.exp(-f),S=Gy(Math.pow(u,2),o);return(-i(u)+Qp>0?-1:1)*((h-g)*E)/S}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-Qp+c*f},s=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=sV(i,s,a);if(t=Wi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const iV=12;function sV(t,e,n){let r=n;for(let i=1;i<iV;i++)r=r-t(r)/e(r);return r}function Gy(t,e){return t*Math.sqrt(1-e*e)}const oV=["duration","bounce"],aV=["stiffness","damping","mass"];function jE(t,e){return e.some(n=>t[n]!==void 0)}function lV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!jE(t,aV)&&jE(t,oV)){const n=rV(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function vR({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:f,isResolvedFromDuration:h}=lV(r),g=c?-ti(c):0,E=l/(2*Math.sqrt(a*u)),S=s-i,R=ti(Math.sqrt(a/u)),v=Math.abs(S)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let _;if(E<1){const P=Gy(R,E);_=I=>{const T=Math.exp(-E*R*I);return s-T*((g+E*R*S)/P*Math.sin(P*I)+S*Math.cos(P*I))}}else if(E===1)_=P=>s-Math.exp(-R*P)*(S+(g+R*S)*P);else{const P=R*Math.sqrt(E*E-1);_=I=>{const T=Math.exp(-E*R*I),b=Math.min(P*I,300);return s-T*((g+E*R*S)*Math.sinh(b)+P*S*Math.cosh(b))/P}}return{calculatedDuration:h&&f||null,next:P=>{const I=_(P);if(h)o.done=P>=f;else{let T=g;P!==0&&(E<1?T=gR(_,P,I):T=0);const b=Math.abs(T)<=n,w=Math.abs(s-I)<=e;o.done=b&&w}return o.value=o.done?s:I,o}}}function FE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],h={done:!1,value:f},g=d=>a!==void 0&&d<a||l!==void 0&&d>l,E=d=>a===void 0?l:l===void 0||Math.abs(a-d)<Math.abs(l-d)?a:l;let S=n*e;const R=f+S,v=o===void 0?R:o(R);v!==R&&(S=v-f);const _=d=>-S*Math.exp(-d/r),P=d=>v+_(d),I=d=>{const y=_(d),p=P(d);h.done=Math.abs(y)<=u,h.value=h.done?v:p};let T,b;const w=d=>{g(h.value)&&(T=d,b=vR({keyframes:[h.value,E(h.value)],velocity:gR(P,d,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return w(0),{calculatedDuration:null,next:d=>{let y=!1;return!b&&T===void 0&&(y=!0,I(d),w(d)),T!==void 0&&d>T?b.next(d-T):(!y&&I(d),h)}}}const uV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>et.update(e,!0),stop:()=>ai(e),now:()=>Nt.isProcessing?Nt.timestamp:performance.now()}},UE=2e4;function $E(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<UE;)e+=n,r=t.next(e);return e>=UE?1/0:e}const cV={decay:FE,inertia:FE,tween:id,keyframes:id,spring:vR};function sd({autoplay:t=!0,delay:e=0,driver:n=uV,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:f,...h}){let g=1,E=!1,S,R;const v=()=>{S&&S(),R=new Promise(D=>{S=D})};v();let _;const P=cV[i]||id;let I;P!==id&&typeof r[0]!="number"&&(I=mR([0,100],r,{clamp:!1}),r=[0,100]);const T=P({...h,keyframes:r});let b;a==="mirror"&&(b=P({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let w="idle",d=null,y=null,p=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=$E(T));const{calculatedDuration:x}=T;let A=1/0,O=1/0;x!==null&&(A=x+o,O=A*(s+1)-o);let C=0;const j=D=>{if(y===null)return;g>0&&(y=Math.min(y,D)),d!==null?C=d:C=(D-y)*g;const U=C-e,te=U<0;C=Math.max(U,0),w==="finished"&&d===null&&(C=O);let J=C,ue=T;if(s){const He=C/A;let qe=Math.floor(He),Xe=He%1;!Xe&&He>=1&&(Xe=1),Xe===1&&qe--,qe=Math.min(qe,s+1);const At=!!(qe%2);At&&(a==="reverse"?(Xe=1-Xe,o&&(Xe-=o/A)):a==="mirror"&&(ue=b));let En=Ws(0,1,Xe);C>O&&(En=a==="reverse"&&At?1:0),J=En*A}const Ee=te?{done:!1,value:r[0]}:ue.next(J);I&&(Ee.value=I(Ee.value));let{done:Te}=Ee;!te&&x!==null&&(Te=C>=O);const Se=d===null&&(w==="finished"||w==="running"&&Te||g<0&&C<=0);return f&&f(Ee.value),Se&&k(),Ee},B=()=>{_&&_.stop(),_=void 0},F=()=>{w="idle",B(),v(),y=p=null},k=()=>{w="finished",c&&c(),B(),v()},M=()=>{if(E)return;_||(_=n(j));const D=_.now();l&&l(),d!==null?y=D-d:(!y||w==="finished")&&(y=D),p=y,d=null,w="running",_.start()};t&&M();const L={then(D,U){return R.then(D,U)},get time(){return ti(C)},set time(D){D=Wi(D),C=D,d!==null||!_||g===0?d=D:y=_.now()-D/g},get duration(){const D=T.calculatedDuration===null?$E(T):T.calculatedDuration;return ti(D)},get speed(){return g},set speed(D){D===g||!_||(g=D,L.time=ti(C))},get state(){return w},play:M,pause:()=>{w="paused",d=C},stop:()=>{E=!0,w!=="idle"&&(w="idle",u&&u(),F())},cancel:()=>{p!==null&&j(p),F()},complete:()=>{w="finished"},sample:D=>(y=0,j(D))};return L}const fV=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$c=10,dV=2e4,hV=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Qb(e.ease);function pV(t,e,{onUpdate:n,onComplete:r,...i}){if(!(Xb.waapi()&&fV.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(v=>{a=v})};u();let{keyframes:c,duration:f=300,ease:h,times:g}=i;if(hV(e,i)){const v=sd({...i,repeat:0,delay:0});let _={done:!1,value:c[0]};const P=[];let I=0;for(;!_.done&&I<dV;)_=v.sample(I),P.push(_.value),I+=$c;g=void 0,c=P,f=I-$c,h="linear"}const E=bM(t.owner.current,e,c,{...i,duration:f,ease:h,times:g}),S=()=>E.cancel(),R=()=>{et.update(S),a(),u()};return E.onfinish=()=>{t.set(RM(c,i)),r&&r(),R()},{then(v,_){return l.then(v,_)},get time(){return ti(E.currentTime||0)},set time(v){E.currentTime=Wi(v)},get speed(){return E.playbackRate},set speed(v){E.playbackRate=v},get duration(){return ti(f)},play:()=>{o||(E.play(),ai(S))},pause:()=>E.pause(),stop:()=>{if(o=!0,E.playState==="idle")return;const{currentTime:v}=E;if(v){const _=sd({...i,autoplay:!1});t.setWithVelocity(_.sample(v-$c).value,_.sample(v).value,$c)}R()},complete:()=>E.finish(),cancel:R}}function mV({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Tt,pause:Tt,stop:Tt,then:s=>(s(),Promise.resolve()),cancel:Tt,complete:Tt});return e?sd({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const yV={type:"spring",stiffness:500,damping:25,restSpeed:10},gV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vV={type:"keyframes",duration:.8},_V={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wV=(t,{keyframes:e})=>e.length>2?vV:oo.has(t)?t.startsWith("scale")?gV(e[1]):yV:_V,Yy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Zi.test(e)||e==="0")&&!e.startsWith("url(")),EV=new Set(["brightness","contrast","saturate","opacity"]);function PV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(dh)||[];if(!r)return t;const i=n.replace(r,"");let s=EV.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const xV=/([a-z-]*)\(.*?\)/g,Xy={...Zi,getAnimatableNone:t=>{const e=t.match(xV);return e?e.map(PV).join(" "):t}},TV={...Cb,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:Xy,WebkitFilter:Xy},g0=t=>TV[t];function _R(t,e){let n=g0(t);return n!==Xy&&(n=Zi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const wR=t=>/^0[^.\s]+$/.test(t);function SV(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||wR(t)}function bV(t,e,n,r){const i=Yy(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),SV(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=_R(e,a)}return s}function RV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function ER(t,e){return t[e]||t.default||t}const v0=(t,e,n,r={})=>i=>{const s=ER(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Wi(o);const l=bV(e,t,n,s),u=l[0],c=l[l.length-1],f=Yy(t,u),h=Yy(t,c);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:E=>{e.set(E),s.onUpdate&&s.onUpdate(E)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(RV(s)||(g={...g,...wV(t,g)}),g.duration&&(g.duration=Wi(g.duration)),g.repeatDelay&&(g.repeatDelay=Wi(g.repeatDelay)),!f||!h||SM.current||s.type===!1)return mV(g);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const E=pV(e,t,g);if(E)return E}return sd(g)};function od(t){return!!(In(t)&&t.add)}const IV=t=>/^\-?\d*\.?\d+$/.test(t);function _0(t,e){t.indexOf(e)===-1&&t.push(e)}function w0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class E0{constructor(){this.subscriptions=[]}add(e){return _0(this.subscriptions,e),()=>w0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const AV=t=>!isNaN(parseFloat(t));class CV{constructor(e,n={}){this.version="10.12.12",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Nt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,et.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>et.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=AV(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new E0);const r=this.events[e].add(n);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?yR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ma(t,e){return new CV(t,e)}const PR=t=>e=>e.test(t),kV={test:t=>t==="auto",parse:t=>t},xR=[ao,pe,Ar,xi,VL,ML,kV],rl=t=>xR.find(PR(t)),OV=[...xR,pn,Zi],DV=t=>OV.find(PR(t));function NV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ma(n))}function LV(t,e){const n=mh(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=XL(s[o]);NV(t,o,a)}}function MV(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(IV(c)||wR(c))?c=parseFloat(c):!DV(c)&&Zi.test(u)&&(c=_R(l,u)),t.addValue(l,ma(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function VV(t,e){return e?(e[t]||e.default||e).from:void 0}function jV(t,e,n){const r={};for(const i in t){const s=VV(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function FV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function TR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f),g=a[f];if(!h||g===void 0||c&&FV(c,f))continue;const E={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!h.hasAnimated){const R=t.getProps()[xM];R&&(E.elapsed=window.HandoffAppearAnimations(R,f,h,et))}h.start(v0(f,h,g,t.shouldReduceMotion&&oo.has(f)?{type:!1}:E));const S=h.animation;od(l)&&(l.add(f),S.then(()=>l.remove(f))),u.push(S)}return o&&Promise.all(u).then(()=>{o&&LV(t,o)}),u}function Jy(t,e,n={}){const r=mh(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(TR(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return UV(t,e,u+l,c,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function UV(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort($V).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Jy(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function $V(t,e){return t.sortNodePosition(e)}function BV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Jy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Jy(t,e,n);else{const i=typeof e=="function"?mh(t,e,n.custom):e;r=Promise.all(TR(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const zV=[...r0].reverse(),HV=r0.length;function qV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>BV(t,n,r)))}function WV(t){let e=qV(t);const n=QV();let r=!0;const i=(l,u)=>{const c=mh(t,u);if(c){const{transition:f,transitionEnd:h,...g}=c;l={...l,...g,...h}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),f=t.getVariantContext(!0)||{},h=[],g=new Set;let E={},S=1/0;for(let v=0;v<HV;v++){const _=zV[v],P=n[_],I=c[_]!==void 0?c[_]:f[_],T=du(I),b=_===u?P.isActive:null;b===!1&&(S=v);let w=I===f[_]&&I!==c[_]&&T;if(w&&r&&t.manuallyAnimateOnMount&&(w=!1),P.protectedKeys={...E},!P.isActive&&b===null||!I&&!P.prevProp||ch(I)||typeof I=="boolean")continue;const d=KV(P.prevProp,I);let y=d||_===u&&P.isActive&&!w&&T||v>S&&T;const p=Array.isArray(I)?I:[I];let x=p.reduce(i,{});b===!1&&(x={});const{prevResolvedValues:A={}}=P,O={...A,...x},C=j=>{y=!0,g.delete(j),P.needsAnimating[j]=!0};for(const j in O){const B=x[j],F=A[j];E.hasOwnProperty(j)||(B!==F?nd(B)&&nd(F)?!Wb(B,F)||d?C(j):P.protectedKeys[j]=!0:B!==void 0?C(j):g.add(j):B!==void 0&&g.has(j)?C(j):P.protectedKeys[j]=!0)}P.prevProp=I,P.prevResolvedValues=x,P.isActive&&(E={...E,...x}),r&&t.blockInitialAnimation&&(y=!1),y&&!w&&h.push(...p.map(j=>({animation:j,options:{type:_,...l}})))}if(g.size){const v={};g.forEach(_=>{const P=t.getBaseTarget(_);P!==void 0&&(v[_]=P)}),h.push({animation:v})}let R=!!h.length;return r&&c.initial===!1&&!t.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(h):Promise.resolve()}function a(l,u,c){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var E;return(E=g.animationState)===null||E===void 0?void 0:E.setActive(l,u)}),n[l].isActive=u;const h=o(c,l);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function KV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Wb(e,t):!1}function hs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QV(){return{animate:hs(!0),whileInView:hs(),whileHover:hs(),whileTap:hs(),whileDrag:hs(),whileFocus:hs(),exit:hs()}}class GV extends os{constructor(e){super(e),e.animationState||(e.animationState=WV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ch(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let YV=0;class XV extends os{constructor(){super(...arguments),this.id=YV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const JV={animation:{Feature:GV},exit:{Feature:XV}},BE=(t,e)=>Math.abs(t-e);function ZV(t,e){const n=BE(t.x,e.x),r=BE(t.y,e.y);return Math.sqrt(n**2+r**2)}class SR{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Yp(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,f=ZV(u.offset,{x:0,y:0})>=3;if(!c&&!f)return;const{point:h}=u,{timestamp:g}=Nt;this.history.push({...h,timestamp:g});const{onStart:E,onMove:S}=this.handlers;c||(E&&E(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Gp(c,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:h}=this.handlers,g=Yp(u.type==="pointercancel"?this.lastMoveEventInfo:Gp(c,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,g),h&&h(u,g)},!Ub(e))return;this.handlers=n,this.transformPagePoint=r;const i=hh(e),s=Gp(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Nt;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,Yp(s,this.history)),this.removeListeners=qi(ei(window,"pointermove",this.handlePointerMove),ei(window,"pointerup",this.handlePointerUp),ei(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ai(this.updatePoint)}}function Gp(t,e){return e?{point:e(t.point)}:t}function zE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yp({point:t},e){return{point:t,delta:zE(t,bR(e)),offset:zE(t,ej(e)),velocity:tj(e,.1)}}function ej(t){return t[0]}function bR(t){return t[t.length-1]}function tj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=bR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Wi(e)));)n--;if(!r)return{x:0,y:0};const s=ti(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Vn(t){return t.max-t.min}function Zy(t,e=0,n=.01){return Math.abs(t-e)<=n}function HE(t,e,n,r=.5){t.origin=r,t.originPoint=st(e.min,e.max,t.origin),t.scale=Vn(n)/Vn(e),(Zy(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=st(n.min,n.max,t.origin)-t.originPoint,(Zy(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Vl(t,e,n,r){HE(t.x,e.x,n.x,r?r.originX:void 0),HE(t.y,e.y,n.y,r?r.originY:void 0)}function qE(t,e,n){t.min=n.min+e.min,t.max=t.min+Vn(e)}function nj(t,e,n){qE(t.x,e.x,n.x),qE(t.y,e.y,n.y)}function WE(t,e,n){t.min=e.min-n.min,t.max=t.min+Vn(e)}function jl(t,e,n){WE(t.x,e.x,n.x),WE(t.y,e.y,n.y)}function rj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?st(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?st(n,t,r.max):Math.min(t,n)),t}function KE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ij(t,{top:e,left:n,bottom:r,right:i}){return{x:KE(t.x,n,i),y:KE(t.y,e,r)}}function QE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function sj(t,e){return{x:QE(t.x,e.x),y:QE(t.y,e.y)}}function oj(t,e){let n=.5;const r=Vn(t),i=Vn(e);return i>r?n=mu(e.min,e.max-r,t.min):r>i&&(n=mu(t.min,t.max-i,e.min)),Ws(0,1,n)}function aj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const eg=.35;function lj(t=eg){return t===!1?t=0:t===!0&&(t=eg),{x:GE(t,"left","right"),y:GE(t,"top","bottom")}}function GE(t,e,n){return{min:YE(t,e),max:YE(t,n)}}function YE(t,e){return typeof t=="number"?t:t[e]||0}const XE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fl=()=>({x:XE(),y:XE()}),JE=()=>({min:0,max:0}),mt=()=>({x:JE(),y:JE()});function wr(t){return[t("x"),t("y")]}function RR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function uj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Xp(t){return t===void 0||t===1}function tg({scale:t,scaleX:e,scaleY:n}){return!Xp(t)||!Xp(e)||!Xp(n)}function ys(t){return tg(t)||IR(t)||t.z||t.rotate||t.rotateX||t.rotateY}function IR(t){return ZE(t.x)||ZE(t.y)}function ZE(t){return t&&t!=="0%"}function ad(t,e,n){const r=t-n,i=e*r;return n+i}function eP(t,e,n,r,i){return i!==void 0&&(t=ad(t,i,r)),ad(t,n,r)+e}function ng(t,e=0,n=1,r,i){t.min=eP(t.min,e,n,r,i),t.max=eP(t.max,e,n,r,i)}function AR(t,{x:e,y:n}){ng(t.x,e.translate,e.scale,e.originPoint),ng(t.y,n.translate,n.scale,n.originPoint)}function fj(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&zo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,AR(t,o)),r&&ys(s.latestValues)&&zo(t,s.latestValues))}e.x=tP(e.x),e.y=tP(e.y)}function tP(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function bi(t,e){t.min=t.min+e,t.max=t.max+e}function nP(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=st(t.min,t.max,s);ng(t,e[n],e[r],o,e.scale)}const dj=["x","scaleX","originX"],hj=["y","scaleY","originY"];function zo(t,e){nP(t.x,e,dj),nP(t.y,e,hj)}function CR(t,e){return RR(cj(t.getBoundingClientRect(),e))}function pj(t,e,n){const r=CR(t,n),{scroll:i}=e;return i&&(bi(r.x,i.offset.x),bi(r.y,i.offset.y)),r}const mj=new WeakMap;class yj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(hh(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:f,onDragStart:h}=this.getProps();if(c&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Bb(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wr(E=>{let S=this.getAxisMotionValue(E).get()||0;if(Ar.test(S)){const{projection:R}=this.visualElement;if(R&&R.layout){const v=R.layout.layoutBox[E];v&&(S=Vn(v)*(parseFloat(S)/100))}}this.originPoint[E]=S}),h&&et.update(()=>h(l,u),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:f,onDirectionLock:h,onDrag:g}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:E}=u;if(f&&this.currentDirection===null){this.currentDirection=gj(E),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",u.point,E),this.updateAxis("y",u.point,E),this.visualElement.render(),g&&g(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new SR(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&et.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Bc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=rj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&$o(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=ij(r.layoutBox,e):this.constraints=!1,this.elastic=lj(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=aj(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$o(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=pj(r,i.root,this.visualElement.getTransformPagePoint());let o=sj(i.layout.layoutBox,s);if(n){const a=n(uj(o));this.hasMutatedConstraints=!!a,a&&(o=RR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=wr(c=>{if(!Bc(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,E={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,E)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(v0(e,r,0,n))}stopAnimation(){wr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){wr(n=>{const{drag:r}=this.getProps();if(!Bc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-st(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$o(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=oj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wr(o=>{if(!Bc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(st(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;mj.set(this.visualElement,this);const e=this.visualElement.current,n=ei(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();$o(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Qr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(wr(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=eg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Bc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vj extends os{constructor(e){super(e),this.removeGroupControls=Tt,this.removeListeners=Tt,this.controls=new yj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const rP=t=>(e,n)=>{t&&et.update(()=>t(e,n))};class _j extends os{constructor(){super(...arguments),this.removePointerDownListener=Tt}onPointerDown(e){this.session=new SR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:rP(e),onStart:rP(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&et.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=ei(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function wj(){const t=N.useContext(lh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=N.useId();return N.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const hf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const il={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=iP(t,e.target.x),r=iP(t,e.target.y);return`${n}% ${r}%`}},Ej={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Zi.parse(t);if(i.length>5)return r;const s=Zi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=st(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Pj extends Er.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;AL(xj),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),hf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||et.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kR(t){const[e,n]=wj(),r=N.useContext(s0);return Er.createElement(Pj,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(Sb),isPresent:e,safeToRemove:n})}const xj={borderRadius:{...il,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:il,borderTopRightRadius:il,borderBottomLeftRadius:il,borderBottomRightRadius:il,boxShadow:Ej},OR=["TopLeft","TopRight","BottomLeft","BottomRight"],Tj=OR.length,sP=t=>typeof t=="string"?parseFloat(t):t,oP=t=>typeof t=="number"||pe.test(t);function Sj(t,e,n,r,i,s){i?(t.opacity=st(0,n.opacity!==void 0?n.opacity:1,bj(r)),t.opacityExit=st(e.opacity!==void 0?e.opacity:1,0,Rj(r))):s&&(t.opacity=st(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Tj;o++){const a=`border${OR[o]}Radius`;let l=aP(e,a),u=aP(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||oP(l)===oP(u)?(t[a]=Math.max(st(sP(l),sP(u),r),0),(Ar.test(u)||Ar.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=st(e.rotate||0,n.rotate||0,r))}function aP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bj=DR(0,.5,p0),Rj=DR(.5,.95,Tt);function DR(t,e,n){return r=>r<t?0:r>e?1:n(mu(t,e,r))}function lP(t,e){t.min=e.min,t.max=e.max}function Hn(t,e){lP(t.x,e.x),lP(t.y,e.y)}function uP(t,e,n,r,i){return t-=e,t=ad(t,1/n,r),i!==void 0&&(t=ad(t,1/i,r)),t}function Ij(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ar.test(e)&&(e=parseFloat(e),e=st(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=st(s.min,s.max,r);t===s&&(a-=e),t.min=uP(t.min,e,n,a,i),t.max=uP(t.max,e,n,a,i)}function cP(t,e,[n,r,i],s,o){Ij(t,e[n],e[r],e[i],e.scale,s,o)}const Aj=["x","scaleX","originX"],Cj=["y","scaleY","originY"];function fP(t,e,n,r){cP(t.x,e,Aj,n?n.x:void 0,r?r.x:void 0),cP(t.y,e,Cj,n?n.y:void 0,r?r.y:void 0)}function dP(t){return t.translate===0&&t.scale===1}function NR(t){return dP(t.x)&&dP(t.y)}function rg(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function hP(t){return Vn(t.x)/Vn(t.y)}class kj{constructor(){this.members=[]}add(e){_0(this.members,e),e.scheduleRender()}remove(e){if(w0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pP(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Oj=(t,e)=>t.depth-e.depth;class Dj{constructor(){this.children=[],this.isDirty=!1}add(e){_0(this.children,e),this.isDirty=!0}remove(e){w0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Oj),this.isDirty=!1,this.children.forEach(e)}}function Nj(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ai(r),t(s-e))};return et.read(r,!0),()=>ai(r)}function Lj(t){window.MotionDebug&&window.MotionDebug.record(t)}function Mj(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Vj(t,e,n){const r=In(t)?t:ma(t);return r.start(v0("",r,e,n)),r.animation}const mP=["","X","Y","Z"],yP=1e3;let jj=0;const gs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function LR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=jj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{gs.totalNodes=gs.resolvedTargetDeltas=gs.recalculatedProjection=0,this.nodes.forEach($j),this.nodes.forEach(qj),this.nodes.forEach(Wj),this.nodes.forEach(Bj),Lj(gs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new E0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Mj(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Nj(h,250),hf.hasAnimatedSinceResize&&(hf.hasAnimatedSinceResize=!1,this.nodes.forEach(vP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||c.getDefaultTransition()||Xj,{onLayoutAnimationStart:R,onLayoutAnimationComplete:v}=c.getProps(),_=!this.targetLayout||!rg(this.targetLayout,E)||g,P=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||P||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,P);const I={...ER(S,"layout"),onPlay:R,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else h||vP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gP);return}this.isUpdating&&(this.isUpdating=!1,this.nodes.forEach(Hj),this.nodes.forEach(Fj),this.nodes.forEach(Uj),this.clearAllSnapshots(),ea.update.process(Nt),ea.preRender.process(Nt),ea.render.process(Nt))}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(zj),this.sharedNodes.forEach(Qj)}scheduleUpdateProjection(){et.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!NR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||ys(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Jj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return mt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(bi(a.x,l.offset.x),bi(a.y,l.offset.y)),a}removeElementScroll(o){const a=mt();Hn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){Hn(a,o);const{scroll:h}=this.root;h&&(bi(a.x,-h.offset.x),bi(a.y,-h.offset.y))}bi(a.x,c.offset.x),bi(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=mt();Hn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&zo(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ys(c.latestValues)&&zo(l,c.latestValues)}return ys(this.latestValues)&&zo(l,this.latestValues),l}removeTransform(o){const a=mt();Hn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ys(u.latestValues))continue;tg(u.latestValues)&&u.updateSnapshot();const c=mt(),f=u.measurePageBox();Hn(c,f),fP(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ys(this.latestValues)&&fP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),jl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),AR(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),jl(this.relativeTargetOrigin,this.target,g.target),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tg(this.parent.latestValues)||IR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Hn(this.layoutCorrected,this.layout.layoutBox),fj(this.layoutCorrected,this.treeScale,this.path,l);const{target:h}=a;if(!h){this.projectionTransform&&(this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Fl(),this.projectionDeltaWithTransform=Fl());const g=this.treeScale.x,E=this.treeScale.y,S=this.projectionTransform;Vl(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.projectionTransform=pP(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==g||this.treeScale.y!==E)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),gs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=mt(),g=l?l.source:void 0,E=this.layout?this.layout.source:void 0,S=g!==E,R=this.getStack(),v=!R||R.members.length<=1,_=!!(S&&!v&&this.options.crossfade===!0&&!this.path.some(Yj));this.animationProgress=0;let P;this.mixTargetDelta=I=>{const T=I/1e3;_P(f.x,o.x,T),_P(f.y,o.y,T),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jl(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Gj(this.relativeTarget,this.relativeTargetOrigin,h,T),P&&rg(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=mt()),Hn(P,this.relativeTarget)),S&&(this.animationValues=c,Sj(c,u,this.latestValues,T,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{hf.hasAnimatedSinceResize=!0,this.currentAnimation=Vj(0,yP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&MR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||mt();const f=Vn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Vn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Hn(a,l),zo(a,c),Vl(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new kj),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<mP.length;c++){const f="rotate"+mP[c];l[f]&&(u[f]=l[f],o.setStaticValue(f,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=df(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=df(o.pointerEvents)||""),this.hasProjected&&!ys(this.latestValues)&&(S.transform=c?c({},""):"none",this.hasProjected=!1),S}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=pP(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:g,y:E}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${E.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const S in ed){if(h[S]===void 0)continue;const{correct:R,applyTo:v}=ed[S],_=u.transform==="none"?h[S]:R(h[S],f);if(v){const P=v.length;for(let I=0;I<P;I++)u[v[I]]=_}else u[S]=_}return this.options.layoutId&&(u.pointerEvents=f===this?df(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(gP),this.root.sharedNodes.clear()}}}function Fj(t){t.updateLayout()}function Uj(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?wr(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],g=Vn(h);h.min=r[f].min,h.max=h.min+g}):MR(s,n.layoutBox,r)&&wr(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],g=Vn(r[f]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Fl();Vl(a,r,n.layoutBox);const l=Fl();o?Vl(l,t.applyTransform(i,!0),n.measuredBox):Vl(l,r,n.layoutBox);const u=!NR(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const E=mt();jl(E,n.layoutBox,h.layoutBox);const S=mt();jl(S,r,g.layoutBox),rg(E,S)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=E,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function $j(t){gs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Bj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zj(t){t.clearSnapshot()}function gP(t){t.clearMeasurements()}function Hj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function vP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qj(t){t.resolveTargetDelta()}function Wj(t){t.calcProjection()}function Kj(t){t.resetRotation()}function Qj(t){t.removeLeadSnapshot()}function _P(t,e,n){t.translate=st(e.translate,0,n),t.scale=st(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wP(t,e,n,r){t.min=st(e.min,n.min,r),t.max=st(e.max,n.max,r)}function Gj(t,e,n,r){wP(t.x,e.x,n.x,r),wP(t.y,e.y,n.y,r)}function Yj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Xj={duration:.45,ease:[.4,0,.1,1]};function EP(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function Jj(t){EP(t.x),EP(t.y)}function MR(t,e,n){return t==="position"||t==="preserve-aspect"&&!Zy(hP(e),hP(n),.2)}const Zj=LR({attachResizeListener:(t,e)=>Qr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jp={current:void 0},VR=LR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jp.current){const t=new Zj({});t.mount(window),t.setOptions({layoutScroll:!0}),Jp.current=t}return Jp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),eF={pan:{Feature:_j},drag:{Feature:vj,ProjectionNode:VR,MeasureLayout:kR}},tF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function nF(t){const e=tF.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function ig(t,e,n=1){const[r,i]=nF(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():qy(i)?ig(i,e,n+1):i}function rF(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!qy(s))return;const o=ig(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!qy(s))continue;const o=ig(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const iF=new Set(["width","height","top","left","right","bottom","x","y"]),jR=t=>iF.has(t),sF=t=>Object.keys(t).some(jR),PP=t=>t===ao||t===pe,xP=(t,e)=>parseFloat(t.split(", ")[e]),TP=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return xP(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?xP(s[1],t):0}},oF=new Set(["x","y","z"]),aF=$u.filter(t=>!oF.has(t));function lF(t){const e=[];return aF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const SP={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:TP(4,13),y:TP(5,14)},uF=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=SP[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=SP[u](l,s)}),t},cF=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(jR);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],f=rl(c);const h=e[l];let g;if(nd(h)){const E=h.length,S=h[0]===null?1:0;c=h[S],f=rl(c);for(let R=S;R<E&&h[R]!==null;R++)g?yh(rl(h[R])===g):g=rl(h[R])}else g=rl(h);if(f!==g)if(PP(f)&&PP(g)){const E=u.get();typeof E=="string"&&u.set(parseFloat(E)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&g===pe&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(c===0||h===0)?c===0?u.set(g.transform(c)):e[l]=f.transform(h):(o||(s=lF(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=uF(e,t,a);return s.length&&s.forEach(([c,f])=>{t.getValue(c).set(f)}),t.render(),uh&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function fF(t,e,n,r){return sF(e)?cF(t,e,n,r):{target:e,transitionEnd:r}}const dF=(t,e,n,r)=>{const i=rF(t,e,r);return e=i.target,r=i.transitionEnd,fF(t,e,n,r)},sg={current:null},FR={current:!1};function hF(){if(FR.current=!0,!!uh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sg.current=t.matches;t.addListener(e),e()}else sg.current=!1}function pF(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(In(s))t.addValue(i,s),od(r)&&r.add(i);else if(In(o))t.addValue(i,ma(s,{owner:t})),od(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,ma(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const bP=new WeakMap,UR=Object.keys(hu),mF=UR.length,RP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],yF=i0.length;class gF{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>et.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=fh(n),this.isVariantNode=Tb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const f in c){const h=c[f];a[f]!==void 0&&In(h)&&(h.set(a[f],!1),od(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,bP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),FR.current||hF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){bP.delete(this.current),this.projection&&this.projection.unmount(),ai(this.notifyUpdate),ai(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=oo.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&et.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<mF;l++){const u=UR[l],{isEnabled:c,Feature:f,ProjectionNode:h,MeasureLayout:g}=hu[u];h&&(o=h),c(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),g&&(a=g))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:h,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&$o(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<RP.length;r++){const i=RP[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=pF(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<yF;r++){const i=i0[r],s=this.props[i];(du(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ma(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=h0(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!In(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new E0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class $R extends gF{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=jV(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){MV(this,r,o);const a=dF(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function vF(t){return window.getComputedStyle(t)}class _F extends $R{readValueFromInstance(e,n){if(oo.has(n)){const r=g0(n);return r&&r.default||0}else{const r=vF(e),i=(Ib(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CR(e,n)}build(e,n,r,i){a0(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return d0(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){Nb(e,n,r,i)}}class wF extends $R{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(oo.has(n)){const r=g0(n);return r&&r.default||0}return n=Lb.has(n)?n:f0(n),e.getAttribute(n)}measureInstanceViewportBox(){return mt()}scrapeMotionValuesFromProps(e,n){return Vb(e,n)}build(e,n,r,i){u0(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Mb(e,n,r,i)}mount(e){this.isSVGTag=c0(e.tagName),super.mount(e)}}const EF=(t,e)=>o0(t)?new wF(e,{enableHardwareAcceleration:!1}):new _F(e,{enableHardwareAcceleration:!0}),PF={layout:{ProjectionNode:VR,MeasureLayout:kR}},xF={...JV,..._M,...eF,...PF},mi=RL((t,e)=>nM(t,e,xF,EF));function BR(){const t=N.useRef(!1);return Zf(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function TF(){const t=BR(),[e,n]=N.useState(0),r=N.useCallback(()=>{t.current&&n(e+1)},[e]);return[N.useCallback(()=>et.postRender(r),[r]),e]}class SF extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function bF({children:t,isPresent:e}){const n=N.useId(),r=N.useRef(null),i=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),N.createElement(SF,{isPresent:e,childRef:r,sizeRef:i},N.cloneElement(t,{ref:r}))}const Zp=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=jb(RF),l=N.useId(),u=N.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const f of a.values())if(!f)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return N.useMemo(()=>{a.forEach((c,f)=>a.set(f,!1))},[n]),N.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=N.createElement(bF,{isPresent:n},t)),N.createElement(lh.Provider,{value:u},t)};function RF(){return new Map}function IF(t){return N.useEffect(()=>()=>t(),[])}const xo=t=>t.key||"";function AF(t,e){t.forEach(n=>{const r=xo(n);e.set(r,n)})}function CF(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const qu=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=N.useContext(s0).forceRender||TF()[0],l=BR(),u=CF(t);let c=u;const f=N.useRef(new Map).current,h=N.useRef(c),g=N.useRef(new Map).current,E=N.useRef(!0);if(Zf(()=>{E.current=!1,AF(u,g),h.current=c}),IF(()=>{E.current=!0,g.clear(),f.clear()}),E.current)return N.createElement(N.Fragment,null,c.map(_=>N.createElement(Zp,{key:xo(_),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},_)));c=[...c];const S=h.current.map(xo),R=u.map(xo),v=S.length;for(let _=0;_<v;_++){const P=S[_];R.indexOf(P)===-1&&!f.has(P)&&f.set(P,void 0)}return o==="wait"&&f.size&&(c=[]),f.forEach((_,P)=>{if(R.indexOf(P)!==-1)return;const I=g.get(P);if(!I)return;const T=S.indexOf(P);let b=_;if(!b){const w=()=>{g.delete(P),f.delete(P);const d=h.current.findIndex(y=>y.key===P);if(h.current.splice(d,1),!f.size){if(h.current=u,l.current===!1)return;a(),r&&r()}};b=N.createElement(Zp,{key:xo(I),isPresent:!1,onExitComplete:w,custom:e,presenceAffectsLayout:s,mode:o},I),f.set(P,b)}c.splice(T,0,b)}),c=c.map(_=>{const P=_.key;return f.has(P)?_:N.createElement(Zp,{key:xo(_),isPresent:!0,presenceAffectsLayout:s,mode:o},_)}),N.createElement(N.Fragment,null,f.size?c:c.map(_=>N.cloneElement(_)))};function kF(t,e,n){var r;if(typeof t=="string"){let i=document;e&&(yh(!!e.current),i=e.current),n?((r=n[t])!==null&&r!==void 0||(n[t]=i.querySelectorAll(t)),t=n[t]):t=i.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}const OF={any:0,all:1};function DF(t,e,{root:n,margin:r,amount:i="any"}={}){const s=kF(t),o=new WeakMap,a=u=>{u.forEach(c=>{const f=o.get(c.target);if(c.isIntersecting!==!!f)if(c.isIntersecting){const h=e(c);typeof h=="function"?o.set(c.target,h):l.unobserve(c.target)}else f&&(f(c),o.delete(c.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:OF[i]});return s.forEach(u=>l.observe(u)),()=>l.disconnect()}function gh(t,{root:e,margin:n,amount:r,once:i=!1}={}){const[s,o]=N.useState(!1);return N.useEffect(()=>{if(!t.current||i&&s)return;const a=()=>(o(!0),i?void 0:()=>o(!1)),l={root:e&&e.current||void 0,margin:n,amount:r==="some"?"any":r};return DF(t.current,a,l)},[e,t,n,i]),s}const NF=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},HR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),r.push(n[c],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new MF;const h=s<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VF=function(t){const e=zR(t);return HR.encodeByteArray(e,!0)},ld=function(t){return VF(t).replace(/\./g,"")},qR=function(t){try{return HR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=()=>jF().__FIREBASE_DEFAULTS__,UF=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$F=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qR(t[1]);return e&&JSON.parse(e)},P0=()=>{try{return FF()||UF()||$F()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WR=t=>{var e,n;return(n=(e=P0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BF=t=>{const e=WR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KR=()=>{var t;return(t=P0())===null||t===void 0?void 0:t.config},QR=t=>{var e;return(e=P0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ld(JSON.stringify(n)),ld(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function WF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QF(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GF(){try{return typeof indexedDB=="object"}catch{return!1}}function YF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="FirebaseError";class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XF,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wu.prototype.create)}}class Wu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?JF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yi(i,a,r)}}function JF(t,e){return t.replace(ZF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZF=/\{\$([^}]+)}/g;function eU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ud(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(IP(s)&&IP(o)){if(!ud(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function _l(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tU(t,e){const n=new nU(t,e);return n.subscribe.bind(n)}class nU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=em),i.error===void 0&&(i.error=em),i.complete===void 0&&(i.complete=em);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oU(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sU(t){return t===vs?void 0:t}function oU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const lU={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},uU=Ae.INFO,cU={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},fU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x0{constructor(e){this.name=e,this._logLevel=uU,this._logHandler=fU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const dU=(t,e)=>e.some(n=>t instanceof n);let AP,CP;function hU(){return AP||(AP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pU(){return CP||(CP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GR=new WeakMap,og=new WeakMap,YR=new WeakMap,tm=new WeakMap,T0=new WeakMap;function mU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ki(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GR.set(n,t)}).catch(()=>{}),T0.set(e,t),e}function yU(t){if(og.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});og.set(t,e)}let ag={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return og.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gU(t){ag=t(ag)}function vU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nm(this),e,...n);return YR.set(r,e.sort?e.sort():[e]),Ki(r)}:pU().includes(t)?function(...e){return t.apply(nm(this),e),Ki(GR.get(this))}:function(...e){return Ki(t.apply(nm(this),e))}}function _U(t){return typeof t=="function"?vU(t):(t instanceof IDBTransaction&&yU(t),dU(t,hU())?new Proxy(t,ag):t)}function Ki(t){if(t instanceof IDBRequest)return mU(t);if(tm.has(t))return tm.get(t);const e=_U(t);return e!==t&&(tm.set(t,e),T0.set(e,t)),e}const nm=t=>T0.get(t);function wU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ki(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ki(o.result),l.oldVersion,l.newVersion,Ki(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const EU=["get","getKey","getAll","getAllKeys","count"],PU=["put","add","delete","clear"],rm=new Map;function kP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return rm.set(e,s),s}gU(t=>({...t,get:(e,n,r)=>kP(e,n)||t.get(e,n,r),has:(e,n)=>!!kP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lg="@firebase/app",OP="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new x0("@firebase/app"),SU="@firebase/app-compat",bU="@firebase/analytics-compat",RU="@firebase/analytics",IU="@firebase/app-check-compat",AU="@firebase/app-check",CU="@firebase/auth",kU="@firebase/auth-compat",OU="@firebase/database",DU="@firebase/database-compat",NU="@firebase/functions",LU="@firebase/functions-compat",MU="@firebase/installations",VU="@firebase/installations-compat",jU="@firebase/messaging",FU="@firebase/messaging-compat",UU="@firebase/performance",$U="@firebase/performance-compat",BU="@firebase/remote-config",zU="@firebase/remote-config-compat",HU="@firebase/storage",qU="@firebase/storage-compat",WU="@firebase/firestore",KU="@firebase/firestore-compat",QU="firebase",GU="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="[DEFAULT]",YU={[lg]:"fire-core",[SU]:"fire-core-compat",[RU]:"fire-analytics",[bU]:"fire-analytics-compat",[AU]:"fire-app-check",[IU]:"fire-app-check-compat",[CU]:"fire-auth",[kU]:"fire-auth-compat",[OU]:"fire-rtdb",[DU]:"fire-rtdb-compat",[NU]:"fire-fn",[LU]:"fire-fn-compat",[MU]:"fire-iid",[VU]:"fire-iid-compat",[jU]:"fire-fcm",[FU]:"fire-fcm-compat",[UU]:"fire-perf",[$U]:"fire-perf-compat",[BU]:"fire-rc",[zU]:"fire-rc-compat",[HU]:"fire-gcs",[qU]:"fire-gcs-compat",[WU]:"fire-fst",[KU]:"fire-fst-compat","fire-js":"fire-js",[QU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Map,cg=new Map;function XU(t,e){try{t.container.addComponent(e)}catch(n){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(cg.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;cg.set(e,t);for(const n of cd.values())XU(n,t);return!0}function S0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qi=new Wu("app","Firebase",JU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=GU;function XR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ug,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qi.create("bad-app-name",{appName:String(i)});if(n||(n=KR()),!n)throw Qi.create("no-options");const s=cd.get(i);if(s){if(ud(n,s.options)&&ud(r,s.config))return s;throw Qi.create("duplicate-app",{appName:i})}const o=new aU(i);for(const l of cg.values())o.addComponent(l);const a=new ZU(n,r,o);return cd.set(i,a),a}function JR(t=ug){const e=cd.get(t);if(!e&&t===ug&&KR())return XR();if(!e)throw Qi.create("no-app",{appName:t});return e}function Gi(t,e,n){var r;let i=(r=YU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(a.join(" "));return}ya(new Ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="firebase-heartbeat-database",t4=1,yu="firebase-heartbeat-store";let im=null;function ZR(){return im||(im=wU(e4,t4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(yu)}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),im}async function n4(t){try{return await(await ZR()).transaction(yu).objectStore(yu).get(eI(t))}catch(e){if(e instanceof yi)Qs.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qs.warn(n.message)}}}async function DP(t,e){try{const r=(await ZR()).transaction(yu,"readwrite");await r.objectStore(yu).put(e,eI(t)),await r.done}catch(n){if(n instanceof yi)Qs.warn(n.message);else{const r=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qs.warn(r.message)}}}function eI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=1024,i4=30*24*60*60*1e3;class s4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=NP();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=i4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=NP(),{heartbeatsToSend:n,unsentEntries:r}=o4(this._heartbeatsCache.heartbeats),i=ld(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function NP(){return new Date().toISOString().substring(0,10)}function o4(t,e=r4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),LP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class a4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GF()?YF().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await n4(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return DP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return DP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function LP(t){return ld(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){ya(new Ks("platform-logger",e=>new xU(e),"PRIVATE")),ya(new Ks("heartbeat",e=>new s4(e),"PRIVATE")),Gi(lg,OP,t),Gi(lg,OP,"esm2017"),Gi("fire-js","")}l4("");function b0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function MP(t){return t!==void 0&&t.enterprise!==void 0}class u4{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function tI(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c4=tI,nI=new Wu("auth","Firebase",tI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new x0("@firebase/auth");function f4(t,...e){fd.logLevel<=Ae.WARN&&fd.warn(`Auth (${Ma}): ${t}`,...e)}function pf(t,...e){fd.logLevel<=Ae.ERROR&&fd.error(`Auth (${Ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw R0(t,...e)}function Cr(t,...e){return R0(t,...e)}function rI(t,e,n){const r=Object.assign(Object.assign({},c4()),{[e]:n});return new Wu("auth","Firebase",r).create(e,{appName:t.name})}function d4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&nr(t,"argument-error"),rI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function R0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nI.create(t,...e)}function ye(t,e,...n){if(!t)throw R0(e,...n)}function Gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pf(e),new Error(e)}function li(t,e){t||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h4(){return VP()==="http:"||VP()==="https:"}function VP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h4()||WF()||"connection"in navigator)?navigator.onLine:!0}function m4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=qF()||KF()}get(){return p4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t,e){li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new Qu(3e4,6e4);function lo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function as(t,e,n,r,i={}){return sI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ku(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),iI.fetch()(oI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function sI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},y4),e);try{const i=new v4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw zc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw zc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw zc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw rI(t,c,u);nr(t,c)}}catch(i){if(i instanceof yi)throw i;nr(t,"network-request-failed",{message:String(i)})}}async function Gu(t,e,n,r,i={}){const s=await as(t,e,n,r,i);return"mfaPendingCredential"in s&&nr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function oI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?I0(t.config,i):`${t.config.apiScheme}://${i}`}class v4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),g4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}async function _4(t,e){return as(t,"GET","/v2/recaptchaConfig",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e){return as(t,"POST","/v1/accounts:delete",e)}async function E4(t,e){return as(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P4(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),i=A0(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ul(sm(i.auth_time)),issuedAtTime:Ul(sm(i.iat)),expirationTime:Ul(sm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sm(t){return Number(t)*1e3}function A0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pf("JWT malformed, contained fewer than 3 sections"),null;try{const i=qR(n);return i?JSON.parse(i):(pf("Failed to decode base64 JWT payload"),null)}catch(i){return pf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function x4(t){const e=A0(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yi&&T4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function T4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gs(t,E4(n,{idToken:r}));ye(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?I4(s.providerUserInfo):[],a=R4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new aI(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function b4(t){const e=Vt(t);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function I4(t){return t.map(e=>{var{providerId:n}=e,r=b0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){const n=await sI(t,{},async()=>{const r=Ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=oI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ye(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await A4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new gu;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ye(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gu,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ms{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=b0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new S4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new aI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gs(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P4(this,e)}reload(){return b4(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Gs(this,w4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:P,emailVerified:I,isAnonymous:T,providerData:b,stsTokenManager:w}=n;ye(P&&w,e,"internal-error");const d=gu.fromJSON(this.name,w);ye(typeof P=="string",e,"internal-error"),Ei(f,e.name),Ei(h,e.name),ye(typeof I=="boolean",e,"internal-error"),ye(typeof T=="boolean",e,"internal-error"),Ei(g,e.name),Ei(E,e.name),Ei(S,e.name),Ei(R,e.name),Ei(v,e.name),Ei(_,e.name);const y=new Ms({uid:P,auth:e,email:h,emailVerified:I,displayName:f,isAnonymous:T,photoURL:E,phoneNumber:g,tenantId:S,stsTokenManager:d,createdAt:v,lastLoginAt:_});return b&&Array.isArray(b)&&(y.providerData=b.map(p=>Object.assign({},p))),R&&(y._redirectEventId=R),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new gu;i.updateFromServerResponse(n);const s=new Ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new Map;function Yr(t){li(t instanceof Function,"Expected a class definition");let e=jP.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lI.type="NONE";const FP=lI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t,e,n){return`firebase:${t}:${e}:${n}`}class ta{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mf(this.userKey,i.apiKey,s),this.fullPersistenceKey=mf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ms._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ta(Yr(FP),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Yr(FP);const o=mf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const f=Ms._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ta(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ta(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hI(e))return"Blackberry";if(pI(e))return"Webos";if(C0(e))return"Safari";if((e.includes("chrome/")||cI(e))&&!e.includes("edge/"))return"Chrome";if(dI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uI(t=ln()){return/firefox\//i.test(t)}function C0(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cI(t=ln()){return/crios\//i.test(t)}function fI(t=ln()){return/iemobile/i.test(t)}function dI(t=ln()){return/android/i.test(t)}function hI(t=ln()){return/blackberry/i.test(t)}function pI(t=ln()){return/webos/i.test(t)}function vh(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C4(t=ln()){var e;return vh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k4(){return QF()&&document.documentMode===10}function mI(t=ln()){return vh(t)||dI(t)||pI(t)||hI(t)||/windows phone/i.test(t)||fI(t)}function O4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e=[]){let n;switch(t){case"Browser":n=UP(ln());break;case"Worker":n=`${UP(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e={}){return as(t,"GET","/v2/passwordPolicy",lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=6;class M4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:L4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $P(this),this.idTokenSubscription=new $P(this),this.beforeStateQueue=new D4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Vt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N4(this),n=new M4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&f4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ls(t){return Vt(t)}class $P{constructor(e){this.auth=e,this.observer=null,this.addObserver=tU(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function gI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",j4().appendChild(r)})}function F4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const U4="https://www.google.com/recaptcha/enterprise.js?render=",$4="recaptcha-enterprise",B4="NO_RECAPTCHA";class z4{constructor(e){this.type=$4,this.auth=ls(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{_4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new u4(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;MP(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(B4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&MP(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}gI(U4+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function hd(t,e,n,r=!1){const i=new z4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e){const n=S0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ud(s,e??{}))return i;nr(i,"already-initialized")}return n.initialize({options:e})}function q4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function W4(t,e,n){const r=ls(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=vI(e),{host:o,port:a}=K4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Q4()}function vI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K4(t){const e=vI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:BP(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:BP(o)}}}function BP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Q4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function _I(t,e){return as(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(t,e){return Gu(t,"POST","/v1/accounts:signInWithPassword",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e){return Gu(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}async function Y4(t,e){return Gu(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends k0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await hd(e,r,"signInWithPassword");return om(e,i)}else return om(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await hd(e,r,"signInWithPassword");return om(e,s)}else return Promise.reject(i)});case"emailLink":return G4(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return _I(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Y4(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(t,e){return Gu(t,"POST","/v1/accounts:signInWithIdp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="http://localhost";class Ys extends k0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=b0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ys(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return na(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,na(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,na(e,n)}buildRequest(){const e={requestUri:X4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z4(t){const e=vl(_l(t)).link,n=e?vl(_l(e)).deep_link_id:null,r=vl(_l(t)).deep_link_id;return(r?vl(_l(r)).link:null)||r||n||e||t}class O0{constructor(e){var n,r,i,s,o,a;const l=vl(_l(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=J4((i=l.mode)!==null&&i!==void 0?i:null);ye(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Z4(e);try{return new O0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.providerId=Va.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=O0.parseLink(n);return ye(r,"argument-error"),vu._fromEmailAndCode(e,r.code,r.tenantId)}}Va.PROVIDER_ID="password";Va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends D0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Yu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Yu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.GITHUB_SIGN_IN_METHOD="github.com";ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Yu{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(t,e){return Gu(t,"POST","/v1/accounts:signUp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ms._fromIdTokenResponse(e,r,i),o=zP(r);return new Xs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=zP(r);return new Xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function zP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends yi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new pd(e,n,r,i)}}function wI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pd._fromErrorAndOperation(t,s,e,r):s})}async function e5(t,e,n=!1){const r=await Gs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t5(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Gs(t,wI(r,i,e,t),n);ye(s.idToken,r,"internal-error");const o=A0(s.idToken);ye(o,r,"internal-error");const{sub:a}=o;return ye(t.uid===a,r,"user-mismatch"),Xs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(t,e,n=!1){const r="signIn",i=await wI(t,r,e),s=await Xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function n5(t,e){return EI(ls(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(t){const e=ls(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function r5(t,e,n){var r;const i=ls(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await hd(i,s,"signUpPassword");o=am(i,u)}else o=am(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await hd(i,s,"signUpPassword");return am(i,c)}throw u});const a=await o.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&PI(t),u}),l=await Xs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function i5(t,e,n){return n5(Vt(t),Va.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t,e){return as(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Vt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Gs(r,s5(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function a5(t,e){return l5(Vt(t),null,e)}async function l5(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Gs(t,_I(r,s));await t._updateTokensIfNecessary(o,!0)}function u5(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function c5(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function f5(t,e,n,r){return Vt(t).onAuthStateChanged(e,n,r)}function d5(t){return Vt(t).signOut()}const md="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(){const t=ln();return C0(t)||vh(t)}const p5=1e3,m5=10;class TI extends xI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=h5()&&O4(),this.fallbackToPolling=mI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);k4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,m5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},p5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TI.type="LOCAL";const y5=TI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI extends xI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SI.type="SESSION";const bI=SI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await g5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=N0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function _5(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function w5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function P5(){return RI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="firebaseLocalStorageDb",x5=1,yd="firebaseLocalStorage",AI="fbase_key";class Xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function T5(){const t=indexedDB.deleteDatabase(II);return new Xu(t).toPromise()}function dg(){const t=indexedDB.open(II,x5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yd,{keyPath:AI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),await T5(),e(await dg()))})})}async function HP(t,e,n){const r=wh(t,!0).put({[AI]:e,value:n});return new Xu(r).toPromise()}async function S5(t,e){const n=wh(t,!1).get(e),r=await new Xu(n).toPromise();return r===void 0?null:r.value}function qP(t,e){const n=wh(t,!0).delete(e);return new Xu(n).toPromise()}const b5=800,R5=3;class CI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>R5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(P5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await w5(),!this.activeServiceWorker)return;this.sender=new v5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await HP(e,md,"1"),await qP(e,md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>HP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>S5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wh(i,!1).getAll();return new Xu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CI.type="LOCAL";const I5=CI;new Qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t,e){return e?Yr(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends k0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function A5(t){return EI(t.auth,new L0(t),t.bypassAuthState)}function C5(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),t5(n,new L0(t),t.bypassAuthState)}async function k5(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),e5(n,new L0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A5;case"linkViaPopup":case"linkViaRedirect":return k5;case"reauthViaPopup":case"reauthViaRedirect":return C5;default:nr(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=new Qu(2e3,1e4);async function D5(t,e,n){const r=ls(t);d4(t,e,D0);const i=kI(r,n);return new Ss(r,"signInViaPopup",e,i).executeNotNull()}class Ss extends OI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=N0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O5.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="pendingRedirect",yf=new Map;class L5 extends OI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yf.get(this.auth._key());if(!e){try{const r=await M5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yf.set(this.auth._key(),e)}return this.bypassAuthState||yf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M5(t,e){const n=F5(e),r=j5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function V5(t,e){yf.set(t._key(),e)}function j5(t){return Yr(t._redirectPersistence)}function F5(t){return mf(N5,t.config.apiKey,t.name)}async function U5(t,e,n=!1){const r=ls(t),i=kI(r,e),o=await new L5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=10*60*1e3;class B5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$5&&this.cachedEventUids.clear(),this.cachedEventUids.has(WP(e))}saveEventToCache(e){this.cachedEventUids.add(WP(e)),this.lastProcessedEventTime=Date.now()}}function WP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function z5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e={}){return as(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W5=/^https?/;async function K5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await H5(t);for(const n of e)try{if(Q5(n))return}catch{}nr(t,"unauthorized-domain")}function Q5(t){const e=fg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!W5.test(n))return!1;if(q5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new Qu(3e4,6e4);function KP(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Y5(t){return new Promise((e,n)=>{var r,i,s;function o(){KP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KP(),n(Cr(t,"network-request-failed"))},timeout:G5.get()})}if(!((i=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=kr().gapi)===null||s===void 0)&&s.load)o();else{const a=F4("iframefcb");return kr()[a]=()=>{gapi.load?o():n(Cr(t,"network-request-failed"))},gI(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gf=null,e})}let gf=null;function X5(t){return gf=gf||Y5(t),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new Qu(5e3,15e3),Z5="__/auth/iframe",e3="emulator/auth/iframe",t3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r3(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?I0(e,e3):`https://${t.config.authDomain}/${Z5}`,r={apiKey:e.apiKey,appName:t.name,v:Ma},i=n3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ku(r).slice(1)}`}async function i3(t){const e=await X5(t),n=kr().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:r3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Cr(t,"network-request-failed"),a=kr().setTimeout(()=>{s(o)},J5.get());function l(){kr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o3=500,a3=600,l3="_blank",u3="http://localhost";class QP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c3(t,e,n,r=o3,i=a3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},s3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ln().toLowerCase();n&&(a=cI(u)?l3:n),uI(u)&&(e=e||u3,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[g,E])=>`${h}${g}=${E},`,"");if(C4(u)&&a!=="_self")return f3(e||"",a),new QP(null);const f=window.open(e||"",a,c);ye(f,t,"popup-blocked");try{f.focus()}catch{}return new QP(f)}function f3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="__/auth/handler",h3="emulator/auth/handler",p3=encodeURIComponent("fac");async function GP(t,e,n,r,i,s){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ma,eventId:i};if(e instanceof D0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",eU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(e instanceof Yu){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${p3}=${encodeURIComponent(l)}`:"";return`${m3(t)}?${Ku(a).slice(1)}${u}`}function m3({config:t}){return t.emulator?I0(t,h3):`https://${t.authDomain}/${d3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="webStorageSupport";class y3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bI,this._completeRedirectFn=U5,this._overrideRedirectResult=V5}async _openPopup(e,n,r,i){var s;li((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await GP(e,n,r,fg(),i);return c3(e,o,N0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await GP(e,n,r,fg(),i);return _5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(li(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await i3(e),r=new B5(e);return n.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lm,{type:lm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[lm];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mI()||C0()||vh()}}const g3=y3;var YP="@firebase/auth",XP="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function w3(t){ya(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yI(t)},u=new V4(r,i,s,l);return q4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ya(new Ks("auth-internal",e=>{const n=ls(e.getProvider("auth").getImmediate());return(r=>new v3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(YP,XP,_3(t)),Gi(YP,XP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=5*60,P3=QR("authIdTokenMaxAge")||E3;let JP=null;const x3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>P3)return;const i=n==null?void 0:n.token;JP!==i&&(JP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function T3(t=JR()){const e=S0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=H4(t,{popupRedirectResolver:g3,persistence:[I5,y5,bI]}),r=QR("authTokenSyncURL");if(r){const s=x3(r);c5(n,s,()=>s(n.currentUser)),u5(n,o=>s(o))}const i=WR("auth");return i&&W4(n,`http://${i}`),n}w3("Browser");var S3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee,M0=M0||{},ve=S3||self;function Eh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ju(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function b3(t){return Object.prototype.hasOwnProperty.call(t,um)&&t[um]||(t[um]=++R3)}var um="closure_uid_"+(1e9*Math.random()>>>0),R3=0;function I3(t,e,n){return t.call.apply(t.bind,arguments)}function A3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function rn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rn=I3:rn=A3,rn.apply(null,arguments)}function Hc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ft(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function us(){this.s=this.s,this.o=this.o}var C3=0;us.prototype.s=!1;us.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),C3!=0)&&b3(this)};us.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function V0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ZP(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Eh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function sn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}sn.prototype.h=function(){this.defaultPrevented=!0};var k3=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ve.addEventListener("test",()=>{},e),ve.removeEventListener("test",()=>{},e)}catch{}return t}();function _u(t){return/^[\s\xa0]*$/.test(t)}function Ph(){var t=ve.navigator;return t&&(t=t.userAgent)?t:""}function xr(t){return Ph().indexOf(t)!=-1}function j0(t){return j0[" "](t),t}j0[" "]=function(){};function O3(t,e){var n=T$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var D3=xr("Opera"),ga=xr("Trident")||xr("MSIE"),LI=xr("Edge"),hg=LI||ga,MI=xr("Gecko")&&!(Ph().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge"))&&!(xr("Trident")||xr("MSIE"))&&!xr("Edge"),N3=Ph().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge");function VI(){var t=ve.document;return t?t.documentMode:void 0}var pg;e:{var cm="",fm=function(){var t=Ph();if(MI)return/rv:([^\);]+)(\)|;)/.exec(t);if(LI)return/Edge\/([\d\.]+)/.exec(t);if(ga)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(N3)return/WebKit\/(\S+)/.exec(t);if(D3)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(fm&&(cm=fm?fm[1]:""),ga){var dm=VI();if(dm!=null&&dm>parseFloat(cm)){pg=String(dm);break e}}pg=cm}var mg;if(ve.document&&ga){var ex=VI();mg=ex||parseInt(pg,10)||void 0}else mg=void 0;var L3=mg;function wu(t,e){if(sn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(MI){e:{try{j0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:M3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wu.$.h.call(this)}}Ft(wu,sn);var M3={2:"touch",3:"pen",4:"mouse"};wu.prototype.h=function(){wu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zu="closure_listenable_"+(1e6*Math.random()|0),V3=0;function j3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++V3,this.fa=this.ia=!1}function xh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function F0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function F3(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function jI(t){const e={};for(const n in t)e[n]=t[n];return e}const tx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<tx.length;s++)n=tx[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Th(t){this.src=t,this.g={},this.h=0}Th.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=gg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new j3(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function yg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=NI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(xh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function gg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var U0="closure_lm_"+(1e6*Math.random()|0),hm={};function UI(t,e,n,r,i){if(r&&r.once)return BI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)UI(t,e[s],n,r,i);return null}return n=z0(n),t&&t[Zu]?t.O(e,n,Ju(r)?!!r.capture:!!r,i):$I(t,e,n,!1,r,i)}function $I(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ju(i)?!!i.capture:!!i,a=B0(t);if(a||(t[U0]=a=new Th(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=U3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)k3||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(HI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function U3(){function t(n){return e.call(t.src,t.listener,n)}const e=$3;return t}function BI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)BI(t,e[s],n,r,i);return null}return n=z0(n),t&&t[Zu]?t.P(e,n,Ju(r)?!!r.capture:!!r,i):$I(t,e,n,!0,r,i)}function zI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zI(t,e[s],n,r,i);else r=Ju(r)?!!r.capture:!!r,n=z0(n),t&&t[Zu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=gg(s,n,r,i),-1<n&&(xh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=B0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gg(e,n,r,i)),(n=-1<t?e[t]:null)&&$0(n))}function $0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Zu])yg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(HI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=B0(e))?(yg(n,t),n.h==0&&(n.src=null,e[U0]=null)):xh(t)}}}function HI(t){return t in hm?hm[t]:hm[t]="on"+t}function $3(t,e){if(t.fa)t=!0;else{e=new wu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$0(t),t=n.call(r,e)}return t}function B0(t){return t=t[U0],t instanceof Th?t:null}var pm="__closure_events_fn_"+(1e9*Math.random()>>>0);function z0(t){return typeof t=="function"?t:(t[pm]||(t[pm]=function(e){return t.handleEvent(e)}),t[pm])}function jt(){us.call(this),this.i=new Th(this),this.S=this,this.J=null}Ft(jt,us);jt.prototype[Zu]=!0;jt.prototype.removeEventListener=function(t,e,n,r){zI(this,t,e,n,r)};function Wt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new sn(e,t);else if(e instanceof sn)e.target=e.target||t;else{var i=e;e=new sn(r,t),FI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=qc(o,r,!0,e)&&i}if(o=e.g=t,i=qc(o,r,!0,e)&&i,i=qc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=qc(o,r,!1,e)&&i}jt.prototype.N=function(){if(jt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xh(n[r]);delete t.g[e],t.h--}}this.J=null};jt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};jt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function qc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&yg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var H0=ve.JSON.stringify;class B3{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function z3(){var t=q0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class H3{constructor(){this.h=this.g=null}add(e,n){const r=qI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var qI=new B3(()=>new q3,t=>t.reset());class q3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function W3(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function K3(t){ve.setTimeout(()=>{throw t},0)}let Eu,Pu=!1,q0=new H3,WI=()=>{const t=ve.Promise.resolve(void 0);Eu=()=>{t.then(Q3)}};var Q3=()=>{for(var t;t=z3();){try{t.h.call(t.g)}catch(n){K3(n)}var e=qI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pu=!1};function Sh(t,e){jt.call(this),this.h=t||1,this.g=e||ve,this.j=rn(this.qb,this),this.l=Date.now()}Ft(Sh,jt);ee=Sh.prototype;ee.ga=!1;ee.T=null;ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wt(this,"tick"),this.ga&&(W0(this),this.start()))}};ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function W0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ee.N=function(){Sh.$.N.call(this),W0(this),delete this.g};function K0(t,e,n){if(typeof t=="function")n&&(t=rn(t,n));else if(t&&typeof t.handleEvent=="function")t=rn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ve.setTimeout(t,e||0)}function KI(t){t.g=K0(()=>{t.g=null,t.i&&(t.i=!1,KI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class G3 extends us{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KI(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xu(t){us.call(this),this.h=t,this.g={}}Ft(xu,us);var nx=[];function QI(t,e,n,r){Array.isArray(n)||(n&&(nx[0]=n.toString()),n=nx);for(var i=0;i<n.length;i++){var s=UI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function GI(t){F0(t.g,function(e,n){this.g.hasOwnProperty(n)&&$0(e)},t),t.g={}}xu.prototype.N=function(){xu.$.N.call(this),GI(this)};xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bh(){this.g=!0}bh.prototype.Ea=function(){this.g=!1};function Y3(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function X3(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ho(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Z3(t,n)+(r?" "+r:"")})}function J3(t,e){t.info(function(){return"TIMEOUT: "+e})}bh.prototype.info=function(){};function Z3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return H0(n)}catch{return e}}var uo={},rx=null;function Rh(){return rx=rx||new jt}uo.Ta="serverreachability";function YI(t){sn.call(this,uo.Ta,t)}Ft(YI,sn);function Tu(t){const e=Rh();Wt(e,new YI(e))}uo.STAT_EVENT="statevent";function XI(t,e){sn.call(this,uo.STAT_EVENT,t),this.stat=e}Ft(XI,sn);function gn(t){const e=Rh();Wt(e,new XI(e,t))}uo.Ua="timingevent";function JI(t,e){sn.call(this,uo.Ua,t),this.size=e}Ft(JI,sn);function ec(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){t()},e)}var Ih={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ZI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Q0(){}Q0.prototype.h=null;function ix(t){return t.h||(t.h=t.i())}function eA(){}var tc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function G0(){sn.call(this,"d")}Ft(G0,sn);function Y0(){sn.call(this,"c")}Ft(Y0,sn);var vg;function Ah(){}Ft(Ah,Q0);Ah.prototype.g=function(){return new XMLHttpRequest};Ah.prototype.i=function(){return{}};vg=new Ah;function nc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new xu(this),this.P=e$,t=hg?125:void 0,this.V=new Sh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tA}function tA(){this.i=null,this.g="",this.h=!1}var e$=45e3,_g={},gd={};ee=nc.prototype;ee.setTimeout=function(t){this.P=t};function wg(t,e,n){t.L=1,t.v=kh(ui(e)),t.s=n,t.S=!0,nA(t,null)}function nA(t,e){t.G=Date.now(),rc(t),t.A=ui(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),cA(n.i,"t",r),t.C=0,n=t.l.J,t.h=new tA,t.g=kA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new G3(rn(t.Pa,t,t.g),t.O)),QI(t.U,t.g,"readystatechange",t.nb),e=t.I?jI(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Tu(),Y3(t.j,t.u,t.A,t.m,t.W,t.s)}ee.nb=function(t){t=t.target;const e=this.M;e&&Tr(t)==3?e.l():this.Pa(t)};ee.Pa=function(t){try{if(t==this.g)e:{const c=Tr(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||hg||this.g&&(this.h.h||this.g.ja()||lx(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?Tu(3):Tu(2)),Ch(this);var n=this.g.da();this.ca=n;t:if(rA(this)){var r=lx(this.g);t="";var i=r.length,s=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bs(this),$l(this);var o="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,X3(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_u(a)){var u=a;break t}}u=null}if(n=u)Ho(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eg(this,n);else{this.i=!1,this.o=3,gn(12),bs(this),$l(this);break e}}this.S?(iA(this,c,o),hg&&this.i&&c==3&&(QI(this.U,this.V,"tick",this.mb),this.V.start())):(Ho(this.j,this.m,o,null),Eg(this,o)),c==4&&bs(this),this.i&&!this.J&&(c==4?RA(this.l,this):(this.i=!1,rc(this)))}else E$(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,gn(12)):(this.o=0,gn(13)),bs(this),$l(this)}}}catch{}finally{}};function rA(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function iA(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=t$(t,n),i==gd){e==4&&(t.o=4,gn(14),r=!1),Ho(t.j,t.m,null,"[Incomplete Response]");break}else if(i==_g){t.o=4,gn(15),Ho(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ho(t.j,t.m,i,null),Eg(t,i);rA(t)&&i!=gd&&i!=_g&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,gn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),n_(e),e.M=!0,gn(11))):(Ho(t.j,t.m,n,"[Invalid Chunked Response]"),bs(t),$l(t))}ee.mb=function(){if(this.g){var t=Tr(this.g),e=this.g.ja();this.C<e.length&&(Ch(this),iA(this,t,e),this.i&&t!=4&&rc(this))}};function t$(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?gd:(n=Number(e.substring(n,r)),isNaN(n)?_g:(r+=1,r+n>e.length?gd:(e=e.slice(r,r+n),t.C=r+n,e)))}ee.cancel=function(){this.J=!0,bs(this)};function rc(t){t.Y=Date.now()+t.P,sA(t,t.P)}function sA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ec(rn(t.lb,t),e)}function Ch(t){t.B&&(ve.clearTimeout(t.B),t.B=null)}ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(J3(this.j,this.A),this.L!=2&&(Tu(),gn(17)),bs(this),this.o=2,$l(this)):sA(this,this.Y-t)};function $l(t){t.l.H==0||t.J||RA(t.l,t)}function bs(t){Ch(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,W0(t.V),GI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Eg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Pg(n.i,t))){if(!t.K&&Pg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)wd(n),Lh(n);else break e;t_(n),gn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ec(rn(n.ib,n),6e3));if(1>=hA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Rs(n,11)}else if((t.K||n.g==t)&&wd(n),!_u(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const E=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=r.i;s.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(X0(s,s.h),s.h=null))}if(r.F){const S=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(r.Da=S,Ke(r.I,r.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=CA(r,r.J?r.pa:null,r.Y),o.K){pA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Ch(a),rc(a)),r.g=o}else SA(r);0<n.j.length&&Mh(n)}else u[0]!="stop"&&u[0]!="close"||Rs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Rs(n,7):e_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Tu(4)}catch{}}function n$(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Eh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function r$(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Eh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function oA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Eh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=r$(t),r=n$(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var aA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function i$(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Vs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vs){this.h=t.h,vd(this,t.j),this.s=t.s,this.g=t.g,_d(this,t.m),this.l=t.l;var e=t.i,n=new Su;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),sx(this,n),this.o=t.o}else t&&(e=String(t).match(aA))?(this.h=!1,vd(this,e[1]||"",!0),this.s=wl(e[2]||""),this.g=wl(e[3]||"",!0),_d(this,e[4]),this.l=wl(e[5]||"",!0),sx(this,e[6]||"",!0),this.o=wl(e[7]||"")):(this.h=!1,this.i=new Su(null,this.h))}Vs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(El(e,ox,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(El(e,ox,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(El(n,n.charAt(0)=="/"?a$:o$,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",El(n,u$)),t.join("")};function ui(t){return new Vs(t)}function vd(t,e,n){t.j=n?wl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _d(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function sx(t,e,n){e instanceof Su?(t.i=e,c$(t.i,t.h)):(n||(e=El(e,l$)),t.i=new Su(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function kh(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function wl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function El(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,s$),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function s$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ox=/[#\/\?@]/g,o$=/[#\?:]/g,a$=/[#\?]/g,l$=/[#\?@]/g,u$=/#/g;function Su(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function cs(t){t.g||(t.g=new Map,t.h=0,t.i&&i$(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=Su.prototype;ee.add=function(t,e){cs(this),this.i=null,t=ja(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function lA(t,e){cs(t),e=ja(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function uA(t,e){return cs(t),e=ja(t,e),t.g.has(e)}ee.forEach=function(t,e){cs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ee.ta=function(){cs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ee.Z=function(t){cs(this);let e=[];if(typeof t=="string")uA(this,t)&&(e=e.concat(this.g.get(ja(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ee.set=function(t,e){return cs(this),this.i=null,t=ja(this,t),uA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function cA(t,e,n){lA(t,e),0<n.length&&(t.i=null,t.g.set(ja(t,e),V0(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ja(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function c$(t,e){e&&!t.j&&(cs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(lA(this,r),cA(this,i,n))},t)),t.j=e}var f$=class{constructor(t,e){this.g=t,this.map=e}};function fA(t){this.l=t||d$,ve.PerformanceNavigationTiming?(t=ve.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var d$=10;function dA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hA(t){return t.h?1:t.g?t.g.size:0}function Pg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function X0(t,e){t.g?t.g.add(e):t.h=e}function pA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}fA.prototype.cancel=function(){if(this.i=mA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function mA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return V0(t.i)}var h$=class{stringify(t){return ve.JSON.stringify(t,void 0)}parse(t){return ve.JSON.parse(t,void 0)}};function p$(){this.g=new h$}function m$(t,e,n){const r=n||"";try{oA(t,function(i,s){let o=i;Ju(i)&&(o=H0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function y$(t,e){const n=new bh;if(ve.Image){const r=new Image;r.onload=Hc(Wc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hc(Wc,n,r,"TestLoadImage: error",!1,e),r.onabort=Hc(Wc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hc(Wc,n,r,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Wc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Oh(t){this.l=t.ec||null,this.j=t.ob||!1}Ft(Oh,Q0);Oh.prototype.g=function(){return new Dh(this.l,this.j)};Oh.prototype.i=function(t){return function(){return t}}({});function Dh(t,e){jt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=J0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft(Dh,jt);var J0=0;ee=Dh.prototype;ee.open=function(t,e){if(this.readyState!=J0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bu(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ic(this)),this.readyState=J0};ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bu(this)),this.g&&(this.readyState=3,bu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function yA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ic(this):bu(this),this.readyState==3&&yA(this)}};ee.Za=function(t){this.g&&(this.response=this.responseText=t,ic(this))};ee.Ya=function(t){this.g&&(this.response=t,ic(this))};ee.ka=function(){this.g&&ic(this)};function ic(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bu(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function bu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var g$=ve.JSON.parse;function dt(t){jt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gA,this.L=this.M=!1}Ft(dt,jt);var gA="",v$=/^https?$/i,_$=["POST","PUT"];ee=dt.prototype;ee.Oa=function(t){this.M=t};ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vg.g(),this.C=this.u?ix(this.u):ix(vg),this.g.onreadystatechange=rn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ax(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ve.FormData&&t instanceof ve.FormData,!(0<=NI(_$,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wA(this),0<this.B&&((this.L=w$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.ua,this)):this.A=K0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ax(this,s)}};function w$(t){return ga&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ee.ua=function(){typeof M0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wt(this,"timeout"),this.abort(8))};function ax(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vA(t),Nh(t)}function vA(t){t.F||(t.F=!0,Wt(t,"complete"),Wt(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Wt(this,"complete"),Wt(this,"abort"),Nh(this))};ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nh(this,!0)),dt.$.N.call(this)};ee.La=function(){this.s||(this.G||this.v||this.l?_A(this):this.kb())};ee.kb=function(){_A(this)};function _A(t){if(t.h&&typeof M0<"u"&&(!t.C[1]||Tr(t)!=4||t.da()!=2)){if(t.v&&Tr(t)==4)K0(t.La,0,t);else if(Wt(t,"readystatechange"),Tr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(aA)[1]||null;!i&&ve.self&&ve.self.location&&(i=ve.self.location.protocol.slice(0,-1)),r=!v$.test(i?i.toLowerCase():"")}n=r}if(n)Wt(t,"complete"),Wt(t,"success");else{t.m=6;try{var s=2<Tr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",vA(t)}}finally{Nh(t)}}}}function Nh(t,e){if(t.g){wA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Wt(t,"ready");try{n.onreadystatechange=r}catch{}}}function wA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ve.clearTimeout(t.A),t.A=null)}ee.isActive=function(){return!!this.g};function Tr(t){return t.g?t.g.readyState:0}ee.da=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}};ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),g$(e)}};function lx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case gA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function E$(t){const e={};t=(t.g&&2<=Tr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(_u(t[r]))continue;var n=W3(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}F3(e,function(r){return r.join(", ")})}ee.Ia=function(){return this.m};ee.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function EA(t){let e="";return F0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Z0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=EA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function sl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function PA(t){this.Ga=0,this.j=[],this.l=new bh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sl("baseRetryDelayMs",5e3,t),this.hb=sl("retryDelaySeedMs",1e4,t),this.eb=sl("forwardChannelMaxRetries",2,t),this.xa=sl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new fA(t&&t.concurrentRequestLimit),this.Ja=new p$,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ee=PA.prototype;ee.ra=8;ee.H=1;function e_(t){if(xA(t),t.H==3){var e=t.W++,n=ui(t.I);if(Ke(n,"SID",t.K),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),sc(t,n),e=new nc(t,t.l,e),e.L=2,e.v=kh(ui(n)),n=!1,ve.navigator&&ve.navigator.sendBeacon)try{n=ve.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ve.Image&&(new Image().src=e.v,n=!0),n||(e.g=kA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),rc(e)}AA(t)}function Lh(t){t.g&&(n_(t),t.g.cancel(),t.g=null)}function xA(t){Lh(t),t.u&&(ve.clearTimeout(t.u),t.u=null),wd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ve.clearTimeout(t.m),t.m=null)}function Mh(t){if(!dA(t.i)&&!t.m){t.m=!0;var e=t.Na;Eu||WI(),Pu||(Eu(),Pu=!0),q0.add(e,t),t.C=0}}function P$(t,e){return hA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ec(rn(t.Na,t,e),IA(t,t.C)),t.C++,!0)}ee.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new nc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=jI(s),FI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=TA(this,i,e),n=ui(this.I),Ke(n,"RID",t),Ke(n,"CVER",22),this.F&&Ke(n,"X-HTTP-Session-Id",this.F),sc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(EA(s)))+"&"+e:this.o&&Z0(n,this.o,s)),X0(this.i,i),this.bb&&Ke(n,"TYPE","init"),this.P?(Ke(n,"$req",e),Ke(n,"SID","null"),i.aa=!0,wg(i,n,null)):wg(i,n,e),this.H=2}}else this.H==3&&(t?ux(this,t):this.j.length==0||dA(this.i)||ux(this))};function ux(t,e){var n;e?n=e.m:n=t.W++;const r=ui(t.I);Ke(r,"SID",t.K),Ke(r,"RID",n),Ke(r,"AID",t.V),sc(t,r),t.o&&t.s&&Z0(r,t.o,t.s),n=new nc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=TA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),X0(t.i,n),wg(n,r,e)}function sc(t,e){t.na&&F0(t.na,function(n,r){Ke(e,r,n)}),t.h&&oA({},function(n,r){Ke(e,r,n)})}function TA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?rn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{m$(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function SA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Eu||WI(),Pu||(Eu(),Pu=!0),q0.add(e,t),t.A=0}}function t_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ec(rn(t.Ma,t),IA(t,t.A)),t.A++,!0)}ee.Ma=function(){if(this.u=null,bA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ec(rn(this.jb,this),t)}};ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gn(10),Lh(this),bA(this))};function n_(t){t.B!=null&&(ve.clearTimeout(t.B),t.B=null)}function bA(t){t.g=new nc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ui(t.wa);Ke(e,"RID","rpc"),Ke(e,"SID",t.K),Ke(e,"AID",t.V),Ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ke(e,"TO",t.qa),Ke(e,"TYPE","xmlhttp"),sc(t,e),t.o&&t.s&&Z0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=kh(ui(e)),n.s=null,n.S=!0,nA(n,t)}ee.ib=function(){this.v!=null&&(this.v=null,Lh(this),t_(this),gn(19))};function wd(t){t.v!=null&&(ve.clearTimeout(t.v),t.v=null)}function RA(t,e){var n=null;if(t.g==e){wd(t),n_(t),t.g=null;var r=2}else if(Pg(t.i,e))n=e.F,pA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Rh(),Wt(r,new JI(r,n)),Mh(t)}else SA(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&P$(t,e)||r==2&&t_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Rs(t,5);break;case 4:Rs(t,10);break;case 3:Rs(t,6);break;default:Rs(t,2)}}}function IA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Rs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=rn(t.pb,t);n||(n=new Vs("//www.google.com/images/cleardot.gif"),ve.location&&ve.location.protocol=="http"||vd(n,"https"),kh(n)),y$(n.toString(),r)}else gn(2);t.H=0,t.h&&t.h.za(e),AA(t),xA(t)}ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),gn(2)):(this.l.info("Failed to ping google.com"),gn(1))};function AA(t){if(t.H=0,t.ma=[],t.h){const e=mA(t.i);(e.length!=0||t.j.length!=0)&&(ZP(t.ma,e),ZP(t.ma,t.j),t.i.i.length=0,V0(t.j),t.j.length=0),t.h.ya()}}function CA(t,e,n){var r=n instanceof Vs?ui(n):new Vs(n);if(r.g!="")e&&(r.g=e+"."+r.g),_d(r,r.m);else{var i=ve.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Vs(null);r&&vd(s,r),e&&(s.g=e),i&&_d(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ke(r,n,e),Ke(r,"VER",t.ra),sc(t,r),r}function kA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new dt(new Oh({ob:!0})):new dt(t.va),e.Oa(t.J),e}ee.isActive=function(){return!!this.h&&this.h.isActive(this)};function OA(){}ee=OA.prototype;ee.Ba=function(){};ee.Aa=function(){};ee.za=function(){};ee.ya=function(){};ee.isActive=function(){return!0};ee.Va=function(){};function Ed(){if(ga&&!(10<=Number(L3)))throw Error("Environmental error: no available transport.")}Ed.prototype.g=function(t,e){return new jn(t,e)};function jn(t,e){jt.call(this),this.g=new PA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!_u(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_u(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fa(this)}Ft(jn,jt);jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;gn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=CA(t,null,t.Y),Mh(t)};jn.prototype.close=function(){e_(this.g)};jn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=H0(t),t=n);e.j.push(new f$(e.fb++,t)),e.H==3&&Mh(e)};jn.prototype.N=function(){this.g.h=null,delete this.j,e_(this.g),delete this.g,jn.$.N.call(this)};function DA(t){G0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ft(DA,G0);function NA(){Y0.call(this),this.status=1}Ft(NA,Y0);function Fa(t){this.g=t}Ft(Fa,OA);Fa.prototype.Ba=function(){Wt(this.g,"a")};Fa.prototype.Aa=function(t){Wt(this.g,new DA(t))};Fa.prototype.za=function(t){Wt(this.g,new NA)};Fa.prototype.ya=function(){Wt(this.g,"b")};function x$(){this.blockSize=-1}function mr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ft(mr,x$);mr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function mm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}mr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)mm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){mm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){mm(this,r),i=0;break}}this.h=i,this.i+=e};mr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function je(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var T$={};function r_(t){return-128<=t&&128>t?O3(t,function(e){return new je([e|0],0>e?-1:0)}):new je([t|0],0>t?-1:0)}function Sr(t){if(isNaN(t)||!isFinite(t))return ra;if(0>t)return Ht(Sr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=xg;return new je(e,0)}function LA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ht(LA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sr(Math.pow(e,8)),r=ra,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Sr(Math.pow(e,s)),r=r.R(s).add(Sr(o))):(r=r.R(n),r=r.add(Sr(o)))}return r}var xg=4294967296,ra=r_(0),Tg=r_(1),cx=r_(16777216);ee=je.prototype;ee.ea=function(){if(Yn(this))return-Ht(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:xg+r)*e,e*=xg}return t};ee.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Xr(this))return"0";if(Yn(this))return"-"+Ht(this).toString(t);for(var e=Sr(Math.pow(t,6)),n=this,r="";;){var i=xd(n,e).g;n=Pd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Xr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Xr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Yn(t){return t.h==-1}ee.X=function(t){return t=Pd(this,t),Yn(t)?-1:Xr(t)?0:1};function Ht(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new je(n,~t.h).add(Tg)}ee.abs=function(){return Yn(this)?Ht(this):this};ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new je(n,n[n.length-1]&-2147483648?-1:0)};function Pd(t,e){return t.add(Ht(e))}ee.R=function(t){if(Xr(this)||Xr(t))return ra;if(Yn(this))return Yn(t)?Ht(this).R(Ht(t)):Ht(Ht(this).R(t));if(Yn(t))return Ht(this.R(Ht(t)));if(0>this.X(cx)&&0>t.X(cx))return Sr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Kc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Kc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Kc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Kc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new je(n,0)};function Kc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ol(t,e){this.g=t,this.h=e}function xd(t,e){if(Xr(e))throw Error("division by zero");if(Xr(t))return new ol(ra,ra);if(Yn(t))return e=xd(Ht(t),e),new ol(Ht(e.g),Ht(e.h));if(Yn(e))return e=xd(t,Ht(e)),new ol(Ht(e.g),e.h);if(30<t.g.length){if(Yn(t)||Yn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Tg,r=e;0>=r.X(t);)n=fx(n),r=fx(r);var i=vo(n,1),s=vo(r,1);for(r=vo(r,2),n=vo(n,2);!Xr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=vo(r,1),n=vo(n,1)}return e=Pd(t,i.R(e)),new ol(i,e)}for(i=ra;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Sr(n),o=s.R(e);Yn(o)||0<o.X(t);)n-=r,s=Sr(n),o=s.R(e);Xr(s)&&(s=Tg),i=i.add(s),t=Pd(t,o)}return new ol(i,t)}ee.gb=function(t){return xd(this,t).h};ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new je(n,this.h&t.h)};ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new je(n,this.h|t.h)};ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new je(n,this.h^t.h)};function fx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new je(n,t.h)}function vo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new je(i,t.h)}Ed.prototype.createWebChannel=Ed.prototype.g;jn.prototype.send=jn.prototype.u;jn.prototype.open=jn.prototype.m;jn.prototype.close=jn.prototype.close;Ih.NO_ERROR=0;Ih.TIMEOUT=8;Ih.HTTP_ERROR=6;ZI.COMPLETE="complete";eA.EventType=tc;tc.OPEN="a";tc.CLOSE="b";tc.ERROR="c";tc.MESSAGE="d";jt.prototype.listen=jt.prototype.O;dt.prototype.listenOnce=dt.prototype.P;dt.prototype.getLastError=dt.prototype.Sa;dt.prototype.getLastErrorCode=dt.prototype.Ia;dt.prototype.getStatus=dt.prototype.da;dt.prototype.getResponseJson=dt.prototype.Wa;dt.prototype.getResponseText=dt.prototype.ja;dt.prototype.send=dt.prototype.ha;dt.prototype.setWithCredentials=dt.prototype.Oa;mr.prototype.digest=mr.prototype.l;mr.prototype.reset=mr.prototype.reset;mr.prototype.update=mr.prototype.j;je.prototype.add=je.prototype.add;je.prototype.multiply=je.prototype.R;je.prototype.modulo=je.prototype.gb;je.prototype.compare=je.prototype.X;je.prototype.toNumber=je.prototype.ea;je.prototype.toString=je.prototype.toString;je.prototype.getBits=je.prototype.D;je.fromNumber=Sr;je.fromString=LA;var S$=function(){return new Ed},b$=function(){return Rh()},ym=Ih,R$=ZI,I$=uo,dx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qc=eA,A$=dt,C$=mr,ia=je;const hx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new x0("@firebase/firestore");function al(){return Js.logLevel}function se(t,...e){if(Js.logLevel<=Ae.DEBUG){const n=e.map(i_);Js.debug(`Firestore (${Ua}): ${t}`,...n)}}function ci(t,...e){if(Js.logLevel<=Ae.ERROR){const n=e.map(i_);Js.error(`Firestore (${Ua}): ${t}`,...n)}}function va(t,...e){if(Js.logLevel<=Ae.WARN){const n=e.map(i_);Js.warn(`Firestore (${Ua}): ${t}`,...n)}}function i_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: `+t;throw ci(e),new Error(e)}function Ye(t,e){t||_e()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class O${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class D${constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new MA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Zt(e)}}class N${constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class L${constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new N$(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V${constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new M$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=j$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function _a(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new Rt(0,0))}static max(){return new we(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ru.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ru?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ft extends Ru{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const F$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ru{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return F$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new de(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new de(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new de(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(ft.fromString(e))}static fromName(e){return new he(ft.fromString(e).popFirst(5))}static empty(){return new he(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new ft(e.slice()))}}function U$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new es(i,he.empty(),e)}function $$(t){return new es(t.readTime,t.key,-1)}class es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new es(we.min(),he.empty(),-1)}static max(){return new es(we.max(),he.empty(),-1)}}function B$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==z$)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ac(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}s_.ae=-1;function Vh(t){return t==null}function Td(t){return t===0&&1/t==-1/0}function q$(t){return typeof t=="number"&&Number.isInteger(t)&&!Td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=s??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,i,s){return this}insert(e,n,r){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mx(this.data.getIterator())}getIteratorFrom(e){return new mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new on(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new FA("Invalid base64 string: "+s):s}}(e);return new un(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const W$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=W$.exec(t);if(Ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zs(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function a_(t){const e=t.mapValue.fields.__previous_value__;return o_(e)?a_(e):e}function Iu(t){const e=ts(t.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Au{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o_(t)?4:Q$(t)?9007199254740991:10:_e()}function Lr(t,e){if(t===e)return!0;const n=eo(t);if(n!==eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Iu(t).isEqual(Iu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ts(i.timestampValue),a=ts(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zs(i.bytesValue).isEqual(Zs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return gt(i.geoPointValue.latitude)===gt(s.geoPointValue.latitude)&&gt(i.geoPointValue.longitude)===gt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return gt(i.integerValue)===gt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=gt(i.doubleValue),a=gt(s.doubleValue);return o===a?Td(o)===Td(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(px(o)!==px(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Lr(o[l],a[l])))return!1;return!0}(t,e);default:return _e()}}function Cu(t,e){return(t.values||[]).find(n=>Lr(n,e))!==void 0}function wa(t,e){if(t===e)return 0;const n=eo(t),r=eo(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=gt(s.integerValue||s.doubleValue),l=gt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return yx(t.timestampValue,e.timestampValue);case 4:return yx(Iu(t),Iu(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Zs(s),l=Zs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Me(a[u],l[u]);if(c!==0)return c}return Me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Me(gt(s.latitude),gt(o.latitude));return a!==0?a:Me(gt(s.longitude),gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=wa(a[u],l[u]);if(c)return c}return Me(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Yc.mapValue&&o===Yc.mapValue)return 0;if(s===Yc.mapValue)return 1;if(o===Yc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Me(l[f],c[f]);if(h!==0)return h;const g=wa(a[l[f]],u[c[f]]);if(g!==0)return g}return Me(l.length,c.length)}(t.mapValue,e.mapValue);default:throw _e()}}function yx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=ts(t),r=ts(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function Ea(t){return Sg(t)}function Sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Sg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Sg(n.fields[o])}`;return i+"}"}(t.mapValue):_e()}function bg(t){return!!t&&"integerValue"in t}function l_(t){return!!t&&"arrayValue"in t}function gx(t){return!!t&&"nullValue"in t}function vx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vf(t){return!!t&&"mapValue"in t}function Bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Q$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=nn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Bl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){co(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xn(Bl(this.value))}}function UA(t){const e=[];return co(t.fields,(n,r)=>{const i=new nn([n]);if(vf(r)){const s=UA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new tn(e,0,we.min(),we.min(),we.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new tn(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new tn(e,2,n,we.min(),we.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,we.min(),we.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.position=e,this.inclusive=n}}function _x(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=wa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function wx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function G$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{}class St extends $A{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X$(e,n,r):n==="array-contains"?new eB(e,r):n==="in"?new tB(e,r):n==="not-in"?new nB(e,r):n==="array-contains-any"?new rB(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new J$(e,r):new Z$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wa(n,this.value)):n!==null&&eo(this.value)===eo(n)&&this.matchesComparison(wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Mr extends $A{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Mr(e,n)}matches(e){return BA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function BA(t){return t.op==="and"}function zA(t){return Y$(t)&&BA(t)}function Y$(t){for(const e of t.filters)if(e instanceof Mr)return!1;return!0}function Rg(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+Ea(t.value);if(zA(t))return t.filters.map(e=>Rg(e)).join(",");{const e=t.filters.map(n=>Rg(n)).join(",");return`${t.op}(${e})`}}function HA(t,e){return t instanceof St?function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&Lr(r.value,i.value)}(t,e):t instanceof Mr?function(r,i){return i instanceof Mr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&HA(o,i.filters[a]),!0):!1}(t,e):void _e()}function qA(t){return t instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${Ea(n.value)}`}(t):t instanceof Mr?function(n){return n.op.toString()+" {"+n.getFilters().map(qA).join(" ,")+"}"}(t):"Filter"}class X$ extends St{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class J$ extends St{constructor(e,n){super(e,"in",n),this.keys=WA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z$ extends St{constructor(e,n){super(e,"not-in",n),this.keys=WA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class eB extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l_(n)&&Cu(n.arrayValue,this.value)}}class tB extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class nB extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Cu(this.value.arrayValue,n)}}class rB extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function Ex(t,e=null,n=[],r=[],i=null,s=null,o=null){return new iB(t,e,n,r,i,s,o)}function u_(t){const e=Pe(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ea(r)).join(",")),e.he=n}return e.he}function c_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wx(t.startAt,e.startAt)&&wx(t.endAt,e.endAt)}function Ig(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function sB(t,e,n,r,i,s,o,a){return new jh(t,e,n,r,i,s,o,a)}function f_(t){return new jh(t)}function Px(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oB(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function aB(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function lB(t){return t.collectionGroup!==null}function Hl(t){const e=Pe(t);if(e.Pe===null){e.Pe=[];const n=aB(e),r=oB(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new zl(n)),e.Pe.push(new zl(nn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new zl(nn.keyField(),s))}}}return e.Pe}function Or(t){const e=Pe(t);return e.Ie||(e.Ie=uB(e,Hl(t))),e.Ie}function uB(t,e){if(t.limitType==="F")return Ex(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new zl(i.field,s)});const n=t.endAt?new Sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sd(t.startAt.position,t.startAt.inclusive):null;return Ex(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ag(t,e,n){return new jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return c_(Or(t),Or(e))&&t.limitType===e.limitType}function KA(t){return`${u_(Or(t))}|lt:${t.limitType}`}function To(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qA(i)).join(", ")}]`),Vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ea(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ea(i)).join(",")),`Target(${r})`}(Or(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):he.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Hl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=_x(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Hl(r),i)||r.endAt&&!function(o,a,l){const u=_x(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Hl(r),i))}(t,e)}function cB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QA(t){return(e,n)=>{let r=!1;for(const i of Hl(t)){const s=fB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fB(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?wa(l,u):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=new lt(he.comparator);function fi(){return dB}const GA=new lt(he.comparator);function Pl(...t){let e=GA;for(const n of t)e=e.insert(n.key,n);return e}function YA(t){let e=GA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Is(){return ql()}function XA(){return ql()}function ql(){return new $a(t=>t.toString(),(t,e)=>t.isEqual(e))}const hB=new lt(he.comparator),pB=new on(he.comparator);function Re(...t){let e=pB;for(const n of t)e=e.add(n);return e}const mB=new on(Me);function yB(){return mB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function ZA(t){return{integerValue:""+t}}function gB(t,e){return q$(e)?ZA(e):JA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function vB(t,e,n){return t instanceof bd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&o_(s)&&(s=a_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Pa?tC(t,e):t instanceof xa?nC(t,e):function(i,s){const o=eC(i,s),a=xx(o)+xx(i.Te);return bg(o)&&bg(i.Te)?ZA(a):JA(i.serializer,a)}(t,e)}function _B(t,e,n){return t instanceof Pa?tC(t,e):t instanceof xa?nC(t,e):n}function eC(t,e){return t instanceof Rd?function(r){return bg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class bd extends $h{}class Pa extends $h{constructor(e){super(),this.elements=e}}function tC(t,e){const n=rC(e);for(const r of t.elements)n.some(i=>Lr(i,r))||n.push(r);return{arrayValue:{values:n}}}class xa extends $h{constructor(e){super(),this.elements=e}}function nC(t,e){let n=rC(e);for(const r of t.elements)n=n.filter(i=>!Lr(i,r));return{arrayValue:{values:n}}}class Rd extends $h{constructor(e,n){super(),this.serializer=e,this.Te=n}}function xx(t){return gt(t.integerValue||t.doubleValue)}function rC(t){return l_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.field=e,this.transform=n}}function wB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pa&&i instanceof Pa||r instanceof xa&&i instanceof xa?_a(r.elements,i.elements,Lr):r instanceof Rd&&i instanceof Rd?Lr(r.Te,i.Te):r instanceof bd&&i instanceof bd}(t.transform,e.transform)}class EB{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _f(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Bh=class{};function sC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new aC(t.key,Dr.none()):new lc(t.key,t.data,Dr.none());{const n=t.data,r=xn.empty();let i=new on(nn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fs(t.key,r,new Dn(i.toArray()),Dr.none())}}function PB(t,e,n){t instanceof lc?function(i,s,o){const a=i.value.clone(),l=Sx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(i,s,o){if(!_f(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Sx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(oC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wl(t,e,n,r){return t instanceof lc?function(s,o,a,l){if(!_f(s.precondition,o))return a;const u=s.value.clone(),c=bx(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof fs?function(s,o,a,l){if(!_f(s.precondition,o))return a;const u=bx(s.fieldTransforms,l,o),c=o.data;return c.setAll(oC(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return _f(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function xB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=eC(r.transform,i||null);s!=null&&(n===null&&(n=xn.empty()),n.set(r.field,s))}return n||null}function Tx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_a(r,i,(s,o)=>wB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lc extends Bh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fs extends Bh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sx(t,e,n){const r=new Map;Ye(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_B(o,a,n[i]))}return r}function bx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vB(s,o,e))}return r}class aC extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TB extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&PB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(n,r)=>Tx(n,r))&&_a(this.baseMutations,e.baseMutations,(n,r)=>Tx(n,r))}}class d_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ye(e.mutations.length===r.length);let i=function(){return hB}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new d_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bB=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Ce;function IB(t){switch(t){default:return _e();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function lC(t){if(t===void 0)return ci("GRPC error has no .code"),G.UNKNOWN;switch(t){case pt.OK:return G.OK;case pt.CANCELLED:return G.CANCELLED;case pt.UNKNOWN:return G.UNKNOWN;case pt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case pt.INTERNAL:return G.INTERNAL;case pt.UNAVAILABLE:return G.UNAVAILABLE;case pt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case pt.NOT_FOUND:return G.NOT_FOUND;case pt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case pt.ABORTED:return G.ABORTED;case pt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case pt.DATA_LOSS:return G.DATA_LOSS;default:return _e()}}(Ce=pt||(pt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=new ia([4294967295,4294967295],0);function Rx(t){const e=AB().encode(t),n=new C$;return n.update(e),new Uint8Array(n.digest())}function Ix(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ia([n,r],0),new ia([i,s],0)]}class h_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=ia.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(ia.fromNumber(r)));return i.compare(CB)===1&&(i=new ia([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=Rx(e),[r,i]=Ix(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new h_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=Rx(e),[r,i]=Ix(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,uc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zh(we.min(),i,new lt(Me),fi(),Re())}}class uc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uc(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class uC{constructor(e,n){this.targetId=e,this.ye=n}}class cC{constructor(e,n,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ax{constructor(){this.we=0,this.Se=kx(),this.be=un.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Re(),n=Re(),r=Re();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new uc(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=kx()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class kB{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=fi(),this.Ue=Cx(),this.We=new lt(Me)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(Ig(s))if(r===0){const o=new he(s.path);this.je(n,o,tn.newNoDocument(o,we.min()))}else Ye(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),l=a?this.rt(a,e,o):1;if(l!==0){this.Ze(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,u)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Zs(r).toUint8Array()}catch(l){if(l instanceof FA)return va("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new h_(o,i,s)}catch(l){return va(l instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&Ig(a.target)){const l=new he(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,tn.newNoDocument(l,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=Re();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.et(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new zh(e,n,this.We,this.$e,r);return this.$e=fi(),this.Ue=Cx(),this.We=new lt(Me),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new Ax,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new on(Me),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new Ax),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function Cx(){return new lt(he.comparator)}function kx(){return new lt(he.comparator)}const OB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),DB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),NB=(()=>({and:"AND",or:"OR"}))();class LB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cg(t,e){return t.useProto3Json||Vh(e)?e:{value:e}}function Id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MB(t,e){return Id(t,e.toTimestamp())}function Nr(t){return Ye(!!t),we.fromTimestamp(function(n){const r=ts(n);return new Rt(r.seconds,r.nanos)}(t))}function p_(t,e){return function(r){return new ft(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function dC(t){const e=ft.fromString(t);return Ye(yC(e)),e}function kg(t,e){return p_(t.databaseId,e.path)}function gm(t,e){const n=dC(e);if(n.get(1)!==t.databaseId.projectId)throw new de(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(hC(n))}function Og(t,e){return p_(t.databaseId,e)}function VB(t){const e=dC(t);return e.length===4?ft.emptyPath():hC(e)}function Dg(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hC(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ox(t,e,n){return{name:kg(t,e),fields:n.value.mapValue.fields}}function jB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Ye(c===void 0||typeof c=="string"),un.fromBase64String(c||"")):(Ye(c===void 0||c instanceof Uint8Array),un.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?G.UNKNOWN:lC(u.code);return new de(c,u.message||"")}(o);n=new cC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gm(t,r.document.name),s=Nr(r.document.updateTime),o=r.document.createTime?Nr(r.document.createTime):we.min(),a=new xn({mapValue:{fields:r.document.fields}}),l=tn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new wf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gm(t,r.document),s=r.readTime?Nr(r.readTime):we.min(),o=tn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new wf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gm(t,r.document),s=r.removedTargetIds||[];n=new wf([],s,i,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new RB(i,s),a=r.targetId;n=new uC(a,o)}}return n}function FB(t,e){let n;if(e instanceof lc)n={update:Ox(t,e.key,e.value)};else if(e instanceof aC)n={delete:kg(t,e.key)};else if(e instanceof fs)n={update:Ox(t,e.key,e.data),updateMask:QB(e.fieldMask)};else{if(!(e instanceof TB))return _e();n={verify:kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rd)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:MB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_e()}(t,e.precondition)),n}function UB(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Nr(i.updateTime):Nr(s);return o.isEqual(we.min())&&(o=Nr(s)),new EB(o,i.transformResults||[])}(n,e))):[]}function $B(t,e){return{documents:[Og(t,e.path)]}}function BB(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Og(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Og(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return mC(Mr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:So(f.field),direction:qB(f.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Cg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function zB(t){let e=VB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(f){const h=pC(f);return h instanceof Mr&&zA(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(E){return new zl(bo(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Vh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new Sd(g,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,g=f.values||[];return new Sd(g,h)}(n.endAt)),sB(e,i,o,s,a,"F",l,u)}function HB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bo(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bo(n.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bo(n.unaryFilter.field);return St.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bo(n.unaryFilter.field);return St.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return St.create(bo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mr.create(n.compositeFilter.filters.map(r=>pC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function qB(t){return OB[t]}function WB(t){return DB[t]}function KB(t){return NB[t]}function So(t){return{fieldPath:t.canonicalString()}}function bo(t){return nn.fromServerFormat(t.fieldPath)}function mC(t){return t instanceof St?function(n){if(n.op==="=="){if(vx(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(gx(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vx(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(gx(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:WB(n.op),value:n.value}}}(t):t instanceof Mr?function(n){const r=n.getFilters().map(i=>mC(i));return r.length===1?r[0]:{compositeFilter:{op:KB(n.op),filters:r}}}(t):_e()}function QB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,r,i,s=we.min(),o=we.min(),a=un.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.ht=e}}function YB(t){const e=zB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ag(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.an=new JB}addToCollectionParentIndex(e,n){return this.an.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(es.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class JB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new on(ft.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new on(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Ta(0)}static Ln(){return new Ta(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(){this.changes=new $a(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wl(r.mutation,i,Dn.empty(),Rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=Is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Pl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fi();const o=ql(),a=function(){return ql()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof fs)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Wl(c.mutation,u,c.mutation.getFieldMask(),Rt.now())):o.set(u.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new e6(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ql();let i=new lt((o,a)=>o-a),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Dn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=XA();c.forEach(h=>{if(!s.has(h)){const g=sC(n.get(h),r.get(h));g!==null&&f.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Is());let a=-1,l=s;return o.next(u=>Q.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Re())).next(c=>({batchId:a,changes:YA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=Pl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Pl();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,l=>{const u=function(f,h){return new jh(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,tn.newInvalidDocument(c)))});let a=Pl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Wl(c.mutation,u,Dn.empty(),Rt.now()),Uh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return Q.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:YB(i.bundledQuery),readTime:Nr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.overlays=new lt(he.comparator),this.Pr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Is();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Is(),s=n.length+1,o=new he(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new lt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Is(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Is(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Q.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bB(n,r));let s=this.Pr.get(n);s===void 0&&(s=Re(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.Ir=new on(Ot.dr),this.Tr=new on(Ot.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Ot(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new he(new ft([])),r=new Ot(n,e),i=new Ot(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new he(new ft([])),r=new Ot(n,e),i=new Ot(n,e+1);let s=Re();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ot(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return he.comparator(e.key,n.key)||Me(e.yr,n.yr)}static Er(e,n){return Me(e.yr,n.yr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new on(Ot.dr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new SB(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new Ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),i=new Ot(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on(Me);return n.forEach(i=>{const s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;he.isDocumentKey(s)||(s=s.child(""));const o=new Ot(new he(s),0);let a=new on(Me);return this.Sr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.yr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ye(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return Q.forEach(n.mutations,i=>{const s=new Ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new Ot(n,0),i=this.Sr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.Fr=e,this.docs=function(){return new lt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fi();const o=n.path,a=new he(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||B$($$(c),r)<=0||(i.has(c.key)||Uh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){_e()}Mr(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new o6(this)}getSize(e){return Q.resolve(this.size)}}class o6 extends ZB{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.persistence=e,this.Or=new $a(n=>u_(n),c_),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Nr=0,this.Br=new m_,this.targetCount=0,this.Lr=Ta.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),Q.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ta(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Qn(n),Q.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.kr={},this.overlays={},this.qr=new s_(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new a6(this),this.indexManager=new XB,this.remoteDocumentCache=function(i){return new s6(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new GB(n),this.Ur=new n6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new i6(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new u6(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return Q.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class u6 extends H${constructor(e){super(),this.currentSequenceNumber=e}}class y_{constructor(e){this.persistence=e,this.jr=new m_,this.Hr=null}static Jr(e){return new y_(e)}get Yr(){if(this.Hr)return this.Hr;throw _e()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Yr,r=>{const i=he.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return Q.or([()=>Q.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=Re(),i=Re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new g_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new c6;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(al()<=Ae.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),Q.resolve()):(al()<=Ae.DEBUG&&se("QueryEngine","Query:",To(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(al()<=Ae.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(n))):Q.resolve())}Hi(e,n){if(Px(n))return Q.resolve(null);let r=Or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ag(n,null,"F"),r=Or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Re(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Xi(n,a);return this.es(n,u,o,l.readTime)?this.Hi(e,Ag(n,null,"F")):this.ts(e,u,n,l)}))})))}Ji(e,n,r,i){return Px(n)||i.isEqual(we.min())?Q.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?Q.resolve(null):(al()<=Ae.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),To(n)),this.ts(e,o,n,U$(i,-1)).next(a=>a))})}Xi(e,n){let r=new on(QA(e));return n.forEach((i,s)=>{Uh(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return al()<=Ae.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",To(n)),this.ji.getDocumentsMatchingQuery(e,n,es.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new lt(Me),this.ss=new $a(s=>u_(s),c_),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t6(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function h6(t,e,n,r){return new d6(t,e,n,r)}async function gC(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Re();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({cs:u,removedBatchIds:o,addedBatchIds:a}))})})}function p6(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let g=Q.resolve();return h.forEach(E=>{g=g.next(()=>c.getEntry(l,E)).next(S=>{const R=u.docVersions.get(E);Ye(R!==null),S.version.compareTo(R)<0&&(f.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),c.addEntry(S)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vC(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function m6(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Kr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Kr.addMatchingKeys(s,c.addedDocuments,f)));let g=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(un.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(f,g),function(S,R,v){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,g,c)&&a.push(n.Kr.updateTargetData(s,g))});let l=fi(),u=Re();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(y6(s,o,e.documentUpdates).next(c=>{l=c.ls,u=c.hs})),!r.isEqual(we.min())){const c=n.Kr.getLastRemoteSnapshotVersion(s).next(f=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.rs=i,s))}function y6(t,e,n){let r=Re(),i=Re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ls:o,hs:i}})}function g6(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function v6(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new Li(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function Ng(t,e,n){const r=Pe(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ac(o))throw o;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}function Dx(t,e,n){const r=Pe(t);let i=we.min(),s=Re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=Pe(l),h=f.ss.get(c);return h!==void 0?Q.resolve(f.rs.get(h)):f.Kr.getTargetData(u,c)}(r,o,Or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:we.min(),n?s:Re())).next(a=>(_6(r,cB(e),a),{documents:a,Ps:s})))}function _6(t,e,n){let r=t.os.get(e)||we.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}class Nx{constructor(){this.activeTargetIds=yB()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w6{constructor(){this.ro=new Nx,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new Nx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function vm(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class T6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=vm(),l=this.Do(n,r);se("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(u,s,o),this.vo(n,l,u,i).then(c=>(se("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw va("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ua}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=P6[n];return`${this.po}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=vm();return new Promise((o,a)=>{const l=new A$;l.setWithCredentials(!0),l.listenOnce(R$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ym.NO_ERROR:const c=l.getResponseJson();se(Xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case ym.TIMEOUT:se(Xt,`RPC '${e}' ${s} timed out`),a(new de(G.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const f=l.getStatus();if(se(Xt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h==null?void 0:h.error;if(g&&g.status&&g.message){const E=function(R){const v=R.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(v)>=0?v:G.UNKNOWN}(g.status);a(new de(E,g.message))}else a(new de(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new de(G.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{se(Xt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);se(Xt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Mo(e,n,r){const i=vm(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=S$(),a=b$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Co(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");se(Xt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let h=!1,g=!1;const E=new x6({ho:R=>{g?se(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(h||(se(Xt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),se(Xt,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},Po:()=>f.close()}),S=(R,v,_)=>{R.listen(v,P=>{try{_(P)}catch(I){setTimeout(()=>{throw I},0)}})};return S(f,Qc.EventType.OPEN,()=>{g||se(Xt,`RPC '${e}' stream ${i} transport opened.`)}),S(f,Qc.EventType.CLOSE,()=>{g||(g=!0,se(Xt,`RPC '${e}' stream ${i} transport closed`),E.mo())}),S(f,Qc.EventType.ERROR,R=>{g||(g=!0,va(Xt,`RPC '${e}' stream ${i} transport errored:`,R),E.mo(new de(G.UNAVAILABLE,"The operation could not be completed")))}),S(f,Qc.EventType.MESSAGE,R=>{var v;if(!g){const _=R.data[0];Ye(!!_);const P=_,I=P.error||((v=P[0])===null||v===void 0?void 0:v.error);if(I){se(Xt,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let b=function(y){const p=pt[y];if(p!==void 0)return lC(p)}(T),w=I.message;b===void 0&&(b=G.INTERNAL,w="Unknown error status: "+T+" with message "+I.message),g=!0,E.mo(new de(b,w)),f.close()}else se(Xt,`RPC '${e}' stream ${i} received:`,_),E.fo(_)}}),S(a,I$.STAT_EVENT,R=>{R.stat===dx.PROXY?se(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===dx.NOPROXY&&se(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Vo()},0),E}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){return new LB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,r,i,s,o,a,l){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new _C(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new de(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S6 extends wC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=jB(this.serializer,e),r=function(s){if(!("targetChange"in s))return we.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?Nr(o.readTime):we.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=Dg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Ig(l)?{documents:$B(s,l)}:{query:BB(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fC(s,o.resumeToken);const u=Cg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=Id(s,o.snapshotVersion.toTimestamp());const u=Cg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=HB(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=Dg(this.serializer),n.removeTarget=e,this.n_(n)}}class b6 extends wC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=UB(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.T_(r,n)}return Ye(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=Dg(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FB(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new de(G.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(G.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(G.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class I6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(ci(n),this.p_=!1):se("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{fo(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Pe(l);u.F_.add(4),await cc(u),u.O_.set("Unknown"),u.F_.delete(4),await qh(u)}(this))})}),this.O_=new I6(r,i)}}async function qh(t){if(fo(t))for(const e of t.M_)await e(!0)}async function cc(t){for(const e of t.M_)await e(!1)}function EC(t,e){const n=Pe(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),w_(n)?__(n):Ba(n).Yo()&&v_(n,e))}function PC(t,e){const n=Pe(t),r=Ba(n);n.v_.delete(e),r.Yo()&&xC(n,e),n.v_.size===0&&(r.Yo()?r.e_():fo(n)&&n.O_.set("Unknown"))}function v_(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ba(t).l_(e)}function xC(t,e){t.N_.Le(e),Ba(t).h_(e)}function __(t){t.N_=new kB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),Ba(t).start(),t.O_.y_()}function w_(t){return fo(t)&&!Ba(t).Jo()&&t.v_.size>0}function fo(t){return Pe(t).F_.size===0}function TC(t){t.N_=void 0}async function C6(t){t.v_.forEach((e,n)=>{v_(t,e)})}async function k6(t,e){TC(t),w_(t)?(t.O_.b_(e),__(t)):t.O_.set("Unknown")}async function O6(t,e,n){if(t.O_.set("Online"),e instanceof cC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.v_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.v_.delete(a),i.N_.removeTarget(a))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ad(t,r)}else if(e instanceof wf?t.N_.Ge(e):e instanceof uC?t.N_.Xe(e):t.N_.He(e),!n.isEqual(we.min()))try{const r=await vC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.v_.get(u);c&&s.v_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.v_.get(l);if(!c)return;s.v_.set(l,c.withResumeToken(un.EMPTY_BYTE_STRING,c.snapshotVersion)),xC(s,l);const f=new Li(c.target,l,u,c.sequenceNumber);v_(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await Ad(t,r)}}async function Ad(t,e,n){if(!ac(e))throw e;t.F_.add(1),await cc(t),t.O_.set("Offline"),n||(n=()=>vC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await qh(t)})}function SC(t,e){return e().catch(n=>Ad(t,n,e))}async function Wh(t){const e=Pe(t),n=ns(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;D6(e);)try{const i=await g6(e.localStore,r);if(i===null){e.C_.length===0&&n.e_();break}r=i.batchId,N6(e,i)}catch(i){await Ad(e,i)}bC(e)&&RC(e)}function D6(t){return fo(t)&&t.C_.length<10}function N6(t,e){t.C_.push(e);const n=ns(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function bC(t){return fo(t)&&!ns(t).Jo()&&t.C_.length>0}function RC(t){ns(t).start()}async function L6(t){ns(t).A_()}async function M6(t){const e=ns(t);for(const n of t.C_)e.d_(n.mutations)}async function V6(t,e,n){const r=t.C_.shift(),i=d_.from(r,e,n);await SC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Wh(t)}async function j6(t,e){e&&ns(t).I_&&await async function(r,i){if(function(o){return IB(o)&&o!==G.ABORTED}(i.code)){const s=r.C_.shift();ns(r).Xo(),await SC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Wh(r)}}(t,e),bC(t)&&RC(t)}async function Mx(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=fo(n);n.F_.add(3),await cc(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await qh(n)}async function F6(t,e){const n=Pe(t);e?(n.F_.delete(2),await qh(n)):e||(n.F_.add(2),await cc(n),n.O_.set("Unknown"))}function Ba(t){return t.B_||(t.B_=function(n,r,i){const s=Pe(n);return s.V_(),new S6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:C6.bind(null,t),Eo:k6.bind(null,t),c_:O6.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),w_(t)?__(t):t.O_.set("Unknown")):(await t.B_.stop(),TC(t))})),t.B_}function ns(t){return t.L_||(t.L_=function(n,r,i){const s=Pe(n);return s.V_(),new b6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:L6.bind(null,t),Eo:j6.bind(null,t),E_:M6.bind(null,t),T_:V6.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await Wh(t)):(await t.L_.stop(),t.C_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new E_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P_(t,e){if(ci("AsyncQueue",`${e}: ${t}`),ac(t))return new de(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Pl(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new sa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.k_=new lt(he.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):_e():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sa{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Sa(e,n,sa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.Q_=void 0,this.listeners=[]}}class $6{constructor(){this.queries=new $a(e=>KA(e),Fh),this.onlineState="Unknown",this.K_=new Set}}async function B6(t,e){const n=Pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new U6),i)try{s.Q_=await n.onListen(r)}catch(o){const a=P_(o,`Initialization of query '${To(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&x_(n)}async function z6(t,e){const n=Pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function H6(t,e){const n=Pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&x_(n)}function q6(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function x_(t){t.K_.forEach(e=>{e.next()})}class W6{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.key=e}}class AC{constructor(e){this.key=e}}class K6{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Re(),this.mutatedKeys=Re(),this.ua=QA(e),this.ca=new sa(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new Vx,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),g=Uh(this.query,f)?f:null,E=!!h&&this.mutatedKeys.has(h.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let R=!1;h&&g?h.data.isEqual(g.data)?E!==S&&(r.track({type:3,doc:g}),R=!0):this.Ia(h,g)||(r.track({type:2,doc:g}),R=!0,(l&&this.ua(g,l)>0||u&&this.ua(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),R=!0):h&&!g&&(r.track({type:1,doc:h}),R=!0,(l||u)&&(a=!0)),R&&(g?(o=o.add(g),s=S?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((u,c)=>function(h,g){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return E(h)-E(g)}(u.type,c.type)||this.ua(u.doc,c.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,l=a!==this._a;return this._a=a,s.length!==0||l?{snapshot:new Sa(this.query,e.ca,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Vx,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Re(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new AC(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new IC(r))}),n}Ra(e){this.oa=e.Ps,this.aa=Re();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Sa.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class Q6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class G6{constructor(e){this.key=e,this.ma=!1}}class Y6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new $a(a=>KA(a),Fh),this.pa=new Map,this.ya=new Set,this.wa=new lt(he.comparator),this.Sa=new Map,this.ba=new m_,this.Da={},this.Ca=new Map,this.va=Ta.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function X6(t,e){const n=a9(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await v6(n.localStore,Or(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await J6(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&EC(n.remoteStore,o)}return i}async function J6(t,e,n,r,i){t.Ma=(f,h,g)=>async function(S,R,v,_){let P=R.view.ha(v);P.es&&(P=await Dx(S.localStore,R.query,!1).then(({documents:b})=>R.view.ha(b,P)));const I=_&&_.targetChanges.get(R.targetId),T=R.view.applyChanges(P,S.isPrimaryClient,I);return Fx(S,R.targetId,T.Ea),T.snapshot}(t,f,h,g);const s=await Dx(t.localStore,e,!0),o=new K6(e,s.Ps),a=o.ha(s.documents),l=uc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Fx(t,n,u.Ea);const c=new Q6(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function Z6(t,e){const n=Pe(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Fh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ng(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),PC(n.remoteStore,r.targetId),Lg(n,r.targetId)}).catch(oc)):(Lg(n,r.targetId),await Ng(n.localStore,r.targetId,!0))}async function e9(t,e,n){const r=l9(t);try{const i=await function(o,a){const l=Pe(o),u=Rt.now(),c=a.reduce((g,E)=>g.add(E.key),Re());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=fi(),S=Re();return l._s.getEntries(g,c).next(R=>{E=R,E.forEach((v,_)=>{_.isValidDocument()||(S=S.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(R=>{f=R;const v=[];for(const _ of a){const P=xB(_,f.get(_.key).overlayedDocument);P!=null&&v.push(new fs(_.key,P,UA(P.value.mapValue),Dr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,v,a)}).next(R=>{h=R;const v=R.applyToLocalDocumentSet(f,S);return l.documentOverlayCache.saveOverlays(g,R.batchId,v)})}).then(()=>({batchId:h.batchId,changes:YA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new lt(Me)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await fc(r,i.changes),await Wh(r.remoteStore)}catch(i){const s=P_(i,"Failed to persist write");n.reject(s)}}async function CC(t,e){const n=Pe(t);try{const r=await m6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Ye(o.ma):i.removedDocuments.size>0&&(Ye(o.ma),o.ma=!1))}),await fc(n,r,e)}catch(r){await oc(r)}}function jx(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Pe(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.listeners)h.U_(a)&&(u=!0)}),u&&x_(l)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function t9(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new lt(he.comparator);o=o.insert(s,tn.newNoDocument(s,we.min()));const a=Re().add(s),l=new zh(we.min(),new Map,new lt(Me),o,a);await CC(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),T_(r)}else await Ng(r.localStore,e,!1).then(()=>Lg(r,e,n)).catch(oc)}async function n9(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await p6(n.localStore,e);OC(n,r,null),kC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fc(n,i)}catch(i){await oc(i)}}async function r9(t,e,n){const r=Pe(t);try{const i=await function(o,a){const l=Pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ye(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);OC(r,e,n),kC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fc(r,i)}catch(i){await oc(i)}}function kC(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function OC(t,e,n){const r=Pe(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||DC(t,r)})}function DC(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(PC(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),T_(t))}function Fx(t,e,n){for(const r of n)r instanceof IC?(t.ba.addReference(r.key,e),i9(t,r)):r instanceof AC?(se("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||DC(t,r.key)):_e()}function i9(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(se("SyncEngine","New document in limbo: "+n),t.ya.add(r),T_(t))}function T_(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new he(ft.fromString(e)),r=t.va.next();t.Sa.set(r,new G6(n)),t.wa=t.wa.insert(n,r),EC(t.remoteStore,new Li(Or(f_(n.path)),r,"TargetPurposeLimboResolution",s_.ae))}}async function fc(t,e,n){const r=Pe(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=g_.$i(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.c_(i),await async function(l,u){const c=Pe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(u,h=>Q.forEach(h.Qi,g=>c.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>Q.forEach(h.Ki,g=>c.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!ac(f))throw f;se("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const g=c.rs.get(h),E=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(E);c.rs=c.rs.insert(h,S)}}}(r.localStore,s))}async function s9(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await gC(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new de(G.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fc(n,r.cs)}}function o9(t,e){const n=Pe(t),r=n.Sa.get(e);if(r&&r.ma)return Re().add(r.key);{let i=Re();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function a9(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t9.bind(null,e),e.fa.c_=H6.bind(null,e.eventManager),e.fa.xa=q6.bind(null,e.eventManager),e}function l9(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r9.bind(null,e),e}class Ux{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return h6(this.persistence,new f6,e.initialUser,this.serializer)}createPersistence(e){return new l6(y_.Jr,this.serializer)}createSharedClientState(e){return new w6}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class u9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s9.bind(null,this.syncEngine),await F6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $6}()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),r=function(s){return new T6(s)}(e.databaseInfo);return function(s,o,a,l){return new R6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new A6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jx(this.syncEngine,n,0),function(){return Lx.C()?new Lx:new E6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const f=new Y6(i,s,o,a,l,u);return c&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Pe(n);se("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await cc(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=VA.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{se("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=P_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wm(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $x(t,e){t.asyncQueue.verifyOperationInProgress();const n=await h9(t);se("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Mx(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Mx(e.remoteStore,s)),t._onlineComponents=e}function d9(t){return t.name==="FirebaseError"?t.code===G.FAILED_PRECONDITION||t.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function h9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!d9(n))throw n;va("Error using user provided cache. Falling back to memory cache: "+n),await wm(t,new Ux)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await wm(t,new Ux);return t._offlineComponents}async function NC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await $x(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await $x(t,new u9))),t._onlineComponents}function p9(t){return NC(t).then(e=>e.syncEngine)}async function m9(t){const e=await NC(t),n=e.eventManager;return n.onListen=X6.bind(null,e.syncEngine),n.onUnlisten=Z6.bind(null,e.syncEngine),n}function y9(t,e,n={}){const r=new Yi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new c9({next:h=>{o.enqueueAndForget(()=>z6(s,f));const g=h.docs.has(a);!g&&h.fromCache?u.reject(new de(G.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?u.reject(new de(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new W6(f_(a.path),c,{includeMetadataChanges:!0,Z_:!0});return B6(s,f)}(await m9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t,e,n){if(!n)throw new de(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v9(t,e,n,r){if(e===!0&&r===!0)throw new de(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zx(t){if(!he.isDocumentKey(t))throw new de(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function S_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function to(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=S_(t);throw new de(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class b_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k$;switch(r.type){case"firstParty":return new L$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Bx.get(n);r&&(se("ComponentProvider","Removing Datastore"),Bx.delete(n),r.terminate())}(this),Promise.resolve()}}function _9(t,e,n,r={}){var i;const s=(t=to(t,b_))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Zt.MOCK_USER;else{a=HF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new de(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Zt(u)}t._authCredentials=new O$(new MA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w9=class MC{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new MC(this.firestore,e,this._query)}};class Ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class ku extends w9{constructor(e,n,r){super(e,n,f_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new he(e))}withConverter(e){return new ku(this.firestore,e,this._path)}}function rt(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=VA.V()),g9("doc","path",e),t instanceof b_){const r=ft.fromString(e,...n);return zx(r),new Ln(t,null,new he(r))}{if(!(t instanceof Ln||t instanceof ku))throw new de(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return zx(r),new Ln(t.firestore,t instanceof ku?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new _C(this,"async_queue_retry"),this.ou=()=>{const n=_m();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=_m();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Yi;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!ac(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ci("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=E_.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&_e()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class Kh extends b_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new E9}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jC(this),this._firestoreClient.terminate()}}function P9(t,e){const n=typeof t=="object"?t:JR(),r=typeof t=="string"?t:e||"(default)",i=S0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=BF("firestore");s&&_9(i,...s)}return i}function VC(t){return t._firestoreClient||jC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new K$(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,LC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new f9(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(un.fromBase64String(e))}catch(n){throw new de(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ba(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=/^__.*__$/;class T9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new lc(e,this.data,n,this.fieldTransforms)}}class FC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class Gh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Gh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return Cd(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(UC(this.Tu)&&x9.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class S9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hh(e)}wu(e,n,r,i=!1){return new Gh({Tu:e,methodName:n,yu:r,path:nn.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $C(t){const e=t._freezeSettings(),n=Hh(t._databaseId);return new S9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function b9(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);I_("Data must be an object, but it was:",o,r);const a=zC(r,o);let l,u;if(s.merge)l=new Dn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const h=Mg(e,f,n);if(!o.contains(h))throw new de(G.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);qC(c,h)||c.push(h)}l=new Dn(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new T9(new xn(a),l,u)}class Yh extends dc{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function BC(t,e,n){return new Gh({Tu:3,yu:e.settings.yu,methodName:t._methodName,Ru:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class R9 extends dc{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=BC(this,e,!0),r=this.Su.map(s=>za(s,n)),i=new Pa(r);return new iC(e.path,i)}isEqual(e){return this===e}}class I9 extends dc{constructor(e,n){super(e),this.Su=n}_toFieldTransform(e){const n=BC(this,e,!0),r=this.Su.map(s=>za(s,n)),i=new xa(r);return new iC(e.path,i)}isEqual(e){return this===e}}function A9(t,e,n,r){const i=t.wu(1,e,n);I_("Data must be an object, but it was:",i,r);const s=[],o=xn.empty();co(r,(l,u)=>{const c=A_(e,l,n);u=Vt(u);const f=i.mu(c);if(u instanceof Yh)s.push(c);else{const h=za(u,f);h!=null&&(s.push(c),o.set(c,h))}});const a=new Dn(s);return new FC(o,a,i.fieldTransforms)}function C9(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[Mg(e,r,n)],l=[i];if(s.length%2!=0)throw new de(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Mg(e,s[h])),l.push(s[h+1]);const u=[],c=xn.empty();for(let h=a.length-1;h>=0;--h)if(!qC(u,a[h])){const g=a[h];let E=l[h];E=Vt(E);const S=o.mu(g);if(E instanceof Yh)u.push(g);else{const R=za(E,S);R!=null&&(u.push(g),c.set(g,R))}}const f=new Dn(u);return new FC(c,f,o.fieldTransforms)}function za(t,e){if(HC(t=Vt(t)))return I_("Unsupported field value:",e,t),zC(t,e);if(t instanceof dc)return function(r,i){if(!UC(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=za(a,i.fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Rt.fromDate(r);return{timestampValue:Id(i.serializer,s)}}if(r instanceof Rt){const s=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(i.serializer,s)}}if(r instanceof R_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ba)return{bytesValue:fC(i.serializer,r._byteString)};if(r instanceof Ln){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:p_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${S_(r)}`)}(t,e)}function zC(t,e){const n={};return jA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,(r,i)=>{const s=za(i,e.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function HC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof R_||t instanceof ba||t instanceof Ln||t instanceof dc)}function I_(t,e,n){if(!HC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=S_(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function Mg(t,e,n){if((e=Vt(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return A_(t,e);throw Cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const k9=new RegExp("[~\\*/\\[\\]]");function A_(t,e,n){if(e.search(k9)>=0)throw Cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qh(...e.split("."))._internalPath}catch{throw Cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new de(G.INVALID_ARGUMENT,a+t+l)}function qC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new O9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(KC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class O9 extends WC{data(){return super.data()}}function KC(t,e){return typeof e=="string"?A_(t,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}class D9{convertValue(e,n="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return co(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new R_(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=a_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){const n=ts(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);Ye(yC(r));const i=new Au(r.get(1),r.get(3)),s=new he(r.popFirst(5));return i.isEqual(n)||ci(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QC extends WC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new M9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(KC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class M9 extends QC{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t){t=to(t,Ln);const e=to(t.firestore,Kh);return y9(VC(e),t._key).then(n=>j9(e,t,n))}class V9 extends D9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function ll(t,e,n){t=to(t,Ln);const r=to(t.firestore,Kh),i=N9(t.converter,e,n);return GC(r,[b9($C(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function As(t,e,n,...r){t=to(t,Ln);const i=to(t.firestore,Kh),s=$C(i);let o;return o=typeof(e=Vt(e))=="string"||e instanceof Qh?C9(s,"updateDoc",t._key,e,n,r):A9(s,"updateDoc",t._key,e),GC(i,[o.toMutation(t._key,Dr.exists(!0))])}function GC(t,e){return function(r,i){const s=new Yi;return r.asyncQueue.enqueueAndForget(async()=>e9(await p9(r),i,s)),s.promise}(VC(t),e)}function j9(t,e,n){const r=n.docs.get(e._key),i=new V9(t);return new QC(t,i,e._key,r,new L9(n.hasPendingWrites,n.fromCache),e.converter)}function qx(...t){return new R9("arrayUnion",t)}function Wx(...t){return new I9("arrayRemove",t)}(function(e,n=!0){(function(i){Ua=i})(Ma),ya(new Ks("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Kh(new D$(r.getProvider("auth-internal")),new V$(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gi(hx,"4.2.0",e),Gi(hx,"4.2.0","esm2017")})();const YC=N.createContext(null),F9=({children:t})=>{const[e,n]=N.useState(""),[r,i]=N.useState({auth:"",uid:""}),[s,o]=N.useState({email:"",password:"",name:"",username:""}),a=T3(),l=new qr,u=T=>{n(T)},c=T=>{i(b=>({...b,...T}))},f=T=>{o(b=>({...b,...T}))},h=async T=>{try{return(await i5(a,T.email,T.password)).user}catch(b){switch(b.code){case"auth/user-not-found":throw new Error("There is no user with that email");default:throw new Error("Something went wrong")}}},g=async T=>{try{const b=await r5(a,T.email,T.password);if(b){const{email:w,password:d,name:y,username:p}=T;f({email:w,password:d,name:y,username:p});const x=rt(it,"users",b.user.uid),A=rt(it,"watchLater",b.user.uid),O=rt(it,"playlists",b.user.uid),C=rt(it,"subscriptions",b.user.uid),j=rt(it,"likedVideos",b.user.uid);await ll(x,{name:y,email:w,username:p,password:d}),await ll(A,{items:[]}),await ll(j,{items:[]}),await ll(O,{items:[]}),await ll(C,{items:[]})}return b.user}catch(b){switch(b.code){case"auth/email-already-in-use":throw new Error("Email already in use");default:throw new Error("Something went wrong")}}},E=async()=>{try{const{user:T}=await D5(a,l);return T&&f({email:T.email,password:"",name:T.displayName,username:""}),T}catch(T){switch(T.code){case"auth/missing-email":throw new Error("Please, enter your email");default:throw new Error("Something went wrong")}}},S=async()=>{await d5(a),i({auth:"",uid:""})},R=async T=>{await As(rt(it,"users",r.uid),{password:T}),await a5(a.currentUser,T)},v=async T=>{await As(rt(it,"users",r.uid),{name:T}),await o5(a.currentUser,{displayName:T})},_=async T=>{await As(rt(it,"users",r.uid),{username:T})},P=async(T,b)=>{let w;try{T==="name"?(await v(b),w="name"):T==="password"?(await R(b),w="password"):T==="username"&&(await _(b),w="username")}catch{throw new Error("Something went wrong try again")}return w};N.useEffect(()=>f5(a,b=>{if(b){const w=b.getIdToken(),{uid:d}=b;c({auth:w,uid:d}),localStorage.setItem("uid",d)}else c({auth:"",uid:""}),localStorage.removeItem("uid")}),[a]);const I={userData:r,userInfo:s,selectedLink:e,getUserData:c,signIn:h,signUp:g,signWithGoogle:E,logout:S,updateData:P,getUserInfo:f,getSelectedLink:u};return m.jsx(YC.Provider,{value:I,children:t})},cn=()=>{const{getUserData:t,signIn:e,signUp:n,userData:r,signWithGoogle:i,logout:s,updateData:o,getUserInfo:a,userInfo:l,getSelectedLink:u,selectedLink:c}=N.useContext(YC);return{getUserData:t,signIn:e,signUp:n,userData:r,signWithGoogle:i,logout:s,updateData:o,getUserInfo:a,userInfo:l,getSelectedLink:u,selectedLink:c}},U9=({register:t,passwordValidation:e,emailValidation:n,errors:r,isLoading:i})=>m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-2 font-medium ",children:[m.jsxs("label",{htmlFor:"email",className:"capitalize",children:["Email:",r.email&&m.jsx("span",{className:" text-red-500",children:" *"})]}),m.jsx("input",{type:"email",...t("email",{...n}),className:"w-full p-2 outline-none placeholder:text-slate-600 dark:placeholder:text-slate-400 border-b-2 border-slate-600 dark:border-slate-400 focus:border-slate-900 dark:focus:border-slate-50 hover:bg-indigo-500/40 active:bg-indigo-500/60 bg-indigo-500/20 rounded-lg rounded-b-none dark:text-white text-black",placeholder:"Enter your username",autoFocus:!0,readOnly:i}),r.username&&m.jsx("p",{className:"text-xs text-red-500",children:r.username.message})]}),m.jsxs("div",{className:"space-y-2 font-medium ",children:[m.jsxs("label",{htmlFor:"password",className:"capitalize",children:["Password:",r.password&&m.jsx("span",{className:" text-red-500",children:" *"})]}),m.jsx("input",{type:"password",...t("password",{...e}),className:"w-full p-2 outline-none placeholder:text-slate-600 dark:placeholder:text-slate-400 border-b-2 border-slate-600 dark:border-slate-400 focus:border-slate-900 dark:focus:border-slate-50 hover:bg-indigo-500/40 active:bg-indigo-500/60 bg-indigo-500/20 rounded-lg rounded-b-none dark:text-white text-black",placeholder:"Enter your password",readOnly:i}),r.password&&m.jsx("p",{className:"text-xs text-red-500",children:r.password.message})]})]}),$9=({emailValidation:t,passwordValidation:e,register:n,usernameValidation:r,nameValidation:i,errors:s,isLoading:o})=>m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-2 font-medium ",children:[m.jsxs("label",{htmlFor:"email",className:"capitalize",children:["Email: ",s.email&&m.jsx("span",{className:" text-red-500",children:" *"})]}),m.jsx("input",{type:"email",...n("email",{...t}),className:"w-full p-2 outline-none placeholder:text-slate-600 dark:placeholder:text-slate-400 border-b-2 border-slate-600 dark:border-slate-400 focus:border-slate-900 dark:focus:border-slate-50 bg-indigo-500/20 hover:bg-indigo-500/40 rounded-lg rounded-b-none ",placeholder:"Enter your email",autoFocus:!0,readOnly:o}),s.email&&m.jsx("p",{className:"text-xs text-red-500",children:s.email.message})]}),m.jsxs("div",{className:"space-y-2 font-medium ",children:[m.jsxs("label",{htmlFor:"name",className:"capitalize",children:["Name: ",s.name&&m.jsx("span",{className:" text-red-500",children:" *"})]}),m.jsx("input",{type:"text",...n("name",{...i}),className:"w-full p-2 outline-none placeholder:text-slate-600 dark:placeholder:text-slate-400 border-b-2 border-slate-600 dark:border-slate-400 focus:border-slate-900 dark:focus:border-slate-50 bg-indigo-500/20 hover:bg-indigo-500/40 rounded-lg rounded-b-none ",placeholder:"Enter your full name",autoFocus:!0,readOnly:o}),s.name&&m.jsx("p",{className:"text-xs text-red-500",children:s.name.message})]}),m.jsxs("div",{className:"space-y-2 font-medium ",children:[m.jsxs("label",{htmlFor:"username",className:"capitalize",children:["Username: ",s.username&&m.jsx("span",{className:" text-red-500",children:" *"})]}),m.jsx("input",{type:"text",...n("username",{...r}),className:"w-full p-2 outline-none placeholder:text-slate-600 dark:placeholder:text-slate-400 border-b-2 border-slate-600 dark:border-slate-400 focus:border-slate-900 dark:focus:border-slate-50 bg-indigo-500/20 hover:bg-indigo-500/20 rounded-lg rounded-b-none ",placeholder:"Enter your username",readOnly:o}),s.username&&m.jsx("p",{className:"text-xs text-red-500",children:s.username.message})]}),m.jsxs("div",{className:"space-y-2 font-medium ",children:[m.jsxs("label",{htmlFor:"password",className:"capitalize",children:["Password: ",s.password&&m.jsx("span",{className:" text-red-500",children:" *"})]}),m.jsx("input",{type:"password",...n("password",{...e}),className:"w-full p-2 outline-none placeholder:text-slate-600 dark:placeholder:text-slate-400 border-b-2 border-slate-600 dark:border-slate-400 focus:border-slate-900 dark:focus:border-slate-50 bg-indigo-500/20 hover:bg-indigo-500/20 rounded-lg rounded-b-none ",placeholder:"Enter your password",readOnly:o}),s.password&&m.jsx("p",{className:"text-xs text-red-500",children:s.password.message})]})]});var hc=t=>t.type==="checkbox",qo=t=>t instanceof Date,yn=t=>t==null;const XC=t=>typeof t=="object";var It=t=>!yn(t)&&!Array.isArray(t)&&XC(t)&&!qo(t),B9=t=>It(t)&&t.target?hc(t.target)?t.target.checked:t.target.value:t,z9=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,H9=(t,e)=>t.has(z9(e)),q9=t=>{const e=t.constructor&&t.constructor.prototype;return It(e)&&e.hasOwnProperty("isPrototypeOf")},C_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $r(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(C_&&(t instanceof Blob||t instanceof FileList))&&(n||It(t)))if(e=n?[]:{},!n&&!q9(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=$r(t[r]));else return t;return e}var pc=t=>Array.isArray(t)?t.filter(Boolean):[],vt=t=>t===void 0,oe=(t,e,n)=>{if(!e||!It(t))return n;const r=pc(e.split(/[,[\].]+?/)).reduce((i,s)=>yn(i)?i:i[s],t);return vt(r)||r===t?vt(t[e])?n:t[e]:r};const Kx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ur={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Er.createContext(null);var W9=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==cr.all&&(e._proxyFormState[o]=!r||cr.all),n&&(n[o]=!0),t[o]}});return i},Wn=t=>It(t)&&!Object.keys(t).length,K9=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Wn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||cr.all))},Em=t=>Array.isArray(t)?t:[t];function Q9(t){const e=Er.useRef(t);e.current=t,Er.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var br=t=>typeof t=="string",G9=(t,e,n,r,i)=>br(t)?(r&&e.watch.add(t),oe(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),oe(n,s))):(r&&(e.watchAll=!0),n),k_=t=>/^\w*$/.test(t),JC=t=>pc(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Je(t,e,n){let r=-1;const i=k_(e)?[e]:JC(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=It(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}var Y9=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const Vg=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=oe(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else It(o)&&Vg(o,e)}}};var Qx=t=>({isOnSubmit:!t||t===cr.onSubmit,isOnBlur:t===cr.onBlur,isOnChange:t===cr.onChange,isOnAll:t===cr.all,isOnTouch:t===cr.onTouched}),Gx=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),X9=(t,e,n)=>{const r=pc(oe(t,n));return Je(r,"root",e[n]),Je(t,n,r),t},Cs=t=>typeof t=="boolean",O_=t=>t.type==="file",Mi=t=>typeof t=="function",kd=t=>{if(!C_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ef=t=>br(t),D_=t=>t.type==="radio",Od=t=>t instanceof RegExp;const Yx={value:!1,isValid:!1},Xx={value:!0,isValid:!0};var ZC=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!vt(t[0].attributes.value)?vt(t[0].value)||t[0].value===""?Xx:{value:t[0].value,isValid:!0}:Xx:Yx}return Yx};const Jx={isValid:!1,value:null};var ek=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Jx):Jx;function Zx(t,e,n="validate"){if(Ef(t)||Array.isArray(t)&&t.every(Ef)||Cs(t)&&!t)return{type:n,message:Ef(t)?t:"",ref:e}}var _o=t=>It(t)&&!Od(t)?t:{value:t,message:""},eT=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:f,pattern:h,validate:g,name:E,valueAsNumber:S,mount:R,disabled:v}=t._f,_=oe(e,E);if(!R||v)return{};const P=o?o[0]:s,I=A=>{r&&P.reportValidity&&(P.setCustomValidity(Cs(A)?"":A||""),P.reportValidity())},T={},b=D_(s),w=hc(s),d=b||w,y=(S||O_(s))&&vt(s.value)&&vt(_)||kd(s)&&s.value===""||_===""||Array.isArray(_)&&!_.length,p=Y9.bind(null,E,n,T),x=(A,O,C,j=Ur.maxLength,B=Ur.minLength)=>{const F=A?O:C;T[E]={type:A?j:B,message:F,ref:s,...p(A?j:B,F)}};if(i?!Array.isArray(_)||!_.length:a&&(!d&&(y||yn(_))||Cs(_)&&!_||w&&!ZC(o).isValid||b&&!ek(o).isValid)){const{value:A,message:O}=Ef(a)?{value:!!a,message:a}:_o(a);if(A&&(T[E]={type:Ur.required,message:O,ref:P,...p(Ur.required,O)},!n))return I(O),T}if(!y&&(!yn(c)||!yn(f))){let A,O;const C=_o(f),j=_o(c);if(!yn(_)&&!isNaN(_)){const B=s.valueAsNumber||_&&+_;yn(C.value)||(A=B>C.value),yn(j.value)||(O=B<j.value)}else{const B=s.valueAsDate||new Date(_),F=L=>new Date(new Date().toDateString()+" "+L),k=s.type=="time",M=s.type=="week";br(C.value)&&_&&(A=k?F(_)>F(C.value):M?_>C.value:B>new Date(C.value)),br(j.value)&&_&&(O=k?F(_)<F(j.value):M?_<j.value:B<new Date(j.value))}if((A||O)&&(x(!!A,C.message,j.message,Ur.max,Ur.min),!n))return I(T[E].message),T}if((l||u)&&!y&&(br(_)||i&&Array.isArray(_))){const A=_o(l),O=_o(u),C=!yn(A.value)&&_.length>+A.value,j=!yn(O.value)&&_.length<+O.value;if((C||j)&&(x(C,A.message,O.message),!n))return I(T[E].message),T}if(h&&!y&&br(_)){const{value:A,message:O}=_o(h);if(Od(A)&&!_.match(A)&&(T[E]={type:Ur.pattern,message:O,ref:s,...p(Ur.pattern,O)},!n))return I(O),T}if(g){if(Mi(g)){const A=await g(_,e),O=Zx(A,P);if(O&&(T[E]={...O,...p(Ur.validate,O.message)},!n))return I(O.message),T}else if(It(g)){let A={};for(const O in g){if(!Wn(A)&&!n)break;const C=Zx(await g[O](_,e),P,O);C&&(A={...C,...p(O,C.message)},I(C.message),n&&(T[E]=A))}if(!Wn(A)&&(T[E]={ref:P,...A},!n))return T}}return I(!0),T};function J9(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=vt(t)?r++:t[e[r++]];return t}function Z9(t){for(const e in t)if(t.hasOwnProperty(e)&&!vt(t[e]))return!1;return!0}function $t(t,e){const n=Array.isArray(e)?e:k_(e)?[e]:JC(e),r=n.length===1?t:J9(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(It(r)&&Wn(r)||Array.isArray(r)&&Z9(r))&&$t(t,n.slice(0,-1)),t}function Pm(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var Dd=t=>yn(t)||!XC(t);function ks(t,e){if(Dd(t)||Dd(e))return t===e;if(qo(t)&&qo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(qo(s)&&qo(o)||It(s)&&It(o)||Array.isArray(s)&&Array.isArray(o)?!ks(s,o):s!==o)return!1}}return!0}var tk=t=>t.type==="select-multiple",ez=t=>D_(t)||hc(t),xm=t=>kd(t)&&t.isConnected,nk=t=>{for(const e in t)if(Mi(t[e]))return!0;return!1};function Nd(t,e={}){const n=Array.isArray(t);if(It(t)||n)for(const r in t)Array.isArray(t[r])||It(t[r])&&!nk(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Nd(t[r],e[r])):yn(t[r])||(e[r]=!0);return e}function rk(t,e,n){const r=Array.isArray(t);if(It(t)||r)for(const i in t)Array.isArray(t[i])||It(t[i])&&!nk(t[i])?vt(e)||Dd(n[i])?n[i]=Array.isArray(t[i])?Nd(t[i],[]):{...Nd(t[i])}:rk(t[i],yn(e)?{}:e[i],n[i]):n[i]=!ks(t[i],e[i]);return n}var Tm=(t,e)=>rk(t,e,Nd(e)),ik=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>vt(t)?t:e?t===""?NaN:t&&+t:n&&br(t)?new Date(t):r?r(t):t;function Sm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return O_(e)?e.files:D_(e)?ek(t.refs).value:tk(e)?[...e.selectedOptions].map(({value:n})=>n):hc(e)?ZC(t.refs).value:ik(vt(e.value)?t.ref.value:e.value,t)}var tz=(t,e,n,r)=>{const i={};for(const s of t){const o=oe(e,s);o&&Je(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},ul=t=>vt(t)?t:Od(t)?t.source:It(t)?Od(t.value)?t.value.source:t.value:t,nz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function tT(t,e,n){const r=oe(t,n);if(r||k_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=oe(e,s),a=oe(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var rz=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,iz=(t,e)=>!pc(oe(t,e)).length&&$t(t,e);const sz={mode:cr.onSubmit,reValidateMode:cr.onChange,shouldFocusError:!0};function oz(t={},e){let n={...sz,...t},r={submitCount:0,isDirty:!1,isLoading:Mi(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=It(n.defaultValues)||It(n.values)?$r(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:$r(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Pm(),array:Pm(),state:Pm()},g=t.resetOptions&&t.resetOptions.keepDirtyValues,E=Qx(n.mode),S=Qx(n.reValidateMode),R=n.criteriaMode===cr.all,v=V=>$=>{clearTimeout(c),c=setTimeout(V,$)},_=async V=>{if(f.isValid||V){const $=n.resolver?Wn((await y()).errors):await x(i,!0);$!==r.isValid&&h.state.next({isValid:$})}},P=V=>f.isValidating&&h.state.next({isValidating:V}),I=(V,$=[],q,ie,Z=!0,X=!0)=>{if(ie&&q){if(a.action=!0,X&&Array.isArray(oe(i,V))){const ae=q(oe(i,V),ie.argA,ie.argB);Z&&Je(i,V,ae)}if(X&&Array.isArray(oe(r.errors,V))){const ae=q(oe(r.errors,V),ie.argA,ie.argB);Z&&Je(r.errors,V,ae),iz(r.errors,V)}if(f.touchedFields&&X&&Array.isArray(oe(r.touchedFields,V))){const ae=q(oe(r.touchedFields,V),ie.argA,ie.argB);Z&&Je(r.touchedFields,V,ae)}f.dirtyFields&&(r.dirtyFields=Tm(s,o)),h.state.next({name:V,isDirty:O(V,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Je(o,V,$)},T=(V,$)=>{Je(r.errors,V,$),h.state.next({errors:r.errors})},b=(V,$,q,ie)=>{const Z=oe(i,V);if(Z){const X=oe(o,V,vt(q)?oe(s,V):q);vt(X)||ie&&ie.defaultChecked||$?Je(o,V,$?X:Sm(Z._f)):B(V,X),a.mount&&_()}},w=(V,$,q,ie,Z)=>{let X=!1,ae=!1;const $e={name:V};if(!q||ie){f.isDirty&&(ae=r.isDirty,r.isDirty=$e.isDirty=O(),X=ae!==$e.isDirty);const Be=ks(oe(s,V),$);ae=oe(r.dirtyFields,V),Be?$t(r.dirtyFields,V):Je(r.dirtyFields,V,!0),$e.dirtyFields=r.dirtyFields,X=X||f.dirtyFields&&ae!==!Be}if(q){const Be=oe(r.touchedFields,V);Be||(Je(r.touchedFields,V,q),$e.touchedFields=r.touchedFields,X=X||f.touchedFields&&Be!==q)}return X&&Z&&h.state.next($e),X?$e:{}},d=(V,$,q,ie)=>{const Z=oe(r.errors,V),X=f.isValid&&Cs($)&&r.isValid!==$;if(t.delayError&&q?(u=v(()=>T(V,q)),u(t.delayError)):(clearTimeout(c),u=null,q?Je(r.errors,V,q):$t(r.errors,V)),(q?!ks(Z,q):Z)||!Wn(ie)||X){const ae={...ie,...X&&Cs($)?{isValid:$}:{},errors:r.errors,name:V};r={...r,...ae},h.state.next(ae)}P(!1)},y=async V=>n.resolver(o,n.context,tz(V||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),p=async V=>{const{errors:$}=await y(V);if(V)for(const q of V){const ie=oe($,q);ie?Je(r.errors,q,ie):$t(r.errors,q)}else r.errors=$;return $},x=async(V,$,q={valid:!0})=>{for(const ie in V){const Z=V[ie];if(Z){const{_f:X,...ae}=Z;if(X){const $e=l.array.has(X.name),Be=await eT(Z,o,R,n.shouldUseNativeValidation&&!$,$e);if(Be[X.name]&&(q.valid=!1,$))break;!$&&(oe(Be,X.name)?$e?X9(r.errors,Be,X.name):Je(r.errors,X.name,Be[X.name]):$t(r.errors,X.name))}ae&&await x(ae,$,q)}}return q.valid},A=()=>{for(const V of l.unMount){const $=oe(i,V);$&&($._f.refs?$._f.refs.every(q=>!xm(q)):!xm($._f.ref))&&Ee(V)}l.unMount=new Set},O=(V,$)=>(V&&$&&Je(o,V,$),!ks(D(),s)),C=(V,$,q)=>G9(V,l,{...a.mount?o:vt($)?s:br(V)?{[V]:$}:$},q,$),j=V=>pc(oe(a.mount?o:s,V,t.shouldUnregister?oe(s,V,[]):[])),B=(V,$,q={})=>{const ie=oe(i,V);let Z=$;if(ie){const X=ie._f;X&&(!X.disabled&&Je(o,V,ik($,X)),Z=kd(X.ref)&&yn($)?"":$,tk(X.ref)?[...X.ref.options].forEach(ae=>ae.selected=Z.includes(ae.value)):X.refs?hc(X.ref)?X.refs.length>1?X.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(Z)?!!Z.find($e=>$e===ae.value):Z===ae.value)):X.refs[0]&&(X.refs[0].checked=!!Z):X.refs.forEach(ae=>ae.checked=ae.value===Z):O_(X.ref)?X.ref.value="":(X.ref.value=Z,X.ref.type||h.values.next({name:V,values:{...o}})))}(q.shouldDirty||q.shouldTouch)&&w(V,Z,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&L(V)},F=(V,$,q)=>{for(const ie in $){const Z=$[ie],X=`${V}.${ie}`,ae=oe(i,X);(l.array.has(V)||!Dd(Z)||ae&&!ae._f)&&!qo(Z)?F(X,Z,q):B(X,Z,q)}},k=(V,$,q={})=>{const ie=oe(i,V),Z=l.array.has(V),X=$r($);Je(o,V,X),Z?(h.array.next({name:V,values:{...o}}),(f.isDirty||f.dirtyFields)&&q.shouldDirty&&h.state.next({name:V,dirtyFields:Tm(s,o),isDirty:O(V,X)})):ie&&!ie._f&&!yn(X)?F(V,X,q):B(V,X,q),Gx(V,l)&&h.state.next({...r}),h.values.next({name:V,values:{...o}}),!a.mount&&e()},M=async V=>{const $=V.target;let q=$.name,ie=!0;const Z=oe(i,q),X=()=>$.type?Sm(Z._f):B9(V);if(Z){let ae,$e;const Be=X(),vi=V.type===Kx.BLUR||V.type===Kx.FOCUS_OUT,sp=!nz(Z._f)&&!n.resolver&&!oe(r.errors,q)&&!Z._f.deps||rz(vi,oe(r.touchedFields,q),r.isSubmitted,S,E),mo=Gx(q,l,vi);Je(o,q,Be),vi?(Z._f.onBlur&&Z._f.onBlur(V),u&&u(0)):Z._f.onChange&&Z._f.onChange(V);const qa=w(q,Be,vi,!1),z=!Wn(qa)||mo;if(!vi&&h.values.next({name:q,type:V.type,values:{...o}}),sp)return f.isValid&&_(),z&&h.state.next({name:q,...mo?{}:qa});if(!vi&&mo&&h.state.next({...r}),P(!0),n.resolver){const{errors:H}=await y([q]),K=tT(r.errors,i,q),re=tT(H,i,K.name||q);ae=re.error,q=re.name,$e=Wn(H)}else ae=(await eT(Z,o,R,n.shouldUseNativeValidation))[q],ie=isNaN(Be)||Be===oe(o,q,Be),ie&&(ae?$e=!1:f.isValid&&($e=await x(i,!0)));ie&&(Z._f.deps&&L(Z._f.deps),d(q,$e,ae,qa))}},L=async(V,$={})=>{let q,ie;const Z=Em(V);if(P(!0),n.resolver){const X=await p(vt(V)?V:Z);q=Wn(X),ie=V?!Z.some(ae=>oe(X,ae)):q}else V?(ie=(await Promise.all(Z.map(async X=>{const ae=oe(i,X);return await x(ae&&ae._f?{[X]:ae}:ae)}))).every(Boolean),!(!ie&&!r.isValid)&&_()):ie=q=await x(i);return h.state.next({...!br(V)||f.isValid&&q!==r.isValid?{}:{name:V},...n.resolver||!V?{isValid:q}:{},errors:r.errors,isValidating:!1}),$.shouldFocus&&!ie&&Vg(i,X=>X&&oe(r.errors,X),V?Z:l.mount),ie},D=V=>{const $={...s,...a.mount?o:{}};return vt(V)?$:br(V)?oe($,V):V.map(q=>oe($,q))},U=(V,$)=>({invalid:!!oe(($||r).errors,V),isDirty:!!oe(($||r).dirtyFields,V),isTouched:!!oe(($||r).touchedFields,V),error:oe(($||r).errors,V)}),te=V=>{V&&Em(V).forEach($=>$t(r.errors,$)),h.state.next({errors:V?r.errors:{}})},J=(V,$,q)=>{const ie=(oe(i,V,{_f:{}})._f||{}).ref;Je(r.errors,V,{...$,ref:ie}),h.state.next({name:V,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&ie&&ie.focus&&ie.focus()},ue=(V,$)=>Mi(V)?h.values.subscribe({next:q=>V(C(void 0,$),q)}):C(V,$,!0),Ee=(V,$={})=>{for(const q of V?Em(V):l.mount)l.mount.delete(q),l.array.delete(q),$.keepValue||($t(i,q),$t(o,q)),!$.keepError&&$t(r.errors,q),!$.keepDirty&&$t(r.dirtyFields,q),!$.keepTouched&&$t(r.touchedFields,q),!n.shouldUnregister&&!$.keepDefaultValue&&$t(s,q);h.values.next({values:{...o}}),h.state.next({...r,...$.keepDirty?{isDirty:O()}:{}}),!$.keepIsValid&&_()},Te=({disabled:V,name:$,field:q,fields:ie})=>{if(Cs(V)){const Z=V?void 0:oe(o,$,Sm(q?q._f:oe(ie,$)._f));Je(o,$,Z),w($,Z,!1,!1,!0)}},Se=(V,$={})=>{let q=oe(i,V);const ie=Cs($.disabled);return Je(i,V,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:V}},name:V,mount:!0,...$}}),l.mount.add(V),q?Te({field:q,disabled:$.disabled,name:V}):b(V,!0,$.value),{...ie?{disabled:$.disabled}:{},...n.progressive?{required:!!$.required,min:ul($.min),max:ul($.max),minLength:ul($.minLength),maxLength:ul($.maxLength),pattern:ul($.pattern)}:{},name:V,onChange:M,onBlur:M,ref:Z=>{if(Z){Se(V,$),q=oe(i,V);const X=vt(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,ae=ez(X),$e=q._f.refs||[];if(ae?$e.find(Be=>Be===X):X===q._f.ref)return;Je(i,V,{_f:{...q._f,...ae?{refs:[...$e.filter(xm),X,...Array.isArray(oe(s,V))?[{}]:[]],ref:{type:X.type,name:V}}:{ref:X}}}),b(V,!1,void 0,X)}else q=oe(i,V,{}),q._f&&(q._f.mount=!1),(n.shouldUnregister||$.shouldUnregister)&&!(H9(l.array,V)&&a.action)&&l.unMount.add(V)}}},He=()=>n.shouldFocusError&&Vg(i,V=>V&&oe(r.errors,V),l.mount),qe=(V,$)=>async q=>{q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let ie=$r(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:Z,values:X}=await y();r.errors=Z,ie=X}else await x(i);$t(r.errors,"root"),Wn(r.errors)?(h.state.next({errors:{}}),await V(ie,q)):($&&await $({...r.errors},q),He(),setTimeout(He)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Xe=(V,$={})=>{oe(i,V)&&(vt($.defaultValue)?k(V,oe(s,V)):(k(V,$.defaultValue),Je(s,V,$.defaultValue)),$.keepTouched||$t(r.touchedFields,V),$.keepDirty||($t(r.dirtyFields,V),r.isDirty=$.defaultValue?O(V,oe(s,V)):O()),$.keepError||($t(r.errors,V),f.isValid&&_()),h.state.next({...r}))},At=(V,$={})=>{const q=V?$r(V):s,ie=$r(q),Z=V&&!Wn(V)?ie:s;if($.keepDefaultValues||(s=q),!$.keepValues){if($.keepDirtyValues||g)for(const X of l.mount)oe(r.dirtyFields,X)?Je(Z,X,oe(o,X)):k(X,oe(Z,X));else{if(C_&&vt(V))for(const X of l.mount){const ae=oe(i,X);if(ae&&ae._f){const $e=Array.isArray(ae._f.refs)?ae._f.refs[0]:ae._f.ref;if(kd($e)){const Be=$e.closest("form");if(Be){Be.reset();break}}}}i={}}o=t.shouldUnregister?$.keepDefaultValues?$r(s):{}:$r(Z),h.array.next({values:{...Z}}),h.values.next({values:{...Z}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!f.isValid||!!$.keepIsValid,a.watch=!!t.shouldUnregister,h.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!ks(V,s)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:$.keepDirtyValues?r.dirtyFields:$.keepDefaultValues&&V?Tm(s,V):{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},En=(V,$)=>At(Mi(V)?V(o):V,$);return{control:{register:Se,unregister:Ee,getFieldState:U,handleSubmit:qe,setError:J,_executeSchema:y,_getWatch:C,_getDirty:O,_updateValid:_,_removeUnmounted:A,_updateFieldArray:I,_updateDisabledField:Te,_getFieldArray:j,_reset:At,_resetDefaultValues:()=>Mi(n.defaultValues)&&n.defaultValues().then(V=>{En(V,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:V=>{r={...r,...V}},_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(V){a=V},get _defaultValues(){return s},get _names(){return l},set _names(V){l=V},get _formState(){return r},set _formState(V){r=V},get _options(){return n},set _options(V){n={...n,...V}}},trigger:L,register:Se,handleSubmit:qe,watch:ue,setValue:k,getValues:D,reset:En,resetField:Xe,clearErrors:te,unregister:Ee,setError:J,setFocus:(V,$={})=>{const q=oe(i,V),ie=q&&q._f;if(ie){const Z=ie.refs?ie.refs[0]:ie.ref;Z.focus&&(Z.focus(),$.shouldSelect&&Z.select())}},getFieldState:U}}function az(t={}){const e=Er.useRef(),n=Er.useRef(),[r,i]=Er.useState({isDirty:!1,isValidating:!1,isLoading:Mi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Mi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...oz(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,Q9({subject:s._subjects.state,next:o=>{K9(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Er.useEffect(()=>{t.values&&!ks(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values):s._resetDefaultValues()},[t.values,s]),Er.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=W9(r,s),e.current}class ho{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Ou=typeof window>"u"||"Deno"in window;function Kn(){}function lz(t,e){return typeof t=="function"?t(e):t}function jg(t){return typeof t=="number"&&t>=0&&t!==1/0}function nT(t,e){return t.filter(n=>e.indexOf(n)===-1)}function uz(t,e,n){const r=t.slice(0);return r[e]=n,r}function sk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wo(t,e,n){return mc(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function cz(t,e,n){return mc(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function Ri(t,e,n){return mc(t)?[{...e,queryKey:t},n]:[t||{},e]}function rT(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(mc(o)){if(r){if(e.queryHash!==N_(o,e.options))return!1}else if(!Ld(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function iT(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(mc(s)){if(!e.options.mutationKey)return!1;if(n){if(Os(e.options.mutationKey)!==Os(s))return!1}else if(!Ld(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function N_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Os)(t)}function Os(t){return JSON.stringify(t,(e,n)=>Ug(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ld(t,e){return ok(t,e)}function ok(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ok(t[n],e[n])):!1}function ak(t,e){if(t===e)return t;const n=sT(t)&&sT(e);if(n||Ug(t)&&Ug(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let a=0;for(let l=0;l<s;l++){const u=n?l:i[l];o[u]=ak(t[u],e[u]),o[u]===t[u]&&a++}return r===s&&a===r?t:o}return e}function Fg(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function sT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ug(t){if(!oT(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!oT(n)||!n.hasOwnProperty("isPrototypeOf"))}function oT(t){return Object.prototype.toString.call(t)==="[object Object]"}function mc(t){return Array.isArray(t)}function lk(t){return new Promise(e=>{setTimeout(e,t)})}function aT(t){lk(0).then(t)}function fz(){if(typeof AbortController=="function")return new AbortController}function $g(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ak(t,e):e}class dz extends ho{constructor(){super(),this.setup=e=>{if(!Ou&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Md=new dz;class hz extends ho{constructor(){super(),this.setup=e=>{if(!Ou&&window.addEventListener){const n=()=>e();return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Vd=new hz;function pz(t){return Math.min(1e3*2**t,3e4)}function Xh(t){return(t??"online")==="online"?Vd.isOnline():!0}class uk{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Pf(t){return t instanceof uk}function ck(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((R,v)=>{s=R,o=v}),l=R=>{r||(g(new uk(R)),t.abort==null||t.abort())},u=()=>{e=!0},c=()=>{e=!1},f=()=>!Md.isFocused()||t.networkMode!=="always"&&!Vd.isOnline(),h=R=>{r||(r=!0,t.onSuccess==null||t.onSuccess(R),i==null||i(),s(R))},g=R=>{r||(r=!0,t.onError==null||t.onError(R),i==null||i(),o(R))},E=()=>new Promise(R=>{i=v=>{const _=r||!f();return _&&R(v),_},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),S=()=>{if(r)return;let R;try{R=t.fn()}catch(v){R=Promise.reject(v)}Promise.resolve(R).then(h).catch(v=>{var _,P;if(r)return;const I=(_=t.retry)!=null?_:3,T=(P=t.retryDelay)!=null?P:pz,b=typeof T=="function"?T(n,v):T,w=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,v);if(e||!w){g(v);return}n++,t.onFail==null||t.onFail(n,v),lk(b).then(()=>{if(f())return E()}).then(()=>{e?g(v):S()})})};return Xh(t.networkMode)?S():E().then(S),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:u,continueRetry:c}}const L_=console;function mz(){let t=[],e=0,n=c=>{c()},r=c=>{c()};const i=c=>{let f;e++;try{f=c()}finally{e--,e||a()}return f},s=c=>{e?t.push(c):aT(()=>{n(c)})},o=c=>(...f)=>{s(()=>{c(...f)})},a=()=>{const c=t;t=[],c.length&&aT(()=>{r(()=>{c.forEach(f=>{n(f)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}const Qe=mz();class fk{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jg(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Ou?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class yz extends fk{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||L_,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||gz(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=$g(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(Kn).catch(Kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!sk(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(E=>E.options.queryFn);g&&this.setOptions(g.options)}Array.isArray(this.options.queryKey);const o=fz(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn"),c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var f;this.dispatch({type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta})}const h=g=>{if(Pf(g)&&g.silent||this.dispatch({type:"error",error:g}),!Pf(g)){var E,S,R,v;(E=(S=this.cache.config).onError)==null||E.call(S,g,this),(R=(v=this.cache.config).onSettled)==null||R.call(v,this.state.data,g,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=ck({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:g=>{var E,S,R,v;if(typeof g>"u"){h(new Error(this.queryHash+" data is undefined"));return}this.setData(g),(E=(S=this.cache.config).onSuccess)==null||E.call(S,g,this),(R=(v=this.cache.config).onSettled)==null||R.call(v,g,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:h,onFail:(g,E)=>{this.dispatch({type:"failed",failureCount:g,error:E})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:Xh(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Pf(o)&&o.revert&&this.revertState?{...this.revertState}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Qe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function gz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class vz extends ho{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:N_(s,n);let a=this.get(o);return a||(a=new yz({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Qe.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=Ri(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>rT(r,i))}findAll(e,n){const[r]=Ri(e,n);return Object.keys(r).length>0?this.queries.filter(i=>rT(r,i)):this.queries}notify(e){Qe.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){Qe.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Qe.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class _z extends fk{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||L_,this.observers=[],this.state=e.state||dk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var w;return this.retryer=ck({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(d,y)=>{this.dispatch({type:"failed",failureCount:d,error:y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(w=this.options.retry)!=null?w:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,a,l,u,c;if(!n){var f,h,g,E;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(h=this.mutationCache.config).onMutate)==null?void 0:f.call(h,this.state.variables,this));const d=await((g=(E=this.options).onMutate)==null?void 0:g.call(E,this.state.variables));d!==this.state.context&&this.dispatch({type:"loading",context:d,variables:this.state.variables})}const w=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,w,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,w,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,w,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,w,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:w}),w}catch(w){try{var S,R,v,_,P,I,T,b;throw await((S=(R=this.mutationCache.config).onError)==null?void 0:S.call(R,w,this.state.variables,this.state.context,this)),await((v=(_=this.options).onError)==null?void 0:v.call(_,w,this.state.variables,this.state.context)),await((P=(I=this.mutationCache.config).onSettled)==null?void 0:P.call(I,void 0,w,this.state.variables,this.state.context,this)),await((T=(b=this.options).onSettled)==null?void 0:T.call(b,void 0,w,this.state.variables,this.state.context)),w}finally{this.dispatch({type:"error",error:w})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Xh(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),Qe.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function dk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class wz extends ho{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new _z({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){Qe.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>iT(e,n))}findAll(e){return this.mutations.filter(n=>iT(e,n))}notify(e){Qe.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return Qe.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Kn)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Bg(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,u=l==null?void 0:l.pageParam,c=(l==null?void 0:l.direction)==="forward",f=(l==null?void 0:l.direction)==="backward",h=((s=t.state.data)==null?void 0:s.pages)||[],g=((o=t.state.data)==null?void 0:o.pageParams)||[];let E=g,S=!1;const R=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>{var w;if((w=t.signal)!=null&&w.aborted)S=!0;else{var d;(d=t.signal)==null||d.addEventListener("abort",()=>{S=!0})}return t.signal}})},v=t.options.queryFn||(()=>Promise.reject("Missing queryFn")),_=(b,w,d,y)=>(E=y?[w,...E]:[...E,w],y?[d,...b]:[...b,d]),P=(b,w,d,y)=>{if(S)return Promise.reject("Cancelled");if(typeof d>"u"&&!w&&b.length)return Promise.resolve(b);const p={queryKey:t.queryKey,pageParam:d,meta:t.options.meta};R(p);const x=v(p);return Promise.resolve(x).then(O=>_(b,d,O,y))};let I;if(!h.length)I=P([]);else if(c){const b=typeof u<"u",w=b?u:zg(t.options,h);I=P(h,b,w)}else if(f){const b=typeof u<"u",w=b?u:hk(t.options,h);I=P(h,b,w,!0)}else{E=[];const b=typeof t.options.getNextPageParam>"u";I=(a&&h[0]?a(h[0],0,h):!0)?P([],b,g[0]):Promise.resolve(_([],g[0],h[0]));for(let d=1;d<h.length;d++)I=I.then(y=>{if(a&&h[d]?a(h[d],d,h):!0){const x=b?g[d]:zg(t.options,y);return P(y,b,x)}return Promise.resolve(_(y,g[d],h[d]))})}return I.then(b=>({pages:b,pageParams:E}))}}}}function zg(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function hk(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}function Ez(t,e){if(t.getNextPageParam&&Array.isArray(e)){const n=zg(t,e);return typeof n<"u"&&n!==null&&n!==!1}}function Pz(t,e){if(t.getPreviousPageParam&&Array.isArray(e)){const n=hk(t,e);return typeof n<"u"&&n!==null&&n!==!1}}class pk{constructor(e={}){this.queryCache=e.queryCache||new vz,this.mutationCache=e.mutationCache||new wz,this.logger=e.logger||L_,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Md.subscribe(()=>{Md.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Vd.subscribe(()=>{Vd.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=Ri(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=Wo(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=lz(n,s);if(typeof o>"u")return;const a=Wo(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return Qe.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=Ri(e,n),i=this.queryCache;Qe.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=Ri(e,n,r),o=this.queryCache,a={type:"active",...i};return Qe.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,n,r){const[i,s={}]=Ri(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=Qe.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(Kn).catch(Kn)}invalidateQueries(e,n,r){const[i,s]=Ri(e,n,r);return Qe.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,n,r){const[i,s]=Ri(e,n,r),o=Qe.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...s,cancelRefetch:(u=s==null?void 0:s.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(Kn);return s!=null&&s.throwOnError||(a=a.catch(Kn)),a}fetchQuery(e,n,r){const i=Wo(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(Kn).catch(Kn)}fetchInfiniteQuery(e,n,r){const i=Wo(e,n,r);return i.behavior=Bg(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(Kn).catch(Kn)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>Os(e)===Os(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>Ld(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>Os(e)===Os(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>Ld(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=N_(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class M_ extends ho{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),lT(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hg(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hg(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Fg(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&uT(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e);return this.createResult(n,e)}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Kn)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Ou||this.currentResult.isStale||!jg(this.options.staleTime))return;const n=sk(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Ou||this.options.enabled===!1||!jg(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Md.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==r,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:f}=e;let{dataUpdatedAt:h,error:g,errorUpdatedAt:E,fetchStatus:S,status:R}=f,v=!1,_=!1,P;if(n._optimisticResults){const d=this.hasListeners(),y=!d&&lT(e,n),p=d&&uT(e,r,n,i);(y||p)&&(S=Xh(e.options.networkMode)?"fetching":"paused",h||(R="loading")),n._optimisticResults==="isRestoring"&&(S="idle")}if(n.keepPreviousData&&!f.dataUpdatedAt&&c!=null&&c.isSuccess&&R!=="error")P=c.data,h=c.dataUpdatedAt,R=c.status,v=!0;else if(n.select&&typeof f.data<"u")if(s&&f.data===(o==null?void 0:o.data)&&n.select===this.selectFn)P=this.selectResult;else try{this.selectFn=n.select,P=n.select(f.data),P=$g(s==null?void 0:s.data,P,n),this.selectResult=P,this.selectError=null}catch(d){this.selectError=d}else P=f.data;if(typeof n.placeholderData<"u"&&typeof P>"u"&&R==="loading"){let d;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))d=s.data;else if(d=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof d<"u")try{d=n.select(d),this.selectError=null}catch(y){this.selectError=y}typeof d<"u"&&(R="success",P=$g(s==null?void 0:s.data,d,n),_=!0)}this.selectError&&(g=this.selectError,P=this.selectResult,E=Date.now(),R="error");const I=S==="fetching",T=R==="loading",b=R==="error";return{status:R,fetchStatus:S,isLoading:T,isSuccess:R==="success",isError:b,isInitialLoading:T&&I,data:P,dataUpdatedAt:h,error:g,errorUpdatedAt:E,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:I,isRefetching:I&&!T,isLoadingError:b&&f.dataUpdatedAt===0,isPaused:S==="paused",isPlaceholderData:_,isPreviousData:v,isRefetchError:b&&f.dataUpdatedAt!==0,isStale:V_(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Fg(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options;if(o==="all"||!o&&!this.trackedProps.size)return!0;const a=new Set(o??this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(l=>{const u=l;return this.currentResult[u]!==n[u]&&a.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!Pf(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){Qe.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,l,u;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function xz(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function lT(t,e){return xz(t,e)||t.state.dataUpdatedAt>0&&Hg(t,e,e.refetchOnMount)}function Hg(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&V_(t,e)}return!1}function uT(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&V_(t,n)}function V_(t,e){return t.isStaleByTime(e.staleTime)}class Tz extends ho{constructor(e,n){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},n&&this.setQueries(n)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(e=>{e.subscribe(n=>{this.onUpdate(e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,n){this.queries=e,Qe.batch(()=>{const r=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(u=>u.observer.setOptions(u.defaultedQueryOptions,n));const s=i.map(u=>u.observer),o=Object.fromEntries(s.map(u=>[u.options.queryHash,u])),a=s.map(u=>u.getCurrentResult()),l=s.some((u,c)=>u!==r[c]);r.length===s.length&&!l||(this.observers=s,this.observersMap=o,this.result=a,this.hasListeners()&&(nT(r,s).forEach(u=>{u.destroy()}),nT(s,r).forEach(u=>{u.subscribe(c=>{this.onUpdate(u,c)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(n=>n.observer.getOptimisticResult(n.defaultedQueryOptions))}findMatchingObservers(e){const n=this.observers,r=new Map(n.map(g=>[g.options.queryHash,g])),i=e.map(g=>this.client.defaultQueryOptions(g)),s=i.flatMap(g=>{const E=r.get(g.queryHash);return E!=null?[{defaultedQueryOptions:g,observer:E}]:[]}),o=new Set(s.map(g=>g.defaultedQueryOptions.queryHash)),a=i.filter(g=>!o.has(g.queryHash)),l=new Set(s.map(g=>g.observer)),u=n.filter(g=>!l.has(g)),c=g=>{const E=this.client.defaultQueryOptions(g),S=this.observersMap[E.queryHash];return S??new M_(this.client,E)},f=a.map((g,E)=>{if(g.keepPreviousData){const S=u[E];if(S!==void 0)return{defaultedQueryOptions:g,observer:S}}return{defaultedQueryOptions:g,observer:c(g)}}),h=(g,E)=>i.indexOf(g.defaultedQueryOptions)-i.indexOf(E.defaultedQueryOptions);return s.concat(f).sort(h)}onUpdate(e,n){const r=this.observers.indexOf(e);r!==-1&&(this.result=uz(this.result,r,n),this.notify())}notify(){Qe.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}class Sz extends M_{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,n){super.setOptions({...e,behavior:Bg()},n)}getOptimisticResult(e){return e.behavior=Bg(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,n){var r,i,s,o,a,l;const{state:u}=e,c=super.createResult(e,n),{isFetching:f,isRefetching:h}=c,g=f&&((r=u.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",E=f&&((s=u.fetchMeta)==null||(o=s.fetchMore)==null?void 0:o.direction)==="backward";return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Ez(n,(a=u.data)==null?void 0:a.pages),hasPreviousPage:Pz(n,(l=u.data)==null?void 0:l.pages),isFetchingNextPage:g,isFetchingPreviousPage:E,isRefetching:h&&!g&&!E}}}let bz=class extends ho{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=this.client.defaultMutationOptions(e),Fg(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:dk(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){Qe.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,r,i,s;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(s=this.mutateOptions).onSettled)==null||i.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,a,l,u;(o=(a=this.mutateOptions).onError)==null||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(u=this.mutateOptions).onSettled)==null||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)})})}};var mk={exports:{}},yk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ra=N;function Rz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Iz=typeof Object.is=="function"?Object.is:Rz,Az=Ra.useState,Cz=Ra.useEffect,kz=Ra.useLayoutEffect,Oz=Ra.useDebugValue;function Dz(t,e){var n=e(),r=Az({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return kz(function(){i.value=n,i.getSnapshot=e,bm(i)&&s({inst:i})},[t,n,e]),Cz(function(){return bm(i)&&s({inst:i}),t(function(){bm(i)&&s({inst:i})})},[t]),Oz(n),n}function bm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Iz(t,n)}catch{return!0}}function Nz(t,e){return e()}var Lz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nz:Dz;yk.useSyncExternalStore=Ra.useSyncExternalStore!==void 0?Ra.useSyncExternalStore:Lz;mk.exports=yk;var Mz=mk.exports;const j_=Mz.useSyncExternalStore,cT=N.createContext(void 0),gk=N.createContext(!1);function vk(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=cT),window.ReactQueryClientContext):cT)}const yc=({context:t}={})=>{const e=N.useContext(vk(t,N.useContext(gk)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_k=({client:t,children:e,context:n,contextSharing:r=!1})=>{N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=vk(n,r);return N.createElement(gk.Provider,{value:!n&&r},N.createElement(i.Provider,{value:t},e))},wk=N.createContext(!1),Ek=()=>N.useContext(wk);wk.Provider;function Vz(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const jz=N.createContext(Vz()),Pk=()=>N.useContext(jz);function xk(t,e){return typeof t=="function"?t(...e):!!t}const Tk=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Sk=t=>{N.useEffect(()=>{t.clearReset()},[t])},bk=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&xk(n,[t.error,r]),Rk=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Ik=(t,e)=>t.isLoading&&t.isFetching&&!e,qg=(t,e,n)=>(t==null?void 0:t.suspense)&&Ik(e,n),Wg=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function Fz({queries:t,context:e}){const n=yc({context:e}),r=Ek(),i=Pk(),s=N.useMemo(()=>t.map(h=>{const g=n.defaultQueryOptions(h);return g._optimisticResults=r?"isRestoring":"optimistic",g}),[t,n,r]);s.forEach(h=>{Rk(h),Tk(h,i)}),Sk(i);const[o]=N.useState(()=>new Tz(n,s)),a=o.getOptimisticResult(s);j_(N.useCallback(h=>r?()=>{}:o.subscribe(Qe.batchCalls(h)),[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),N.useEffect(()=>{o.setQueries(s,{listeners:!1})},[s,o]);const u=a.some((h,g)=>qg(s[g],h,r))?a.flatMap((h,g)=>{const E=s[g],S=o.getObservers()[g];if(E&&S){if(qg(E,h,r))return Wg(E,S,i);Ik(h,r)&&Wg(E,S,i)}return[]}):[];if(u.length>0)throw Promise.all(u);const c=o.getQueries(),f=a.find((h,g)=>{var E,S;return bk({result:h,errorResetBoundary:i,useErrorBoundary:(E=(S=s[g])==null?void 0:S.useErrorBoundary)!=null?E:!1,query:c[g]})});if(f!=null&&f.error)throw f.error;return a}function Ak(t,e){const n=yc({context:t.context}),r=Ek(),i=Pk(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=Qe.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=Qe.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=Qe.batchCalls(s.onSettled)),Rk(s),Tk(s,i),Sk(i);const[o]=N.useState(()=>new e(n,s)),a=o.getOptimisticResult(s);if(j_(N.useCallback(l=>r?()=>{}:o.subscribe(Qe.batchCalls(l)),[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),N.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),qg(s,a,r))throw Wg(s,o,i);if(bk({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}function $n(t,e,n){const r=Wo(t,e,n);return Ak(r,M_)}function Kg(t,e,n){const r=cz(t,e,n),i=yc({context:r.context}),[s]=N.useState(()=>new bz(i,r));N.useEffect(()=>{s.setOptions(r)},[s,r]);const o=j_(N.useCallback(l=>s.subscribe(Qe.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=N.useCallback((l,u)=>{s.mutate(l,u).catch(Uz)},[s]);if(o.error&&xk(s.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function Uz(){}function F_(t,e,n){const r=Wo(t,e,n);return Ak(r,Sz)}const $z=({controlModal:t})=>{const[e,n]=N.useState("login"),r=()=>{n(e==="login"?"signup":"login")},i=Vr(),{getUserData:s,signIn:o,signUp:a,signWithGoogle:l,getUserInfo:u}=cn(),c=async k=>{if(e==="login"){const M=await o(k);return M&&u({email:k.email,password:k.password,name:k.name,username:k.username}),M}else if(e==="signup"){const M=await a(k);return M&&u({email:k.email,password:k.password,name:k.name,username:k.username}),M}},f=k=>{const M=k.uid,L=k.getIdToken(!0);s({uid:M,authToken:L}),setTimeout(()=>{t()},3e3),p(),i("/")},{error:h,isLoading:g,isPaused:E,isSuccess:S,mutate:R}=Kg(k=>c(k),{onSuccess:k=>{f(k)}}),{mutate:v,error:_,isLoading:P,isPaused:I,isSuccess:T}=Kg({mutationFn:l,onSuccess:k=>{f(k)}}),{register:b,handleSubmit:w,formState:{errors:d,isValid:y},reset:p}=az({mode:"onTouched",shouldFocusError:!0}),x=k=>{R(k)},A={pattern:{value:/^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Pleasee enter a valid Email"},required:{value:!0,message:"Please enter an email"}},O={minLength:{value:6,message:"Username should be more than 6 character"},maxLength:{value:16,message:"Username should be less than 16 characters"},required:"Please enter a username"},j={minLength:{value:6,message:"Password is too short"},maxLength:{value:20,message:"Password is too long"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Please enter a valid password"},required:{value:!0,message:"Please enter a name"}},B={minLength:{value:2,message:"Name is too short"},pattern:{value:/^[a-zA-Z]+( [a-zA-Z]+){0,2}$/,message:"Please enter a valid name"},required:{value:!0,message:"Please enter a name"}},F=S?"Login Successful":E?"Waiting for internet connection":h&&!P&&!T?h.message:_?_.message:T&&"Signed with your google account";return m.jsxs(mi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 h-fit w-4/6 rounded-xl ring-2 ring-indigo-500/20 dark:ring-indigo-500/40 p-4 dark:bg-slate-900 bg-slate-50 space-y-6 z-30",children:[m.jsxs("form",{onSubmit:w(x),className:"w-full flex flex-col gap-4 justify-start text-base dark:text-slate-50 text-slate-900",children:[m.jsxs("h3",{className:`capitalize text-2xl text-center w-full font-semibold ${h&&!T?"text-red-400":(S||T)&&"text-green-400"}`,children:[e==="login"&&(!S||!T)&&!h?"Login":e==="signup"&&(!S||!T)&&!h?"Sign Up":"",F]}),e==="login"?m.jsx(U9,{register:b,passwordValidation:j,emailValidation:A,errors:d,isLoading:g}):m.jsx($9,{register:b,passwordValidation:j,usernameValidation:O,emailValidation:A,nameValidation:B,errors:d,isLoading:g}),m.jsx("button",{type:"submit",className:" rounded-full bg-slate-900 text-slate-50 dark:bg-slate-50 dark:text-slate-900 w-1/2 px-4 py-2 capitalize font-medium mx-auto disabled:cursor-not-allowed",disabled:g||E||P||I,onClick:()=>v(),children:P?"Loading...":"sign with google"}),m.jsxs("button",{type:"submit",disabled:!y||g||P||E||I,className:"rounded-full bg-indigo-500 text-slate-50  w-1/2 px-4 py-2 capitalize font-medium mx-auto focus:border-2 focus:border-slate-50 disabled:cursor-not-allowed disabled:bg-slate-400 disabled:text-slate-600",children:[e==="login"&&!S&&!g?"Login":"Sign Up",g&&!P&&"Loading..."]})]}),m.jsxs("div",{className:"flex flex-col gap-2 justify-center",children:[m.jsx("button",{onClick:r,className:"outline-none text-indigo-500 underline-offset-1 underline capitalize",disabled:g||P||E||I,children:e==="login"?"Sign Up":"Login"}),m.jsx("button",{onClick:t,className:"outline-none text-slate-400 underline-offset-1 underline capitalize",disabled:g||P||E||I,children:"close"})]})]})},Bz=({controlModal:t})=>m.jsx(mi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},onClick:t,className:"absolute top-0 left-0 w-full h-full bg-black/50 z-30"}),U_=({controlModal:t})=>{const e=document.querySelector("#overlay"),n=document.querySelector("#backdrop");return m.jsxs(m.Fragment,{children:[zs.createPortal(m.jsx(Bz,{controlModal:()=>t("hide")}),n),zs.createPortal(m.jsx($z,{controlModal:()=>t("hide")}),e)]})},zz=({setToggle:t})=>{const e={hidden:{opacity:0},visible:{opacity:1}};return m.jsx(mi.div,{variants:e,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.2},onClick:()=>t("closed"),className:"fixed top-0 bottom-0 left-0 right-0 z-30 w-full h-full text-center bg-slate-800/50"})},Hz=({setToggle:t})=>{const e={hidden:{x:"-100%"},shown:{x:"0%"}},{userData:n}=cn(),[r,i]=N.useState(!1),s=o=>{i(o==="show")};return m.jsxs(mi.div,{variants:e,initial:"hidden",animate:"shown",exit:"hidden",transition:{type:"tween",duration:.3},className:"fixed top-0 left-0 z-30 flex flex-col w-60 h-screen gap-4 p-6 dark:bg-slate-800 bg-slate-50 dark:text-slate-50 text-slate-800",children:[m.jsxs("div",{className:"flex flex-row items-center justify-between text-xl font-medium",children:[m.jsx("div",{onClick:()=>t("closed"),className:"p-2 rounded-full cursor-pointer hover:bg-slate-50/25",children:m.jsx(NF,{})}),m.jsx(Mt,{to:"./",onClick:()=>{t("closed")},children:"GoTube"})]}),n.uid?m.jsx("p",{children:"Welcome"}):m.jsxs(m.Fragment,{children:[m.jsx("p",{onClick:()=>s("show"),className:" px-3 py-2 bg-indigo-600 hover:bg-indigo-500 active:bg-indigo-700 dark:bg-indigo-400 dark:hover:bg-indigo-500 dark:active:bg-indigo-600 capitalize font-medium ",children:"join us"}),r&&m.jsx(U_,{controlModal:s})]})]})},qz=({setToggle:t})=>m.jsxs("div",{children:[zs.createPortal(m.jsx(Hz,{setToggle:t}),document.getElementById("overlay")),zs.createPortal(m.jsx(zz,{setToggle:t}),document.getElementById("backdrop"))]}),Wz=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),Kz=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})}),Ck=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),Qz=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25 7.5 16.5V3.75m9 0H18A2.25 2.25 0 0120.25 6v12A2.25 2.25 0 0118 20.25H6A2.25 2.25 0 013.75 18V6A2.25 2.25 0 016 3.75h1.5m9 0h-9"})}),Gz=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),$_=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"})}),Yz=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:m.jsx("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"})}),Xz=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Jz=({clickHandler:t,extra:e})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:`w-11 h-11 p-2 rounded-full hover:bg-indigo-400 dark:hover:bg-indigo-50/10 bg-opacity-0 outline-none active:scale-110 active:ring-1 dark:ring-indigo-300 ring-indigo-500 transition-all duration-300 ${e}`,onClick:t,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),kk=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75A2.25 2.25 0 0116.5 4.5c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23H5.904M14.25 9h2.25M5.904 18.75c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 01-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 10.203 4.167 9.75 5 9.75h1.053c.472 0 .745.556.5.96a8.958 8.958 0 00-1.302 4.665c0 1.194.232 2.333.654 3.375z"})}),Zz=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),eH=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25 7.5 16.5V3.75m9 0H18A2.25 2.25 0 0120.25 6v12A2.25 2.25 0 0118 20.25H6A2.25 2.25 0 013.75 18V6A2.25 2.25 0 016 3.75h1.5m9 0h-9"})}),tH=()=>{const[t,e]=N.useState("closed");return m.jsxs("div",{children:[m.jsx("div",{onClick:()=>e("opened"),className:"p-2 rounded-full cursor-pointer hover:bg-slate-50/25",children:m.jsx(Zz,{})}),m.jsx(qu,{children:t==="opened"&&m.jsx(qz,{setToggle:e})})]})},nH=()=>{const[t,e]=N.useState(!1),n=r=>{e(r==="show")};return m.jsxs("div",{children:[m.jsx("button",{onClick:()=>n("show"),className:"rounded-full px-4 py-2 bg-slate-900 text-slate-50 dark:bg-indigo-500 dark:text-slate-50 focus:outline-none focus:ring-1 focus:ring-slate-50/20 font-semibold capitalize text-base dark:hover:bg-indigo-600 dark:active:bg-indigo-700 sm:text-sm md:text-base whitespace-nowrap",children:"join us"}),m.jsx(qu,{mode:"sync",children:t&&m.jsx(U_,{controlModal:n})})]})},rH=({variants:t,userData:e,refetch:n})=>{const[r,i]=N.useState(),[s,o]=N.useState(!1),a=N.useRef(null),l=N.useRef(null),u=N.useRef(null),{logout:c,updateData:f}=cn(),{data:h,error:g,isSuccess:E,isLoading:S,mutate:R}=Kg({mutationFn:async I=>f(r,I),onSuccess:()=>{i(null),o(!0),n()}}),v=()=>{switch(r){case"name":a.current&&R(a.current.value);break;case"password":u.current&&R(u.current.value);break;case"username":l.current&&R(l.current.value);break}},_=I=>{if(I===r)switch(i(null),r){case"name":a.current&&(a.current.value=e.name);break;case"password":u.current&&(u.current.value=e.password);break;case"username":l.current&&(l.current.value=e.username);break}else i(I)},P=S?"Changing...":E?`Your ${h} has been changed!`:g&&g.message;return N.useEffect(()=>{setTimeout(()=>{o(!1)},3e3)},[s]),m.jsxs(mi.div,{variants:t,initial:"hide",animate:"show",exit:"hide",transition:{duration:.2},className:"fixed z-40 flex flex-col items-center justify-between w-3/6 gap-5 p-6 -translate-x-1/2 -translate-y-1/2 bg-white left-1/2 top-1/2 ring-2 ring-slate-400 dark:bg-slate-800 h-4/6 rounded-xl",children:[m.jsx("div",{className:"flex flex-row gap-3",children:m.jsx(Ok,{name:e.name,picName:e.picName,username:e.username,imgSize:"text-3xl",textSize:"text-xl"})}),s&&m.jsx("div",{className:` p-3 w-[95%] text-xl rounded-lg text-center
      ${S&&"border-2 border-indigo-400 text-indigo-400 bg-indigo-400/20"}
      ${E&&"border-2 border-green-400 text-green-400 bg-green-400/20"}
      ${g&&"border-2 border-red-400 text-red-400 bg-red-400/20"}
      `,children:P}),m.jsxs("div",{className:"flex flex-col self-start gap-3",children:[m.jsxs("div",{className:"flex flex-row justify-between",children:[m.jsxs("div",{className:"flex flex-row items-center gap-3",children:[m.jsx("label",{htmlFor:"name",className:"text-black capitalize dark:text-white",children:"name:"}),m.jsx("input",{type:"text",defaultValue:e.name,id:"name",ref:a,required:!0,minLength:6,pattern:"/^[a-zA-Z]+( [a-zA-Z]+){0,2}$/",autoFocus:r==="name",readOnly:r!=="name",className:`focus:outline-none dark:text-white rounded-lg text-indigo-600 bg-transparent px-2 py-1 ${r==="name"&&"ring-2 focus:ring-white ring-white/40"}`})]}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("button",{onClick:()=>_("name"),className:` ${r==="name"?"text-white":"text-indigo-400 underline-offset-1 underline"} capitalize `,children:r==="name"?"cancel":"change"}),r==="name"&&m.jsx("button",{onClick:v,className:"text-indigo-400 underline capitalize underline-offset-1",children:"confirm"})]})]}),m.jsxs("div",{className:"flex flex-row justify-between",children:[m.jsxs("div",{className:"flex flex-row items-center gap-3",children:[m.jsx("label",{htmlFor:"username",className:"text-black capitalize dark:text-white",children:"username:"}),m.jsx("input",{type:"text",defaultValue:e.username,id:"username",ref:l,required:!0,minLength:6,maxLength:26,autoFocus:r==="username",readOnly:r!=="username",className:`focus:outline-none dark:text-white rounded-lg text-indigo-600 bg-transparent px-2 py-1 ${r==="username"&&"ring-2 focus:ring-white ring-white/40"}`})]}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("button",{onClick:()=>_("username"),className:` ${r==="username"?"text-white":"text-indigo-400 underline-offset-1 underline"} capitalize `,children:r==="username"?"cancel":"change"}),r==="username"&&m.jsx("button",{onClick:v,className:"text-indigo-400 underline capitalize underline-offset-1",children:"confirm"})]})]}),m.jsxs("div",{className:"flex flex-row justify-between",children:[m.jsxs("div",{className:"flex flex-row items-center gap-3",children:[m.jsx("label",{htmlFor:"password",className:"text-black capitalize dark:text-white",children:"password:"}),m.jsx("input",{type:"password",defaultValue:e.name,id:"password",ref:u,required:!0,minLength:6,pattern:"/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/",autoFocus:r==="password",readOnly:r!=="password",className:`focus:outline-none dark:text-white rounded-lg text-indigo-600 bg-transparent px-2 py-1 ${r==="password"&&"ring-2 focus:ring-white ring-white/40"}`})]}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("button",{onClick:()=>_("password"),className:` ${r==="password"?"text-white":"text-indigo-400 underline-offset-1 underline"} capitalize `,children:r==="password"?"cancel":"change"}),r==="password"&&m.jsx("button",{onClick:v,className:"text-indigo-400 underline capitalize underline-offset-1",children:"confirm"})]})]})]}),m.jsx("button",{onClick:c,className:"dark:bg-indigo-400 dark:hover:bg-indigo-500 dark:active:bg-indigo-600 bg-black hover:bg-slate-800 active:bg-slate-700 focus:ring-2 ring-blue-400  text-white p-2 rounded-lg capitalize font-medium",children:"logout"})]})},iH=({variants:t,toggleIt:e})=>m.jsx(mi.div,{variants:t,initial:"hide",animate:"show",exit:"hide",transition:{duration:.15},className:"fixed top-0 bottom-0 left-0 right-0 z-30 w-full h-full bg-slate-900/50",onClick:e}),sH=({variants:t,toggleIt:e,userData:n,refetch:r})=>{const i=document.querySelector("#overlay"),s=document.querySelector("#backdrop");return m.jsxs(m.Fragment,{children:[zs.createPortal(m.jsx(rH,{variants:t,userData:n,refetch:r}),i),zs.createPortal(m.jsx(iH,{variants:t,toggleIt:e}),s)]})},oH=()=>{const{userData:t}=cn(),e=async()=>{const n=rt(it,`users/${t==null?void 0:t.uid}`);try{return(await yr(n)).data()}catch{throw new Error("User isn't found")}};return{queryKey:["userData",t.uid],queryFn:e,refetchOnWindowFocus:!1,staleTime:1/0,cacheTime:1/0,select:n=>{const r=()=>{var a,l,u;const s=n==null?void 0:n.name.split(" ");return(s[1]?((a=s[0])==null?void 0:a.substring(0,1))+((l=s[1])==null?void 0:l.substring(0,1)):(u=s[0])==null?void 0:u.substring(0,1)).toUpperCase()};return{name:n==null?void 0:n.name,username:n==null?void 0:n.username,picName:r(),password:n==null?void 0:n.password}}}},Ok=({name:t,picName:e,username:n,textSize:r,imgSize:i})=>m.jsxs(m.Fragment,{children:[m.jsx("p",{className:`p-2 ${i||"text-xl"} font-semibold capitalize rounded-full bg-slate-900 text-slate-50 dark:bg-slate-50 dark:text-indigo-400`,children:e}),m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("p",{className:`${r||"text-sm"} capitalize dark:text-indigo-400 text-slate-900`,children:t}),m.jsx("p",{className:`${r||"text-sm"} text-slate-400`,children:n})]})]}),aH=()=>{const[t,e]=N.useState(!1),n=()=>{e(!t)},r={show:{opacity:1},hide:{opacity:0}},i=oH(),{data:s,refetch:o}=$n(i);return m.jsxs(m.Fragment,{children:[m.jsx("div",{onClick:n,className:"flex-row hidden gap-2 cursor-pointer md:flex",children:m.jsx(Ok,{name:s==null?void 0:s.name,picName:s==null?void 0:s.picName,username:s==null?void 0:s.username})}),m.jsx(qu,{mode:"sync",children:t&&m.jsx(sH,{userData:s,variants:r,toggleIt:n,refetch:o})})]})},Dk=()=>{const t=N.useRef(null),e=Vr(),[n,r]=N.useState(localStorage.getItem("theme"));localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light"),N.useEffect(()=>{switch(n){case"dark":document.documentElement.classList.add("dark");break;case"light":document.documentElement.classList.remove("dark");break}},[n]);const i=u=>{localStorage.setItem("theme",u.currentTarget.value),r(u.currentTarget.value)},{userData:s,getSelectedLink:o}=cn(),a=u=>{var c,f;u.preventDefault(),u.target&&((c=u.target.q)==null?void 0:c.value.trim())!==""&&(o((f=u.target.q)==null?void 0:f.value.trim()),e("/"))},l=u=>{u.key==="Enter"&&(u.preventDefault(),t!=null&&t.current&&t.current.value.trim()!==""&&(o(t.current.value.trim()),e("/")))};return m.jsx("header",{children:m.jsxs("nav",{className:"fixed top-0 z-30 flex flex-row items-center justify-between w-full px-6 h-fit dark:bg-slate-900 dark:text-slate-50 bg-slate-50 text-slate-900",children:[m.jsxs("div",{className:"flex flex-row items-center gap-6 p-2 text-2xl font-bold",children:[m.jsx(tH,{}),m.jsx(Mt,{to:"./",className:"",children:"GoTube"})]}),m.jsx("div",{className:"flex flex-row gap-2 p-3 mx-auto basis-1/2",children:m.jsxs("form",{onSubmit:a,className:"flex flex-row rounded-full basis-full ring-1 ring-slate-50/20 focus-within:ring-blue-500",children:[m.jsx("input",{ref:t,required:!0,className:"order-2 w-full px-2 outline-none peer placeholder:p-2 placeholder:dark:text-slate-50/60 placeholder:text-slate-900/60 dark:bg-slate-900 bg-slate-50",type:"search",placeholder:"Search",name:"q",onKeyDown:l}),m.jsx("div",{className:"order-1 invisible p-2 rounded-full rounded-r-none peer-focus:visible dark:bg-slate-900 dark:text-slate-50 bg-slate-50/60 text-slate-900/60",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),m.jsx("button",{type:"submit",className:"order-3 p-2 rounded-full rounded-l-none hover:dark:bg-slate-50/20 hover:bg-slate-900/20 dark:bg-slate-50/20 dark:text-slate-50 bg-slate-50 text-slate-900",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})})]})}),m.jsxs("div",{className:"flex-row hidden gap-4 p-2 mx-auto rounded-full lg:flex ring-2 ring-indigo-500/60",children:[m.jsx("button",{disabled:n==="light",value:"light",onClick:i,className:`p-2 rounded-full ${n==="light"?"opacity-0":"bg-slate-50 ring-1 ring-slate-50/40"}`}),m.jsx("button",{disabled:n==="dark",value:"dark",onClick:i,className:`p-2 rounded-full bg-indigo-500 ${n==="dark"?"opacity-0":" ring-1 ring-slate-900/60"}`})]}),s.auth?m.jsx(aH,{}):m.jsx(nH,{})]})})},ke=({icon:t,children:e,flexType:n,textSize:r,selectedLink:i,getSelectedLink:s,destination:o})=>{const a=()=>{s&&s(o||e)};return m.jsxs(Mt,{to:o,className:`flex ${n} capitalize items-center w-full rounded-lg tabs whitespace-nowrap ${i===o||e===i?"bg-indigo-600 hover:bg-indigo-600 active:bg-indigo-800 font-semibold":"dark:hover:bg-slate-50/20 dark:active:bg-slate-50/10 bg-slate-900/20 hover:bg-slate-900/30 active:bg-slate-900/40"}`,onClick:a,children:[t,m.jsx("p",{className:r,children:e})]})},Nk=()=>{const[t,e]=N.useState(window.location.pathname),n=i=>{e(i)},r=[{name:"Home",icon:m.jsx(Wz,{}),to:"/"},{name:"Playlist",icon:m.jsx(Kz,{}),to:"/you/playlists"},{name:"Subscriptions",icon:m.jsx(Ck,{}),to:"/you/subscriptions"},{name:"Library",icon:m.jsx(Qz,{}),to:"/you"}];return m.jsx("aside",{className:"fixed bottom-0 left-0 z-20 w-full col-span-1 overflow-hidden font-normal text-center  md:pt-16 md:h-full h-fit md:w-32 dark:bg-slate-900 dark:text-slate-50 bg-slate-50 text-slate-900",children:m.jsx("nav",{className:"flex flex-row w-full gap-4 p-2 overflow-y-auto md:flex-col",children:r.map(i=>m.jsx(ke,{icon:i.icon,flexType:"flex-col justify-center gap-2 p-4",textSize:"text-xs",selectedLink:t,getSelectedLink:n,destination:i.to,children:i.name},i.name))})})},lH=()=>m.jsxs(m.Fragment,{children:[m.jsx(Dk,{}),m.jsxs("main",{className:" md:grid grid-cols-8 gap-4 pt-12",children:[m.jsx(Nk,{}),m.jsx(n0,{})]})]}),uH=({title:t,children:e})=>m.jsxs("div",{className:"col-span-3 mt-10 text-xl text-center text-indigo-500 absolute top-1/4 left-1/2 -translate-x-1/2 -translate-y-1/2 space-y-2",children:[m.jsx("h1",{className:"text-2xl font-bold",children:t}),e]}),cH=()=>{const t=wb(),[e,n]=N.useState(!1),r=a=>{n(a==="show")};let i="An error occurred!",s="Something went wrong!";t.status===500&&(s=t.data.message),t.status===404&&(i="Not found!",s="Could not find resource or page."),t.status===403&&(i="Access denied!",s=t.data.message);const o=Vr();return N.useEffect(()=>{let a;return t.status===404&&(a=setTimeout(()=>{o("/")},5e3)),()=>{clearTimeout(a)}},[t,o]),m.jsxs(m.Fragment,{children:[m.jsx(Dk,{}),m.jsxs("main",{className:"grid grid-cols-2",children:[m.jsx(Nk,{}),m.jsx(uH,{title:i,children:m.jsxs(m.Fragment,{children:[m.jsx("p",{children:s}),t.status===404?m.jsxs("p",{className:"text-white",children:["Redirecting you to the"," ",m.jsx("span",{onClick:()=>o("/"),className:"underline underline-offset-1 text-indigo-400",children:"home page"})]}):t.status===403&&m.jsxs(m.Fragment,{children:[m.jsxs("p",{className:"text-center text-white whitespace-nowrap text-lg",children:["You aren't registered, Do you want to"," ",m.jsxs("span",{onClick:()=>{n(!0)},className:"text-indigo-500 underline underline-offset-1 cursor-pointer",children:["sign in"," "]}),"?"]}),e&&m.jsx(U_,{controlModal:r})]})]})})]})]})};function Lk(t,e){return function(){return t.apply(e,arguments)}}const{toString:fH}=Object.prototype,{getPrototypeOf:B_}=Object,Jh=(t=>e=>{const n=fH.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jr=t=>(t=t.toLowerCase(),e=>Jh(e)===t),Zh=t=>e=>typeof e===t,{isArray:Ha}=Array,Du=Zh("undefined");function dH(t){return t!==null&&!Du(t)&&t.constructor!==null&&!Du(t.constructor)&&Zn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Mk=jr("ArrayBuffer");function hH(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Mk(t.buffer),e}const pH=Zh("string"),Zn=Zh("function"),Vk=Zh("number"),ep=t=>t!==null&&typeof t=="object",mH=t=>t===!0||t===!1,xf=t=>{if(Jh(t)!=="object")return!1;const e=B_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yH=jr("Date"),gH=jr("File"),vH=jr("Blob"),_H=jr("FileList"),wH=t=>ep(t)&&Zn(t.pipe),EH=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Zn(t.append)&&((e=Jh(t))==="formdata"||e==="object"&&Zn(t.toString)&&t.toString()==="[object FormData]"))},PH=jr("URLSearchParams"),xH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ha(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function jk(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Fk=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Uk=t=>!Du(t)&&t!==Fk;function Qg(){const{caseless:t}=Uk(this)&&this||{},e={},n=(r,i)=>{const s=t&&jk(e,i)||i;xf(e[s])&&xf(r)?e[s]=Qg(e[s],r):xf(r)?e[s]=Qg({},r):Ha(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&gc(arguments[r],n);return e}const TH=(t,e,n,{allOwnKeys:r}={})=>(gc(e,(i,s)=>{n&&Zn(i)?t[s]=Lk(i,n):t[s]=i},{allOwnKeys:r}),t),SH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),bH=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},RH=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&B_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},IH=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},AH=t=>{if(!t)return null;if(Ha(t))return t;let e=t.length;if(!Vk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},CH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&B_(Uint8Array)),kH=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},OH=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},DH=jr("HTMLFormElement"),NH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),fT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),LH=jr("RegExp"),$k=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};gc(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},MH=t=>{$k(t,(e,n)=>{if(Zn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Zn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},VH=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ha(t)?r(t):r(String(t).split(e)),n},jH=()=>{},FH=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Rm="abcdefghijklmnopqrstuvwxyz",dT="0123456789",Bk={DIGIT:dT,ALPHA:Rm,ALPHA_DIGIT:Rm+Rm.toUpperCase()+dT},UH=(t=16,e=Bk.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function $H(t){return!!(t&&Zn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const BH=t=>{const e=new Array(10),n=(r,i)=>{if(ep(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ha(r)?[]:{};return gc(r,(o,a)=>{const l=n(o,i+1);!Du(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},zH=jr("AsyncFunction"),HH=t=>t&&(ep(t)||Zn(t))&&Zn(t.then)&&Zn(t.catch),W={isArray:Ha,isArrayBuffer:Mk,isBuffer:dH,isFormData:EH,isArrayBufferView:hH,isString:pH,isNumber:Vk,isBoolean:mH,isObject:ep,isPlainObject:xf,isUndefined:Du,isDate:yH,isFile:gH,isBlob:vH,isRegExp:LH,isFunction:Zn,isStream:wH,isURLSearchParams:PH,isTypedArray:CH,isFileList:_H,forEach:gc,merge:Qg,extend:TH,trim:xH,stripBOM:SH,inherits:bH,toFlatObject:RH,kindOf:Jh,kindOfTest:jr,endsWith:IH,toArray:AH,forEachEntry:kH,matchAll:OH,isHTMLForm:DH,hasOwnProperty:fT,hasOwnProp:fT,reduceDescriptors:$k,freezeMethods:MH,toObjectSet:VH,toCamelCase:NH,noop:jH,toFiniteNumber:FH,findKey:jk,global:Fk,isContextDefined:Uk,ALPHABET:Bk,generateString:UH,isSpecCompliantForm:$H,toJSONObject:BH,isAsyncFn:zH,isThenable:HH};function Oe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}W.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zk=Oe.prototype,Hk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Hk[t]={value:t}});Object.defineProperties(Oe,Hk);Object.defineProperty(zk,"isAxiosError",{value:!0});Oe.from=(t,e,n,r,i,s)=>{const o=Object.create(zk);return W.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Oe.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const qH=null;function Gg(t){return W.isPlainObject(t)||W.isArray(t)}function qk(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function hT(t,e,n){return t?t.concat(e).map(function(i,s){return i=qk(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function WH(t){return W.isArray(t)&&!t.some(Gg)}const KH=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function tp(t,e,n){if(!W.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,R){return!W.isUndefined(R[S])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(e);if(!W.isFunction(i))throw new TypeError("visitor must be a function");function u(E){if(E===null)return"";if(W.isDate(E))return E.toISOString();if(!l&&W.isBlob(E))throw new Oe("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(E)||W.isTypedArray(E)?l&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function c(E,S,R){let v=E;if(E&&!R&&typeof E=="object"){if(W.endsWith(S,"{}"))S=r?S:S.slice(0,-2),E=JSON.stringify(E);else if(W.isArray(E)&&WH(E)||(W.isFileList(E)||W.endsWith(S,"[]"))&&(v=W.toArray(E)))return S=qk(S),v.forEach(function(P,I){!(W.isUndefined(P)||P===null)&&e.append(o===!0?hT([S],I,s):o===null?S:S+"[]",u(P))}),!1}return Gg(E)?!0:(e.append(hT(R,S,s),u(E)),!1)}const f=[],h=Object.assign(KH,{defaultVisitor:c,convertValue:u,isVisitable:Gg});function g(E,S){if(!W.isUndefined(E)){if(f.indexOf(E)!==-1)throw Error("Circular reference detected in "+S.join("."));f.push(E),W.forEach(E,function(v,_){(!(W.isUndefined(v)||v===null)&&i.call(e,v,W.isString(_)?_.trim():_,S,h))===!0&&g(v,S?S.concat(_):[_])}),f.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return g(t),e}function pT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function z_(t,e){this._pairs=[],t&&tp(t,this,e)}const Wk=z_.prototype;Wk.append=function(e,n){this._pairs.push([e,n])};Wk.toString=function(e){const n=e?function(r){return e.call(this,r,pT)}:pT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function QH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kk(t,e,n){if(!e)return t;const r=n&&n.encode||QH,i=n&&n.serialize;let s;if(i?s=i(e,n):s=W.isURLSearchParams(e)?e.toString():new z_(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class GH{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(r){r!==null&&e(r)})}}const mT=GH,Qk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YH=typeof URLSearchParams<"u"?URLSearchParams:z_,XH=typeof FormData<"u"?FormData:null,JH=typeof Blob<"u"?Blob:null,ZH=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),eq=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),fr={isBrowser:!0,classes:{URLSearchParams:YH,FormData:XH,Blob:JH},isStandardBrowserEnv:ZH,isStandardBrowserWebWorkerEnv:eq,protocols:["http","https","file","blob","url","data"]};function tq(t,e){return tp(t,new fr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return fr.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function nq(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rq(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Gk(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&W.isArray(i)?i.length:o,l?(W.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!W.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&W.isArray(i[o])&&(i[o]=rq(i[o])),!a)}if(W.isFormData(t)&&W.isFunction(t.entries)){const n={};return W.forEachEntry(t,(r,i)=>{e(nq(r),i,n,0)}),n}return null}function iq(t,e,n){if(W.isString(t))try{return(e||JSON.parse)(t),W.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const H_={transitional:Qk,adapter:fr.isNode?"http":"xhr",transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=W.isObject(e);if(s&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return i&&i?JSON.stringify(Gk(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tq(e,this.formSerializer).toString();if((a=W.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return tp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),iq(e)):e}],transformResponse:[function(e){const n=this.transitional||H_.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&W.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Oe.from(a,Oe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fr.classes.FormData,Blob:fr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{H_.headers[t]={}});const q_=H_,sq=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oq=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&sq[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},yT=Symbol("internals");function cl(t){return t&&String(t).trim().toLowerCase()}function Tf(t){return t===!1||t==null?t:W.isArray(t)?t.map(Tf):String(t)}function aq(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const lq=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Im(t,e,n,r,i){if(W.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!W.isString(e)){if(W.isString(r))return e.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(e)}}function uq(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function cq(t,e){const n=W.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class np{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=cl(l);if(!c)throw new Error("header name must be a non-empty string");const f=W.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Tf(a))}const o=(a,l)=>W.forEach(a,(u,c)=>s(u,c,l));return W.isPlainObject(e)||e instanceof this.constructor?o(e,n):W.isString(e)&&(e=e.trim())&&!lq(e)?o(oq(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=cl(e),e){const r=W.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return aq(i);if(W.isFunction(n))return n.call(this,i,r);if(W.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=cl(e),e){const r=W.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Im(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=cl(o),o){const a=W.findKey(r,o);a&&(!n||Im(r,r[a],a,n))&&(delete r[a],i=!0)}}return W.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Im(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return W.forEach(this,(i,s)=>{const o=W.findKey(r,s);if(o){n[o]=Tf(i),delete n[s];return}const a=e?uq(s):String(s).trim();a!==s&&delete n[s],n[a]=Tf(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return W.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[yT]=this[yT]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=cl(o);r[a]||(cq(i,o),r[a]=!0)}return W.isArray(e)?e.forEach(s):s(e),this}}np.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(np.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});W.freezeMethods(np);const ni=np;function Am(t,e){const n=this||q_,r=e||n,i=ni.from(r.headers);let s=r.data;return W.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Yk(t){return!!(t&&t.__CANCEL__)}function vc(t,e,n){Oe.call(this,t??"canceled",Oe.ERR_CANCELED,e,n),this.name="CanceledError"}W.inherits(vc,Oe,{__CANCEL__:!0});function fq(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Oe("Request failed with status code "+n.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const dq=fr.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),W.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),W.isString(s)&&l.push("path="+s),W.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function hq(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function pq(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Xk(t,e){return t&&!hq(e)?pq(t,e):e}const mq=fr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=W.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function yq(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gq(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let f=s,h=0;for(;f!==i;)h+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const g=c&&u-c;return g?Math.round(h*1e3/g):void 0}}function gT(t,e){let n=0;const r=gq(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const vq=typeof XMLHttpRequest<"u",_q=vq&&function(t){return new Promise(function(n,r){let i=t.data;const s=ni.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}W.isFormData(i)&&(fr.isStandardBrowserEnv||fr.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const g=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(g+":"+E))}const c=Xk(t.baseURL,t.url);u.open(t.method.toUpperCase(),Kk(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function f(){if(!u)return;const g=ni.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:g,config:t,request:u};fq(function(v){n(v),l()},function(v){r(v),l()},S),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(r(new Oe("Request aborted",Oe.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new Oe("Network Error",Oe.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const S=t.transitional||Qk;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),r(new Oe(E,S.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,t,u)),u=null},fr.isStandardBrowserEnv){const g=(t.withCredentials||mq(c))&&t.xsrfCookieName&&dq.read(t.xsrfCookieName);g&&s.set(t.xsrfHeaderName,g)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&W.forEach(s.toJSON(),function(E,S){u.setRequestHeader(S,E)}),W.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",gT(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",gT(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=g=>{u&&(r(!g||g.type?new vc(null,t,u):g),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const h=yq(c);if(h&&fr.protocols.indexOf(h)===-1){r(new Oe("Unsupported protocol "+h+":",Oe.ERR_BAD_REQUEST,t));return}u.send(i||null)})},Sf={http:qH,xhr:_q};W.forEach(Sf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Jk={getAdapter:t=>{t=W.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=W.isString(n)?Sf[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Oe(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(W.hasOwnProp(Sf,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!W.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Sf};function Cm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vc(null,t)}function vT(t){return Cm(t),t.headers=ni.from(t.headers),t.data=Am.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Jk.getAdapter(t.adapter||q_.adapter)(t).then(function(r){return Cm(t),r.data=Am.call(t,t.transformResponse,r),r.headers=ni.from(r.headers),r},function(r){return Yk(r)||(Cm(t),r&&r.response&&(r.response.data=Am.call(t,t.transformResponse,r.response),r.response.headers=ni.from(r.response.headers))),Promise.reject(r)})}const _T=t=>t instanceof ni?t.toJSON():t;function Ia(t,e){e=e||{};const n={};function r(u,c,f){return W.isPlainObject(u)&&W.isPlainObject(c)?W.merge.call({caseless:f},u,c):W.isPlainObject(c)?W.merge({},c):W.isArray(c)?c.slice():c}function i(u,c,f){if(W.isUndefined(c)){if(!W.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function s(u,c){if(!W.isUndefined(c))return r(void 0,c)}function o(u,c){if(W.isUndefined(c)){if(!W.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(_T(u),_T(c),!0)};return W.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||i,h=f(t[c],e[c],c);W.isUndefined(h)&&f!==a||(n[c]=h)}),n}const Zk="1.5.0",W_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{W_[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const wT={};W_.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Zk+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Oe(i(o," has been removed"+(n?" in "+n:"")),Oe.ERR_DEPRECATED);return n&&!wT[o]&&(wT[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function wq(t,e,n){if(typeof t!="object")throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Oe("option "+s+" must be "+l,Oe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Oe("Unknown option "+s,Oe.ERR_BAD_OPTION)}}const Yg={assertOptions:wq,validators:W_},Pi=Yg.validators;class jd{constructor(e){this.defaults=e,this.interceptors={request:new mT,response:new mT}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ia(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Yg.assertOptions(r,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),i!=null&&(W.isFunction(i)?n.paramsSerializer={serialize:i}:Yg.assertOptions(i,{encode:Pi.function,serialize:Pi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&W.merge(s.common,s[n.method]);s&&W.forEach(["delete","get","head","post","put","patch","common"],E=>{delete s[E]}),n.headers=ni.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(l=l&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});const u=[];this.interceptors.response.forEach(function(S){u.push(S.fulfilled,S.rejected)});let c,f=0,h;if(!l){const E=[vT.bind(this),void 0];for(E.unshift.apply(E,a),E.push.apply(E,u),h=E.length,c=Promise.resolve(n);f<h;)c=c.then(E[f++],E[f++]);return c}h=a.length;let g=n;for(f=0;f<h;){const E=a[f++],S=a[f++];try{g=E(g)}catch(R){S.call(this,R);break}}try{c=vT.call(this,g)}catch(E){return Promise.reject(E)}for(f=0,h=u.length;f<h;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=Ia(this.defaults,e);const n=Xk(e.baseURL,e.url);return Kk(n,e.params,e.paramsSerializer)}}W.forEach(["delete","get","head","options"],function(e){jd.prototype[e]=function(n,r){return this.request(Ia(r||{},{method:e,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Ia(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}jd.prototype[e]=n(),jd.prototype[e+"Form"]=n(!0)});const bf=jd;class K_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new vc(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new K_(function(i){e=i}),cancel:e}}}const Eq=K_;function Pq(t){return function(n){return t.apply(null,n)}}function xq(t){return W.isObject(t)&&t.isAxiosError===!0}const Xg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xg).forEach(([t,e])=>{Xg[e]=t});const Tq=Xg;function eO(t){const e=new bf(t),n=Lk(bf.prototype.request,e);return W.extend(n,bf.prototype,e,{allOwnKeys:!0}),W.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return eO(Ia(t,i))},n}const wt=eO(q_);wt.Axios=bf;wt.CanceledError=vc;wt.CancelToken=Eq;wt.isCancel=Yk;wt.VERSION=Zk;wt.toFormData=tp;wt.AxiosError=Oe;wt.Cancel=wt.CanceledError;wt.all=function(e){return Promise.all(e)};wt.spread=Pq;wt.isAxiosError=xq;wt.mergeConfig=Ia;wt.AxiosHeaders=ni;wt.formToJSON=t=>Gk(W.isHTMLForm(t)?new FormData(t):t);wt.getAdapter=Jk.getAdapter;wt.HttpStatusCode=Tq;wt.default=wt;const An=wt,ds=()=>{const{userData:t}=cn();return{copyHandler:o=>{if(o){const a=`${window.location.hostname}/videos/${o}`;navigator.clipboard.writeText(a)}else{const a=window.location.href;navigator.clipboard.writeText(a)}},subscriptionHandler:async(o,a,l)=>{let u;try{const c={method:"GET",url:"https://youtube-v31.p.rapidapi.com/channels",params:{part:"snippet,statistics",id:a},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};(await An.request(c)).data.items.forEach(g=>{u={id:g.id,url:g.snippet.thumbnails.high.url,title:g.snippet.title,description:g.snippet.description,subscriberCount:+g.statistics.subscriberCount,videoCount:+g.statistics.videoCount}})}catch{return null}o&&t.uid?await As(rt(it,"subscriptions",t.uid),{items:qx(u)}):await As(rt(it,"subscriptions",t.uid),{items:Wx(u)}),l==null||l.invalidateQueries(["subscriptions",t.uid])},addTo:async(o,a,l)=>{await As(rt(it,o,t.uid),{items:qx(a)}),o==="playlists"&&(l==null||l.invalidateQueries(["user","playlists",t.uid]))},removeFrom:async(o,a,l)=>{await As(rt(it,o,t.uid),{items:Wx(a)}),o==="playlists"&&(l==null||l.invalidateQueries(["user","playlists",t.uid]))},getDataExist:(o,a)=>{a(o)}}},_c=({data:t,homeVideos:e,pathname:n,remove:r,linkName:i})=>{const{addTo:s,removeFrom:o,copyHandler:a}=ds(),{userData:l}=cn(),[u,c]=N.useState(!1),f=yc(),h={hide:{opacity:0},show:{opacity:100}},g=()=>{c(!u)},E=N.useRef(null);return N.useEffect(()=>{const S=R=>{E.current&&!E.current.contains(R.target)&&c(!1)};return document.addEventListener("click",S),()=>{document.removeEventListener("click",S)}},[E]),m.jsxs("div",{ref:E,className:`absolute  z-20 ${e?"right-2 bottom-2":"-translate-y-1/2 top-1/2 right-4 bottom-4"}`,children:[m.jsx(Jz,{extra:` ${!e&&"opacity-0 group-hover:opacity-100"} `,clickHandler:g}),m.jsx(qu,{mode:"popLayout",children:u&&m.jsx(mi.div,{variants:h,initial:"hide",animate:"show",exit:"hide",transition:{duration:.15},className:"relative",children:m.jsxs("ul",{className:`flex flex-col rounded-xl p-2 divide-y-2 divide-slate-200 dark:divide-indigo-50/20 bg-slate-900/60 dark:bg-indigo-500/60 text-white text-sm font-medium capitalize absolute ${l.auth?"-bottom-[70px]":"-bottom-[20px]"}  translate-y-1/2 -left-10 -translate-x-1/2 whitespace-nowrap z-30`,children:[l.auth&&m.jsx("li",{onClick:()=>{r?(o(n,t,f),f.invalidateQueries([n,l.uid])):(s(n,t,f),f.invalidateQueries([n,l.uid])),c(!1)},className:"p-2 rounded-lg rounded-t-none hover:bg-indigo-700/60",children:i}),m.jsx("li",{onClick:()=>a(t.id),className:"p-2 rounded-lg rounded-t-none hover:bg-indigo-700/60",children:"copy link"})]})})})]})},po=()=>({convertDuration:n=>{const r=n.match(/PT(\d+M)?(\d+S)?/),i=parseInt(r==null?void 0:r[1])||0,s=parseInt(r==null?void 0:r[2])||0,o=new Date;return o.setMinutes(i),o.setSeconds(s),o.toISOString().substring(11,11+5)},convertDate:n=>{const r=new Date(n).getTime(),s=new Date().getTime()-r;return s<6e4?`${Math.floor(s/1e3)} seconds ago`:s<36e5?`${Math.floor(s/6e4)} minutes ago`:s<864e5?`${Math.floor(s/36e5)} hours ago`:s<2592e6?`${Math.floor(s/864e5)} days ago`:s<31536e6?`${Math.floor(s/2592e6)} months ago`:`${Math.floor(s/31536e6)} years ago`}}),Q_=({extraStyles:t,videoData:e,linkName:n,pathname:r})=>{const{convertDate:i}=po();return m.jsxs("div",{className:`flex flex-col rounded-2xl justify-between items-center gap-1 w-full relative ${t}`,children:[m.jsx(Mt,{to:`/videos/${e.id}`,className:"w-full",children:m.jsx("img",{src:e.url,alt:e.title,className:"object-cover object-center w-full h-60 md:h-48 bg-slate-50 dark:bg-slate-200 rounded-xl"})}),m.jsx("div",{className:"flex flex-row w-full gap-3 py-2 text-start h-full",children:m.jsxs("div",{className:"flex flex-col gap-3 text-sm whitespace-pre-wrap justify-between",children:[m.jsx("p",{className:"line-clamp-2",children:e.title}),m.jsxs("div",{className:"flex flex-col gap-1 text-xs dark:text-slate-400 text-slate-600",children:[m.jsx(Mt,{to:`channels/${e.channelId}/videos`,children:e.channelTitle}),e.publishTime&&m.jsx("p",{children:i(e.publishTime)})]})]})}),m.jsx(_c,{data:e,homeVideos:!0,pathname:r||"watchLater",linkName:n||"Add to watch later",remove:!0})]},e.id)},Sq=({selectedLink:t,getSelectedLink:e})=>{var f,h;const[n,r]=N.useState(0),[i,s]=N.useState(!1),o=N.useRef(null),a=N.useRef(null),l=((f=a.current)==null?void 0:f.scrollWidth)-((h=a.current)==null?void 0:h.clientWidth)||2,u=g=>{var E,S;if(i)a.current&&(a.current.scrollLeft=((E=a.current)==null?void 0:E.scrollLeft)-g.movementX,r(((S=a.current)==null?void 0:S.scrollLeft)-g.movementX));else return},c=g=>{a.current&&(a.current.scrollLeft+=g.currentTarget.id==="left"?-350:350,r(g.currentTarget.id==="left"?a.current.scrollLeft-350:a.current.scrollLeft+350))};return m.jsxs("div",{ref:o,className:"flex flex-row mt-7 w-full overflow-x-hidden relative",children:[m.jsx("div",{className:`${n>0?"flex flex-row items-center justify-start":"hidden"} w-16 h-full rounded-lg rounded-l-none font-semibold absolute bg-gradient-to-r dark:from-slate-800 dark:to-transparent from-slate-50 to-transparent to-100% from-50% pr-4 left-0`,children:m.jsx("button",{className:"h-6 w-6 m-3 text-center focus:outline-none rounded-full ring-1 dark:ring-indigo-400 ring-slate-400 dark:bg-slate-800 dark:active:bg-indigo-600 dark:hover:bg-indigo-50/20 bg-slate-900/20 hover:bg-slate-900/40 active:bg-slate-900",onClick:c,id:"left",children:"<"})}),m.jsxs(mi.ul,{className:"flex flex-row overflow-x-hidden gap-2 list-none scroll-smooth",onMouseMove:u,onMouseDown:()=>{s(!0),a.current&&a.current.classList.add("dragging")},onMouseUp:()=>{s(!1),a.current&&a.current.classList.remove("dragging")},ref:a,children:[m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"gaming"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"musics"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"anime"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"coding"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"fifa"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"lol"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"cats"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"funny"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"horror"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"cars"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"cute"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"aesthetic"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"football"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"travelling"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"food"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"chief"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"gym"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"character development"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"hair style"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"exploring"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"education"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"immigration"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"tech"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"lifestyle"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"fashion"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"fitness"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"kids"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"military"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"money"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"classic"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"asmr"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"eco-friendly"})}),m.jsx("li",{children:m.jsx(ke,{textSize:"text-sm",flexType:"px-3 py-2",selectedLink:t,getSelectedLink:e,children:"investing"})})]}),m.jsx("div",{className:`${l>n?" flex flex-row items-center":"hidden"} w-16 h-full rounded-lg rounded-l-none font-semibold absolute bg-gradient-to-l dark:from-slate-800 dark:to-transparent from-slate-50 to-transparent to-100% from-50% pl-4 right-0 justify-end rounded-r-none`,children:m.jsx("button",{className:"h-6 w-6 m-3 text-center focus:outline-none rounded-full ring-1 dark:ring-indigo-400 ring-slate-400 dark:bg-slate-800 dark:active:bg-indigo-600 dark:hover:bg-indigo-50/20 bg-slate-900/20 hover:bg-slate-900/40 active:bg-slate-900",onClick:c,id:"right",children:">"})})]})},bq=()=>{const t=N.useRef(null),e=gh(t),{selectedLink:n,getSelectedLink:r}=cn(),i=async f=>{const h={method:"GET",url:"https://youtube-v31.p.rapidapi.com/search",params:{q:n||Intl.DateTimeFormat().resolvedOptions().timeZone,part:"snippet,id",regionCode:"US",maxResults:"20",order:"date",pageToken:f},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(h)).data}catch{throw new Error("Something went wrong")}},{data:s,error:o,isFetching:a,fetchNextPage:l,hasNextPage:u,isFetchingNextPage:c}=F_({queryKey:["homeVideos",n],queryFn:({pageParam:f})=>i(f),keepPreviousData:!0,refetchOnWindowFocus:!1,getNextPageParam:(f,h)=>{const g=+f.pageInfo.totalResults/+f.pageInfo.resultsPerPage;if(h.length<Math.ceil(g))return f.nextPageToken}});return N.useEffect(()=>{e&&u&&!c&&l()},[e]),m.jsx("section",{className:"col-span-6 col-start-2 md:col-span-7 md:col-start-2 md:pl-10 sm:pl-0 lg:pl-0 pb-28 md:pb-0",children:m.jsxs("div",{className:"flex flex-col gap-4 w-[96%] m-auto",children:[m.jsx(Sq,{selectedLink:n,getSelectedLink:r}),m.jsxs(m.Fragment,{children:[a&&!c&&m.jsx("p",{children:"Loading..."}),s==null?void 0:s.pages.map((f,h)=>m.jsx("div",{className:"grid w-full grid-cols-1 justify-center gap-5 mt-3 md:grid-cols-2 md:justify-start md:gap-4 lg:grid-cols-3 lg:gap-4",children:f.items.map(g=>{const E={channelId:g.snippet.channelId,channelTitle:g.snippet.channelTitle,description:g.snippet.description,publishTime:g.snippet.publishTime,title:g.snippet.title,id:g.id.videoId,url:g.snippet.thumbnails.high.url};return m.jsx(Q_,{videoData:E})})},h)),o&&m.jsx("p",{children:o.message})]}),m.jsx("button",{ref:t,onClick:()=>l(),disabled:!u||c,className:"opacity-0"})]})})},tO=({channelId:t,channelExist:e,setChannelExist:n})=>{const{subscriptionHandler:r,getDataExist:i}=ds(),s=()=>{e?(r(!1,t),i(!1,n)):e||(r(!0,t),i(!0,n))};return m.jsx("button",{onClick:s,className:`px-4 py-2 font-semibold transition-all duration-150 ${e?"text-black bg-white ring-1 ring-black rounded-full":"text-white capitalize bg-black rounded-full ring-1 ring-slate-50/20 hover:bg-slate-800 active:bg-slate-700 dark:bg-indigo-500/30 dark:hover:bg-indigo-500/40 dark:active:bg-indigo-500/50"}  outline-none w-fit `,children:e?"Subscribed":"Subscribe"})};function Aa(t){return t>=1e6?(t/1e6).toFixed(2)+"M":t>=1e3?(t/1e3).toFixed(0)+"K":t}const Rq=({channelDetails:t})=>{const[e,n]=N.useState(!1),{channelId:r}=rr(),{userData:i}=cn();return N.useEffect(()=>{(async()=>{try{return(await yr(rt(it,`subscriptions/${i.uid}`))).data()}catch{throw new Error("Something went wrong")}})().then(a=>{a.items.forEach(l=>{if(l.id===r)return n(!0),!0})})},[]),m.jsx(N.Fragment,{children:t.items.map(s=>m.jsxs("div",{className:`flex flex-col items-center justify-center gap-4 ${!s.brandingSettings.image&&"mt-5"}`,children:[s.brandingSettings.image&&m.jsx("img",{src:s.brandingSettings.image.bannerExternalUrl,alt:`${s.snippet.title} Cover`,className:"object-cover object-center w-full h-40 rounded-t-none bg-slate-50 rounded-xl"}),m.jsxs("div",{className:"flex flex-row justify-start w-full gap-4 text-black dark:text-white",children:[m.jsx("img",{src:s.snippet.thumbnails.high.url,alt:s.snippet.title,className:"w-20 h-20 rounded-full"}),m.jsxs("div",{className:"flex flex-col justify-start w-full gap-2 text-start text-slate-600 dark:text-slate-400",children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:s.snippet.title}),m.jsxs("div",{className:"flex flex-row justify-start gap-1",children:[m.jsx("p",{className:"text-sm text-indigo-600 underline dark:text-indigo-400 underline-offset-1",children:s.snippet.customUrl})," ","/",m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:`${Aa(+s.statistics.subscriberCount)} Subscribers`})," ","/",m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:`${s.statistics.videoCount} Videos`})]}),m.jsx(Mt,{to:"about",className:"text-sm text-slate-600 dark:text-slate-400",children:s.snippet.description}),i.auth&&m.jsx(tO,{channelExist:e,setChannelExist:n,channelId:s.id})]})]})]},s.id))})},Ds=({children:t})=>m.jsx(Mt,{to:`${t}`,className:({isActive:e})=>`${e?"dark:text-indigo-500 dark:border-b-indigo-500 text-black border-b-2 border-b-black dark:hover:border-b-indigo-500":"dark:text-gray-400 text-black/40 dark:hover:border-b-gray-400 hover:border-b-black/40 border-b-transparent"} text-base border-b-2 py-4 px-6  cursor-pointer capitalize font-semibold`,preventScrollReset:!0,children:t}),Iq=()=>{const{channelId:t}=rr(),e=oh(),n=async()=>{const i={method:"GET",url:"https://youtube-v31.p.rapidapi.com/channels",params:{part:"snippet,statistics",id:t},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(i)).data}catch{throw new Error("Something went wrong")}},{data:r}=$n({queryKey:["channels",t],queryFn:n,initialData:e,refetchOnWindowFocus:!1});return m.jsx(m.Fragment,{children:m.jsxs("section",{className:"col-span-7 mx-auto col-start-2 w-[95%] mb-28 md:mb-0 mt-4 md:ml-8 relative flex flex-col gap-4",children:[m.jsx(Rq,{channelDetails:r&&r}),m.jsxs("div",{className:"sticky top-16 flex flex-row gap-3  border-b-[1px] border-b-slate-50/20  h-fit justify-around md:justify-start z-10",children:[m.jsx(Ds,{children:"videos"}),m.jsx(Ds,{children:"playlists"}),m.jsx(Ds,{children:"about"})]}),m.jsx(n0,{context:r&&r})]})})},Aq=t=>async({params:e})=>{const n=async()=>{const s={method:"GET",url:"https://youtube-v31.p.rapidapi.com/channels",params:{part:"snippet,statistics",id:e.channelId},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(s)).data}catch{throw new Error("Something went wrong")}};return await t.ensureQueryData(["subscribers"],{queryFn:n})},Cq=()=>{const{channelId:t}=rr(),e=N.useRef(null),n=gh(e),r=async c=>{const f={method:"GET",url:"https://youtube-v31.p.rapidapi.com/search",params:{channelId:t,part:"snippet,id",order:"date",maxResults:"10",pageToken:c},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(f)).data}catch{throw new Error("Something went wrong")}},{data:i,fetchNextPage:s,error:o,isFetching:a,isFetchingNextPage:l,hasNextPage:u}=F_({queryKey:["channel",t,"videos"],queryFn:({pageParam:c})=>r(c),keepPreviousData:!0,refetchOnWindowFocus:!1,staleTime:1e3*60*3,getNextPageParam:(c,f)=>{const h=+c.pageInfo.totalResults/+c.pageInfo.resultsPerPage;if(f.length<Math.ceil(h))return c.nextPageToken}});return N.useEffect(()=>{u&&!l&&n&&s()},[n]),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 md:gap-4 lg:gap-3 md:mt-4",children:[a&&!l&&m.jsx("p",{children:"Loading..."}),o&&m.jsx("p",{children:o.message}),i==null?void 0:i.pages.map(c=>m.jsx(N.Fragment,{children:c.items.map(f=>m.jsx(Q_,{videoData:{channelId:f.snippet.channelId,channelTitle:f.snippet.title,description:f.snippet.description,id:f.id.videoId,publishTime:f.snippet.publishTime,title:f.snippet.title,url:f.snippet.thumbnails.high.url}}))},c.nextPageToken)),m.jsx("button",{ref:e,disabled:l||!u,className:"opacity-0"})]})},nO=({remove:t,linkName:e,userPlaylist:n})=>m.jsxs("div",{className:"relative w-full first:mt-3",children:[m.jsxs(Mt,{to:`/playlists/${n.id}`,className:"flex flex-col items-start justify-center w-full gap-2 pb-1 mt-4 overflow-hidden rounded-2xl",children:[m.jsxs("div",{className:"relative w-full",children:[m.jsxs("p",{className:"font-semibold p-2 bg-indigo-800/40 flex flex-row gap-2 items-center text-sm absolute bottom-2 w-[95%] right-1/2 translate-x-1/2 md:right-0  md:-translate-x-2  md:w-fit rounded-lg justify-center md:justify-start whitespace-nowrap",children:[m.jsx(Gz,{})," ",`- ${n.vidsNum} Videos`]}),m.jsx("img",{src:n.url,alt:n.title,className:"object-cover object-center w-full h-60 md:h-48 lg:h-40 bg-slate-50 dark:bg-slate-200 rounded-xl"})]}),m.jsx("p",{className:"text-base font-semibold capitalize text-slate-900 dark:text-slate-50",children:n.title}),m.jsx("p",{className:"text-sm text-gray-400 capitalize cursor-pointer hover:bg-indigo-500/20",children:"view full playlist"})]}),m.jsx(_c,{data:{description:n.description,id:n.id,title:n.title,url:n.url,vidsNum:n.vidsNum},pathname:"playlists",remove:t,homeVideos:!0,linkName:e})]},n.id),kq=()=>{const{channelId:t}=rr(),e=vb(),n=async()=>{var s;const i={method:"GET",url:"https://youtube-v31.p.rapidapi.com/playlists",params:{id:(s=e.items[0])==null?void 0:s.contentDetails.relatedPlaylists.uploads,part:"snippet"},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(i)).data}catch{throw new Error("Something went wrong")}},{data:r}=$n({queryKey:["channels",t,"playlist"],queryFn:n,staleTime:1e3*60*3});return m.jsx("div",{className:"md:grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 space-y-4 md:gap-3 lg:gap-3 m-auto w-[95%] ",children:r&&r.items.map(i=>{const s={description:i.snippet.description,id:i.id,title:i.snippet.title,url:i.snippet.thumbnails.high.url,vidsNum:"-"};return m.jsx(nO,{userPlaylist:s,linkName:"Add to playlist",remove:!1})})})},Oq=()=>{const{copyHandler:t}=ds(),e=vb();return m.jsx(m.Fragment,{children:e.items.map(n=>m.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:justify-between divide-y-2 md:divide-y-0 md:divide-x-2 divide-indigo-600/40 text-slate-900 dark:text-slate-50",children:[m.jsxs("div",{className:"pb-4 md:w-3/5 space-y-2",children:[m.jsx("p",{className:"capitalize text-2xl font-bold",children:"description"}),m.jsx("p",{className:"text-base",children:n.snippet.description})]}),m.jsxs("div",{className:"flex flex-col items-start md:w-2/5 pt-4 md:pt-0 md:pl-10 gap-2",children:[m.jsx("p",{className:"capitalize text-2xl font-bold",children:"stats"}),m.jsxs("p",{className:"text-base",children:["joind since ",n.snippet.publishedAt]}),m.jsxs("p",{className:"text-base",children:["views count ",Aa(+n.statistics.viewCount)]}),m.jsxs("p",{className:"text-base",children:["subscribers count"," ",Aa(+n.statistics.subscriberCount)]}),m.jsxs("button",{className:"bg-indigo-500 hover:bg-indigo-600 active:bg-indigo-700 text-white text-sm font-semibold py-2 px-4 rounded-lg capitalize flex flex-row items-center gap-2 mt-2",onClick:()=>t(),children:[m.jsx($_,{})," ",m.jsx("span",{children:"copy link"})]})]})]},n.id))})},Dq=({title:t,children:e,functionality:n})=>m.jsxs("button",{onClick:n,className:"group relative outline-none focus:ring-1 p-2 rounded-full dark:ring-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:active:ring-indigo-100 dark:active:bg-indigo-700 text-indigo-50 bg-slate-900 hover:bg-slate-800 active:bg-slate-700 ",children:[e,m.jsx("p",{className:"hidden group-hover:block p-2 absolute -bottom-12 bg-slate-900/60 text-white font-semibold capitalize text-sm rounded-lg whitespace-nowrap",children:t})]}),Nq=({data:t,playlistExist:e,setPlaylistExist:n})=>{const{addTo:r,removeFrom:i,getDataExist:s}=ds(),o=async()=>{e?(i("playlists",t),s(!1,n)):e||(r("playlists",t),s(!0,n))};return m.jsx("button",{onClick:o,className:`px-4 py-2 font-semibold transition-all duration-150 ${e?"text-black bg-white ring-1 ring-black rounded-full":"text-white capitalize bg-black rounded-full ring-1 ring-slate-50/20 hover:bg-slate-800 active:bg-slate-700 dark:bg-indigo-500/30 dark:hover:bg-indigo-500/40 dark:active:bg-indigo-500/50"}  outline-none w-fit `,children:m.jsx(Xz,{})})},Lq=({data:t,playlistVideos:e})=>{const[n,r]=N.useState(!1),{userData:i}=cn(),{playlistId:s}=rr(),{copyHandler:o}=ds(),{convertDate:a}=po();return N.useEffect(()=>{(async()=>(await yr(rt(it,"playlists",i.uid))).data())().then(c=>{c.items.forEach(f=>{if(f.id===s)return r(!0),!0})})},[]),m.jsx("div",{className:"flex flex-col w-full col-span-2 gap-3 p-4 capitalize md:flex-row lg:flex-col rounded-xl bg-gradient-to-b from-indigo-500/60 to-transparent lg:mt-2 h-fit",children:t.items.map(l=>{var u,c;return m.jsxs("div",{className:"w-full",children:[m.jsx("img",{src:l.snippet.thumbnails.high.url,alt:l.snippet.title,className:"w-full md:max-w-sm h-[200px] rounded-lg bg-slate-50 object-cover object-center"}),m.jsxs("div",{className:"flex flex-col w-full gap-3 text-sm",children:[m.jsx("p",{className:"text-xl font-semibold text-white",children:l.snippet.title}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(Mt,{to:`/channels/${l.snippet.channelId}`,className:"font-medium text-white capitalize",children:l.snippet.channelTitle}),m.jsxs("div",{className:"flex flex-row gap-3",children:[m.jsx("p",{className:"text-slate-50/40",children:a(l.snippet.publishedAt)}),m.jsx("p",{className:"text-slate-50/40",children:`- ${(u=e[0])==null?void 0:u.pageInfo.totalResults} Videos`}),m.jsx("p",{className:"text-slate-50/40",children:l.snippet.description})]})]}),m.jsxs("div",{className:"flex flex-row gap-2",children:[i.auth&&m.jsx(Nq,{setPlaylistExist:r,playlistExist:n,data:{description:l.snippet.description,id:l.id,title:l.snippet.title,url:l.snippet.thumbnails.high.url,vidsNum:(c=e[0])==null?void 0:c.pageInfo.totalResults}}),m.jsx(Dq,{functionality:o,title:"copy link",children:m.jsx($_,{})})]})]})]},l.id)})})},rO=({number:t,channelName:e,date:n,title:r,pictureURL:i,views:s,id:o,extra:a,playlistId:l,channelId:u,playlistVideos:c})=>{const{videoId:f}=rr(),{convertDate:h}=po();return m.jsxs("div",{className:"relative w-full group h-fit",children:[m.jsxs(Mt,{to:{pathname:`/videos/${o}`},state:{videoId:o,playlistId:l,playlistVideos:c},className:`flex flex-row items-center justify-start w-full ${a?`${a}`:"h-32"} gap-3 px-3 py-2 transition-all duration-150 rounded-xl hover:bg-indigo-50/10 ${f===o&&"bg-indigo-500/20"}`,children:[m.jsx("p",{className:"text-sm dark:text-slate-400 text-slate-600",children:t}),m.jsx("div",{className:`relative h-full overflow-hidden bg-white rounded-lg ${a?"w-36":"w-48"}`,children:m.jsx("img",{src:`${i}`,alt:`${r}`,className:"object-cover object-center w-full h-full rounded-lg"})}),m.jsxs("div",{className:"flex flex-col self-start gap-2",children:[m.jsx("p",{className:`${a?"":"text-xl"} font-semibold dark:text-white text-slate-900 line-clamp-2`,children:r}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("p",{className:"text-xs font-semibold dark:text-slate-400 text-slate-600",children:e}),s&&m.jsx("p",{className:"text-xs font-semibold dark:text-slate-400 text-slate-600",children:s}),n&&m.jsx("p",{className:"text-xs font-semibold dark:text-slate-400 text-slate-600",children:h(n)})]})]})]}),m.jsx(_c,{data:{title:r,channelTitle:e,url:i,description:"",id:o,channelId:u,publishTime:n},pathname:"watchLater",linkName:"Add to watch later"})]},o)},Mq=({playlistVideos:t,fetchNextPage:e,hasNextPage:n,isFetchingNextPage:r})=>{const i=N.useRef(null),s=gh(i);return N.useEffect(()=>{s&&n&&!r&&e()},[s]),m.jsxs(m.Fragment,{children:[t.map((o,a)=>m.jsx("div",{className:"col-span-3 h-fit p-2 flex flex-col gap-3 ",children:o.items.map((l,u)=>m.jsx(rO,{id:l.snippet.resourceId.videoId,channelName:l.snippet.videoOwnerChannelTitle,date:l.snippet.publishedAt,number:u,pictureURL:l.snippet.thumbnails.high.url,title:l.snippet.title,playlistId:l.snippet.playlistId,channelId:l.snippet.channelId,playlistVideos:o}))},a)),m.jsx("button",{ref:i,disabled:r||!n,className:"opacity-0"})]})},Vq=()=>{const{playlistId:t}=rr(),e=async()=>{const f={method:"GET",url:"https://youtube-v31.p.rapidapi.com/playlists",params:{id:t,part:"snippet"},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(f)).data}catch{throw new Error("Something went wrong")}},n=oh(),{data:r}=$n({initialData:n,queryKey:["playlists",t],queryFn:e,refetchOnWindowFocus:!1}),i=async f=>{const h={method:"GET",url:"https://youtube-v31.p.rapidapi.com/playlistItems",params:{playlistId:t,part:"snippet",maxResults:"20",pageToken:f},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(h)).data}catch{throw new Error("Something went wrong")}},{data:s,error:o,fetchNextPage:a,isFetching:l,hasNextPage:u,isFetchingNextPage:c}=F_({queryKey:["playlists","playlistVideos",t],queryFn:({pageParam:f})=>i(f),keepPreviousData:!0,refetchOnWindowFocus:!1,staleTime:1e3*60*3,getNextPageParam:(f,h)=>{const g=+f.pageInfo.totalResults/+f.pageInfo.resultsPerPage;if(h.length<Math.ceil(g))return f.nextPageToken}});return m.jsx("section",{className:"w-full col-span-6 col-start-2 px-2 mx-auto md:col-span-7 md:col-start-2 mt-7 mb-28",children:m.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-5 gap-4 w-[95%] md:pl-2 lg:pl-0 mx-auto",children:[l&&m.jsx("p",{children:"Loading..."}),o&&m.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Somthing went wrong"}),r&&s&&m.jsx(Lq,{data:r,playlistVideos:s==null?void 0:s.pages}),s&&m.jsx(Mq,{playlistVideos:s==null?void 0:s.pages,fetchNextPage:a,hasNextPage:u,isFetchingNextPage:c})]})})},jq=t=>async({params:e})=>{const n=e.playlistId,r=async()=>{const s={method:"GET",url:"https://youtube-v31.p.rapidapi.com/playlists",params:{id:n,part:"snippet"},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(s)).data}catch{throw new Error("Something went wrong")}};return await t.ensureQueryData({queryKey:["playlists",n],queryFn:r,staleTime:1e3*60*5})},Fq=({comment:t,date:e,imgUrl:n,username:r,userId:i,replies:s,likes:o})=>{const{convertDate:a}=po(),l=Vr();return m.jsxs("div",{className:"flex flex-row gap-3 items-start justify-start",children:[m.jsx("img",{onClick:()=>l(`/channels/${i}`),src:n,alt:r,className:"w-11 h-11 rounded-full"}),m.jsxs("div",{className:"flex flex-col gap-1 text-sm items-start text-slate-900 dark:text-slate-50",children:[m.jsxs("div",{className:"flex flex-row gap-1",children:[m.jsxs("p",{onClick:()=>l(`/channels/${i}`),className:" font-semibold",children:["@",r]}),m.jsx("p",{className:" text-slate-900/60 dark:text-slate-50/60",children:a(e)})]}),m.jsx("p",{className:"",children:t}),m.jsx("div",{className:"flex flex-row gap-2"}),s&&m.jsxs("p",{className:"text-sm dark:text-slate-400 text-slate-600",children:[s," ",s!==0&&"replies"]}),m.jsxs("p",{className:"text-sm dark:text-slate-400 text-slate-600",children:[o," likes"]})]})]},i)},Uq=({data:t})=>m.jsx("div",{className:"flex flex-col gap-4",children:t&&!t.error?t.items.map(e=>{var n;return m.jsx(Fq,{comment:e.snippet.topLevelComment.snippet.textDisplay,date:e.snippet.topLevelComment.snippet.publishedAt,imgUrl:e.snippet.topLevelComment.snippet.authorProfileImageUrl,username:e.snippet.topLevelComment.snippet.authorDisplayName,userId:(n=e.snippet.topLevelComment.snippet.authorChannelId)==null?void 0:n.value,replies:e.snippet.topLevelComment.totalReplyCount,likes:e.snippet.topLevelComment.snippet.likeCount})}):t.error.code===403&&m.jsx("p",{className:"text-2xl text-center text-slate-900 dark:text-slate-50 ",children:"Comments have been disabled"})}),$q=({commentsNum:t})=>{const{videoId:e}=rr(),[n,r]=N.useState(!0),i=N.useRef(null),s=gh(i),o=async()=>{const u={method:"GET",url:"https://youtube-v31.p.rapidapi.com/commentThreads",params:{part:"snippet",videoId:e,maxResults:"50"},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(u)).data}catch{throw new Error("Something went wrong")}},{data:a,isFetching:l}=$n({queryKey:["comments",e],queryFn:o,enabled:s,refetchOnWindowFocus:!1,staleTime:5*60*1e3});return m.jsx(m.Fragment,{children:m.jsxs("section",{ref:i,className:`${s?"visible":"invisible"} md:flex flex-col gap-5 w-full hidden`,children:[l&&m.jsx("p",{children:"Loading comments..."}),a&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"w-full flex flex-row gap-4 justify-end",children:[m.jsx("p",{onClick:()=>r(!n),className:"text-xl font-semibold text-end underline capitalize text-indigo-600 dark:text-indigo-400 cursor-pointer",children:n?"hide comments":"show comments"}),m.jsxs("p",{className:"text-xl font-semibold text-end",children:[t," Comments"]})]}),n&&m.jsx("div",{className:"flex flex-col gap-4 w-full",children:m.jsx(Uq,{data:a})})]})]})})},Bq=({videoDetails:t})=>{const[e,n]=N.useState(!1),{convertDate:r}=po(),i=()=>{n(!e)},{videoId:s}=rr(),o=async()=>{var u;const l={method:"GET",url:"https://youtube-v31.p.rapidapi.com/channels",params:{part:"snippet,statistics",id:(u=t.items[0])==null?void 0:u.snippet.channelId},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(l)).data}catch{throw new Error("Something went wrong")}},{data:a}=$n({queryKey:["channels",s],queryFn:o,refetchOnWindowFocus:!1,staleTime:1e3*60*3});return m.jsx("div",{className:"flex flex-col gap-2 w-full p-2 dark:bg-indigo-500/30 bg-slate-300 rounded-lg",children:t.items.map(l=>m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"text-slate-900 gap-2 dark:text-slate-50 before:hidden focus:outline-none list-none text-base flex flex-col w-full",children:[m.jsxs("p",{className:"font-medium",children:[l.statistics.viewCount," Views /"," ",r(l.snippet.publishedAt)]}),m.jsxs("div",{className:"flex flex-row items-end",children:[m.jsxs("p",{className:`${!e&&"line-clamp-2"}`,children:[l.snippet.description," "]}),!e&&m.jsx("button",{onClick:i,className:"focus:outline-none underline whitespace-nowrap capitalize",children:"show more"})]})]},l.id),e&&(a==null?void 0:a.items.map(u=>m.jsxs("section",{children:[m.jsxs("div",{className:"flex flex-row gap-2 my-4",children:[m.jsx("img",{src:u.snippet.thumbnails.high.url,alt:l.snippet.channelTitle,className:"w-20 h-20 object-cover object-center rounded-full"}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(Mt,{to:`/channels/${l.snippet.channelId}`,className:"text-slate-900 dark:text-slate-50 font-semibold text-xl",children:l.snippet.channelTitle}),m.jsxs("p",{className:"capitalize",children:[u.statistics.subscriberCount," subscribers"]})]})]}),m.jsxs("div",{className:"flex flex-row justify-around text-center font-medium",children:[m.jsx(Mt,{to:`/channels/${l.snippet.channelId}/videos`,className:"rounded-full px-4 py-2 text-white bg-slate-900 hover:bg-slate-800 active:bg-slate-700 dark:bg-indigo-500/30 dark:active:bg-indigo-500/50 dark:hover:bg-indigo-500/40 capitalize w-1/3",children:"videos"}),m.jsx(Mt,{to:`/channels/${l.snippet.channelId}/about`,className:"rounded-full px-4 py-2 text-white bg-slate-900 hover:bg-slate-800 active:bg-slate-700 dark:bg-indigo-500/30 dark:active:bg-indigo-500/50 dark:hover:bg-indigo-500/40 capitalize w-1/3",children:"about"})]}),m.jsx("button",{onClick:i,className:"focus:outline-none underline whitespace-nowrap capitalize self-start font-semibold",children:"show less"})]},u.id)))]}))})},zq=({data:t,videoExist:e,setvideoExist:n})=>{const{addTo:r,removeFrom:i,getDataExist:s}=ds(),o=()=>{e?(i("likedVideos",t),s(!1,n)):e||(r("likedVideos",t),s(!0,n))};return m.jsxs("button",{onClick:o,className:`p-3 font-semibold text-white capitalize flex flex-row items-center gap-2 rounded-full ${e?"text-black bg-white ring-1 ring-black ":"text-white capitalize bg-black ring-1 ring-slate-50/20 hover:bg-slate-800 active:bg-slate-700 dark:bg-indigo-500/30 dark:hover:bg-indigo-500/40 dark:active:bg-indigo-500/50"}`,style:{color:e?"black":"white"},children:[m.jsx("span",{children:e?"Liked":"Like"})," ",m.jsx(kk,{})]})},Hq=({videoDetails:t,channelId:e})=>{const{videoId:n}=rr(),{userData:r}=cn(),i=Vr(),{copyHandler:s}=ds(),[o,a]=N.useState(!1),[l,u]=N.useState(!1),c=async()=>{const h={method:"GET",url:"https://youtube-v31.p.rapidapi.com/channels",params:{part:"snippet,statistics",id:e},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(h)).data}catch{throw new Error("Something went wrong")}},{data:f}=$n({queryKey:["channels",e],queryFn:c,refetchOnWindowFocus:!1,staleTime:1e3*60*3});return N.useEffect(()=>{(async()=>{try{return(await yr(rt(it,`subscriptions/${r.uid}`))).data()}catch{throw new Error("Something went wrong")}})().then(R=>{R.items.forEach(v=>{if(v.id===e)return u(!0),!0;u(!1)})}),(async()=>{try{return await yr(rt(it,`likedVideos/${r.uid}`))}catch{throw new Error("Something went wrong")}})().then(R=>{var v;(v=R.data())==null||v.items.forEach(_=>{if(_.id===n)return a(!0),!0;a(!1)})})},[]),m.jsx("div",{className:"flex flex-col items-start w-full gap-4",children:t.items.map(h=>m.jsxs("div",{className:"w-full space-y-3",children:[m.jsx("p",{className:"text-2xl font-semibold",children:h.snippet.title}),m.jsxs("div",{className:"flex flex-row items-center justify-between w-full gap-4",children:[f==null?void 0:f.items.map(g=>m.jsxs("div",{className:"flex flex-row items-center gap-3 overflow-hidden",children:[m.jsx("img",{src:g.snippet.thumbnails.high.url,alt:h.snippet.channelTitle,className:"object-cover object-center w-12 h-12 rounded-full cursor-pointer",onClick:()=>i(`/channels/${h.snippet.channelId}/videos`)}),m.jsxs("div",{className:"flex flex-col justify-start gap-1 capitalize h-full",children:[m.jsx(Mt,{to:`/channels/${h.snippet.channelId}/videos`,className:"text-lg font-medium text-slate-900 dark:text-slate-50",children:h.snippet.channelTitle}),m.jsxs("p",{className:"text-sm text-slate-900/60 dark:text-slate-50/60",children:[Aa(+g.statistics.subscriberCount)," ","Subscribers"]})]})]},g.id)),r.auth&&m.jsx(tO,{channelExist:l,channelId:e,setChannelExist:u}),m.jsxs("div",{className:"flex flex-row gap-2",children:[r.auth&&m.jsx(zq,{videoExist:o,setvideoExist:a,data:{channelId:h.snippet.channelId,channelTitle:h.snippet.channelTitle,description:h.snippet.description,id:h.id,publishTime:h.snippet.publishedAt,title:h.snippet.title,url:h.snippet.thumbnails.high.url}}),m.jsx("button",{onClick:()=>s(),className:"p-3 font-semibold text-white capitalize bg-black rounded-full outline-none hover:bg-slate-800 active:bg-slate-700 dark:bg-indigo-500/30 dark:hover:bg-indigo-500/40 dark:active:bg-indigo-500/50",children:m.jsx($_,{})})]})]}),m.jsx(Bq,{videoDetails:t}),m.jsx($q,{commentsNum:h.statistics.commentCount})]},h.id))})},qq=({channelName:t,date:e,title:n,pictureURL:r,channelId:i,videoId:s})=>{const{convertDate:o}=po();return m.jsxs("div",{className:"relative w-full group my-3",children:[m.jsxs(Mt,{to:{pathname:`/videos/${s}`},className:"flex flex-row items-center justify-start w-full h-fit gap-3 px-3 py-2 transition-all duration-150 rounded-xl hover:bg-slate-900/10 dark:hover:bg-indigo-50/10",children:[m.jsx("img",{src:`${r}`,alt:`${n}`,className:"object-cover object-center w-44 h-32 rounded-lg"}),m.jsxs("div",{className:"flex flex-col self-start gap-2",children:[m.jsx("p",{className:"text-xl font-semibold dark:text-white text-slate-900 line-clamp-2",children:n}),m.jsx("p",{className:"text-xs font-semibold dark:text-slate-400 text-slate-600",children:t}),m.jsx("div",{className:"flex flex-row gap-2",children:m.jsx("p",{className:"text-xs font-semibold dark:text-slate-400 text-slate-600",children:o(e)})})]})]}),m.jsx(_c,{data:{channelId:i,channelTitle:t,id:s,publishTime:e,title:n,url:r},linkName:"Add to watch later",pathname:"watchLater"})]},s)},Wq=()=>{const{videoId:t}=rr(),e=async()=>{const r={method:"GET",url:"https://youtube-v31.p.rapidapi.com/search",params:{relatedToVideoId:t,part:"id,snippet",type:"video",maxResults:"50"},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(r)).data}catch{throw new Error("Something went wrong")}},{data:n}=$n({queryKey:["suggestedVideos",t],queryFn:e,refetchOnWindowFocus:!1});return m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx("h3",{className:"capitalize text-xl text-slate-900 dark:text-slate-50 font-semibold",children:"suggested videos"}),n&&n.items.map(r=>m.jsx(qq,{channelName:r.snippet.channelTitle,date:r.snippet.publishTime,pictureURL:r.snippet.thumbnails.high&&r.snippet.thumbnails.high.url,title:r.snippet.title,channelId:r.snippet.channelId,videoId:r.id.videoId}))]})},Kq=({playlistVideos:t,playlistId:e})=>{const{convertDate:n}=po();return m.jsx("div",{className:"flex flex-col gap-2",children:t.items.map((r,i)=>m.jsx(rO,{number:i,channelName:r.snippet.channelTitle,pictureURL:r.snippet.thumbnails.high.url,title:r.snippet.title,channelId:r.snippet.channelId,playlistVideos:t,date:n(r.snippet.publishedAt),id:r.snippet.resourceId.videoId,playlistId:e,extra:"h-24"},r.id))})},Qq=({playlistVideos:t,playlistId:e})=>{var n;return m.jsxs("div",{className:"flex flex-col gap-3 p-4 overflow-y-scroll overflow-x-hidden text-white bg-indigo-100 rounded-lg dark:bg-indigo-500/10 ring-1 ring-offset-indigo-500/20 h-96 scroll-m-0",children:[m.jsxs("p",{className:"flex flex-row justify-between w-full text-sm font-medium capitalize",children:[m.jsx("span",{children:(n=t==null?void 0:t.items[0])==null?void 0:n.snippet.channelTitle}),m.jsx("span",{className:"text-slate-600 dark:text-indigo-500/80 ",children:`${t.items.length} Videos`})]}),t&&m.jsx(Kq,{playlistVideos:t,playlistId:e})]})};var iO={},sO={},Ue={},Gq=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=e,n.attrs&&Yq(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?ET:Xq;o(s,r),s.onload||ET(s,r),i.appendChild(s)};function Yq(t,e){for(var n in e)t.setAttribute(n,e[n])}function ET(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function Xq(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}var Jq=function(e){return Zq(e)&&!eW(e)};function Zq(t){return!!t&&typeof t=="object"}function eW(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||rW(t)}var tW=typeof Symbol=="function"&&Symbol.for,nW=tW?Symbol.for("react.element"):60103;function rW(t){return t.$$typeof===nW}function iW(t){return Array.isArray(t)?[]:{}}function Nu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ca(iW(t),t,e):t}function sW(t,e,n){return t.concat(e).map(function(r){return Nu(r,n)})}function oW(t,e){if(!e.customMerge)return Ca;var n=e.customMerge(t);return typeof n=="function"?n:Ca}function aW(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function PT(t){return Object.keys(t).concat(aW(t))}function oO(t,e){try{return e in t}catch{return!1}}function lW(t,e){return oO(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function uW(t,e,n){var r={};return n.isMergeableObject(t)&&PT(t).forEach(function(i){r[i]=Nu(t[i],n)}),PT(e).forEach(function(i){lW(t,i)||(oO(t,i)&&n.isMergeableObject(e[i])?r[i]=oW(i,n)(t[i],e[i],n):r[i]=Nu(e[i],n))}),r}function Ca(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||sW,n.isMergeableObject=n.isMergeableObject||Jq,n.cloneUnlessOtherwiseSpecified=Nu;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):uW(t,e,n):Nu(e,n)}Ca.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Ca(r,i,n)},{})};var cW=Ca,aO=cW;Object.defineProperty(Ue,"__esModule",{value:!0});Ue.parseStartTime=PW;Ue.parseEndTime=xW;Ue.randomString=TW;Ue.queryString=SW;Ue.getSDK=bW;Ue.getConfig=RW;Ue.omit=IW;Ue.callPlayer=AW;Ue.isMediaStream=CW;Ue.isBlobUrl=kW;Ue.supportsWebKitPresentationMode=OW;var fW=lO(Gq),dW=lO(aO);function lO(t){return t&&t.__esModule?t:{default:t}}function hW(t,e){return gW(t)||yW(t,e)||mW(t,e)||pW()}function pW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mW(t,e){if(t){if(typeof t=="string")return xT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xT(t,e)}}function xT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yW(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function gW(t){if(Array.isArray(t))return t}var vW=/[?&#](?:start|t)=([0-9hms]+)/,_W=/[?&#]end=([0-9hms]+)/,Jg=/(\d+)(h|m|s)/g,wW=/^\d+$/;function uO(t,e){if(!(t instanceof Array)){var n=t.match(e);if(n){var r=n[1];if(r.match(Jg))return EW(r);if(wW.test(r))return parseInt(r)}}}function EW(t){for(var e=0,n=Jg.exec(t);n!==null;){var r=n,i=hW(r,3),s=i[1],o=i[2];o==="h"&&(e+=parseInt(s,10)*60*60),o==="m"&&(e+=parseInt(s,10)*60),o==="s"&&(e+=parseInt(s,10)),n=Jg.exec(t)}return e}function PW(t){return uO(t,vW)}function xW(t){return uO(t,_W)}function TW(){return Math.random().toString(36).substr(2,5)}function SW(t){return Object.keys(t).map(function(e){return"".concat(e,"=").concat(t[e])}).join("&")}function km(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}var wo={};function bW(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:fW.default,s=km(e);return s&&r(s)?Promise.resolve(s):new Promise(function(o,a){if(wo[t]){wo[t].push({resolve:o,reject:a});return}wo[t]=[{resolve:o,reject:a}];var l=function(f){wo[t].forEach(function(h){return h.resolve(f)})};if(n){var u=window[n];window[n]=function(){u&&u(),l(km(e))}}i(t,function(c){c?(wo[t].forEach(function(f){return f.reject(c)}),wo[t]=null):n||l(km(e))})})}function RW(t,e){return(0,dW.default)(e.config,t.config)}function IW(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var s=(e=[]).concat.apply(e,r),o={},a=Object.keys(t),l=0,u=a;l<u.length;l++){var c=u[l];s.indexOf(c)===-1&&(o[c]=t[c])}return o}function AW(t){var e;if(!this.player||!this.player[t]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(t,"%c  ");return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return(e=this.player)[t].apply(e,i)}function CW(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function kW(t){return/^blob:/.test(t)}function OW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("video"),e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.canPlay=fe.FLV_EXTENSIONS=fe.DASH_EXTENSIONS=fe.HLS_EXTENSIONS=fe.VIDEO_EXTENSIONS=fe.AUDIO_EXTENSIONS=fe.MATCH_URL_KALTURA=fe.MATCH_URL_VIDYARD=fe.MATCH_URL_MIXCLOUD=fe.MATCH_URL_DAILYMOTION=fe.MATCH_URL_TWITCH_CHANNEL=fe.MATCH_URL_TWITCH_VIDEO=fe.MATCH_URL_WISTIA=fe.MATCH_URL_STREAMABLE=fe.MATCH_URL_FACEBOOK_WATCH=fe.MATCH_URL_FACEBOOK=fe.MATCH_URL_VIMEO=fe.MATCH_URL_SOUNDCLOUD=fe.MATCH_URL_YOUTUBE=void 0;var TT=Ue;function DW(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=NW(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=t[Symbol.iterator]()},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function NW(t,e){if(t){if(typeof t=="string")return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(t,e)}}function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zg=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;fe.MATCH_URL_YOUTUBE=Zg;var cO=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;fe.MATCH_URL_SOUNDCLOUD=cO;var fO=/vimeo\.com\/(?!progressive_redirect).+/;fe.MATCH_URL_VIMEO=fO;var dO=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;fe.MATCH_URL_FACEBOOK=dO;var hO=/^https?:\/\/fb\.watch\/.+$/;fe.MATCH_URL_FACEBOOK_WATCH=hO;var pO=/streamable\.com\/([a-z0-9]+)$/;fe.MATCH_URL_STREAMABLE=pO;var mO=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/;fe.MATCH_URL_WISTIA=mO;var yO=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;fe.MATCH_URL_TWITCH_VIDEO=yO;var gO=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;fe.MATCH_URL_TWITCH_CHANNEL=gO;var vO=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/;fe.MATCH_URL_DAILYMOTION=vO;var _O=/mixcloud\.com\/([^/]+\/[^/]+)/;fe.MATCH_URL_MIXCLOUD=_O;var wO=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;fe.MATCH_URL_VIDYARD=wO;var EO=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;fe.MATCH_URL_KALTURA=EO;var G_=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;fe.AUDIO_EXTENSIONS=G_;var Y_=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;fe.VIDEO_EXTENSIONS=Y_;var X_=/\.(m3u8)($|\?)/i;fe.HLS_EXTENSIONS=X_;var PO=/\.(mpd)($|\?)/i;fe.DASH_EXTENSIONS=PO;var xO=/\.(flv)($|\?)/i;fe.FLV_EXTENSIONS=xO;var LW=function t(e){if(e instanceof Array){var n=DW(e),r;try{for(n.s();!(r=n.n()).done;){var i=r.value;if(typeof i=="string"&&t(i)||t(i.src))return!0}}catch(s){n.e(s)}finally{n.f()}return!1}return(0,TT.isMediaStream)(e)||(0,TT.isBlobUrl)(e)?!0:G_.test(e)||Y_.test(e)||X_.test(e)||PO.test(e)||xO.test(e)},MW={youtube:function(e){return e instanceof Array?e.every(function(n){return Zg.test(n)}):Zg.test(e)},soundcloud:function(e){return cO.test(e)&&!G_.test(e)},vimeo:function(e){return fO.test(e)&&!Y_.test(e)&&!X_.test(e)},facebook:function(e){return dO.test(e)||hO.test(e)},streamable:function(e){return pO.test(e)},wistia:function(e){return mO.test(e)},twitch:function(e){return yO.test(e)||gO.test(e)},dailymotion:function(e){return vO.test(e)},mixcloud:function(e){return _O.test(e)},vidyard:function(e){return wO.test(e)},kaltura:function(e){return EO.test(e)},file:LW};fe.canPlay=MW;var Om={},bT;function VW(){return bT||(bT=1,function(t){function e(k){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(L){return typeof L}:e=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},e(k)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(N),r=Ue,i=fe;function s(){if(typeof WeakMap!="function")return null;var k=new WeakMap;return s=function(){return k},k}function o(k){if(k&&k.__esModule)return k;if(k===null||e(k)!=="object"&&typeof k!="function")return{default:k};var M=s();if(M&&M.has(k))return M.get(k);var L={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in k)if(Object.prototype.hasOwnProperty.call(k,U)){var te=D?Object.getOwnPropertyDescriptor(k,U):null;te&&(te.get||te.set)?Object.defineProperty(L,U,te):L[U]=k[U]}return L.default=k,M&&M.set(k,L),L}function a(k,M){var L=Object.keys(k);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(k);M&&(D=D.filter(function(U){return Object.getOwnPropertyDescriptor(k,U).enumerable})),L.push.apply(L,D)}return L}function l(k){for(var M=1;M<arguments.length;M++){var L=arguments[M]!=null?arguments[M]:{};M%2?a(Object(L),!0).forEach(function(D){y(k,D,L[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(L)):a(Object(L)).forEach(function(D){Object.defineProperty(k,D,Object.getOwnPropertyDescriptor(L,D))})}return k}function u(k,M){return E(k)||g(k,M)||f(k,M)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(k,M){if(k){if(typeof k=="string")return h(k,M);var L=Object.prototype.toString.call(k).slice(8,-1);if(L==="Object"&&k.constructor&&(L=k.constructor.name),L==="Map"||L==="Set")return Array.from(k);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return h(k,M)}}function h(k,M){(M==null||M>k.length)&&(M=k.length);for(var L=0,D=new Array(M);L<M;L++)D[L]=k[L];return D}function g(k,M){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(k)))){var L=[],D=!0,U=!1,te=void 0;try{for(var J=k[Symbol.iterator](),ue;!(D=(ue=J.next()).done)&&(L.push(ue.value),!(M&&L.length===M));D=!0);}catch(Ee){U=!0,te=Ee}finally{try{!D&&J.return!=null&&J.return()}finally{if(U)throw te}}return L}}function E(k){if(Array.isArray(k))return k}function S(k,M){if(!(k instanceof M))throw new TypeError("Cannot call a class as a function")}function R(k,M){for(var L=0;L<M.length;L++){var D=M[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(k,D.key,D)}}function v(k,M,L){return M&&R(k.prototype,M),L&&R(k,L),k}function _(k,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(M&&M.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),M&&P(k,M)}function P(k,M){return P=Object.setPrototypeOf||function(D,U){return D.__proto__=U,D},P(k,M)}function I(k){var M=w();return function(){var D=d(k),U;if(M){var te=d(this).constructor;U=Reflect.construct(D,arguments,te)}else U=D.apply(this,arguments);return T(this,U)}}function T(k,M){return M&&(e(M)==="object"||typeof M=="function")?M:b(k)}function b(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function d(k){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},d(k)}function y(k,M,L){return M in k?Object.defineProperty(k,M,{value:L,enumerable:!0,configurable:!0,writable:!0}):k[M]=L,k}var p="https://www.youtube.com/iframe_api",x="YT",A="onYouTubeIframeAPIReady",O=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,C=/user\/([a-zA-Z0-9_-]+)\/?/,j=/youtube-nocookie\.com/,B="https://www.youtube-nocookie.com",F=function(k){_(L,k);var M=I(L);function L(){var D;S(this,L);for(var U=arguments.length,te=new Array(U),J=0;J<U;J++)te[J]=arguments[J];return D=M.call.apply(M,[this].concat(te)),y(b(D),"callPlayer",r.callPlayer),y(b(D),"parsePlaylist",function(ue){if(ue instanceof Array)return{listType:"playlist",playlist:ue.map(D.getID).join(",")};if(O.test(ue)){var Ee=ue.match(O),Te=u(Ee,2),Se=Te[1];return{listType:"playlist",list:Se.replace(/^UC/,"UU")}}if(C.test(ue)){var He=ue.match(C),qe=u(He,2),Xe=qe[1];return{listType:"user_uploads",list:Xe}}return{}}),y(b(D),"onStateChange",function(ue){var Ee=ue.data,Te=D.props,Se=Te.onPlay,He=Te.onPause,qe=Te.onBuffer,Xe=Te.onBufferEnd,At=Te.onEnded,En=Te.onReady,Fr=Te.loop,gr=Te.config,ir=gr.playerVars,V=gr.onUnstarted,$=window[x].PlayerState,q=$.UNSTARTED,ie=$.PLAYING,Z=$.PAUSED,X=$.BUFFERING,ae=$.ENDED,$e=$.CUED;if(Ee===q&&V(),Ee===ie&&(Se(),Xe()),Ee===Z&&He(),Ee===X&&qe(),Ee===ae){var Be=!!D.callPlayer("getPlaylist");Fr&&!Be&&(ir.start?D.seekTo(ir.start):D.play()),At()}Ee===$e&&En()}),y(b(D),"mute",function(){D.callPlayer("mute")}),y(b(D),"unmute",function(){D.callPlayer("unMute")}),y(b(D),"ref",function(ue){D.container=ue}),D}return v(L,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(U){return!U||U instanceof Array||O.test(U)?null:U.match(i.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(U,te){var J=this,ue=this.props,Ee=ue.playing,Te=ue.muted,Se=ue.playsinline,He=ue.controls,qe=ue.loop,Xe=ue.config,At=ue.onError,En=Xe.playerVars,Fr=Xe.embedOptions,gr=this.getID(U);if(te){if(O.test(U)||C.test(U)||U instanceof Array){this.player.loadPlaylist(this.parsePlaylist(U));return}this.player.cueVideoById({videoId:gr,startSeconds:(0,r.parseStartTime)(U)||En.start,endSeconds:(0,r.parseEndTime)(U)||En.end});return}(0,r.getSDK)(p,x,A,function(ir){return ir.loaded}).then(function(ir){J.container&&(J.player=new ir.Player(J.container,l({width:"100%",height:"100%",videoId:gr,playerVars:l(l({autoplay:Ee?1:0,mute:Te?1:0,controls:He?1:0,start:(0,r.parseStartTime)(U),end:(0,r.parseEndTime)(U),origin:window.location.origin,playsinline:Se?1:0},J.parsePlaylist(U)),En),events:{onReady:function(){qe&&J.player.setLoop(!0),J.props.onReady()},onPlaybackRateChange:function($){return J.props.onPlaybackRateChange($.data)},onPlaybackQualityChange:function($){return J.props.onPlaybackQualityChange($)},onStateChange:J.onStateChange,onError:function($){return At($.data)}},host:j.test(U)?B:void 0},Fr)))},At),Fr.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayers callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(U){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.callPlayer("seekTo",U),!te&&!this.props.playing&&this.pause()}},{key:"setVolume",value:function(U){this.callPlayer("setVolume",U*100)}},{key:"setPlaybackRate",value:function(U){this.callPlayer("setPlaybackRate",U)}},{key:"setLoop",value:function(U){this.callPlayer("setLoop",U)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var U=this.props.display,te={width:"100%",height:"100%",display:U};return n.default.createElement("div",{style:te},n.default.createElement("div",{ref:this.ref}))}}]),L}(n.Component);t.default=F,y(F,"displayName","YouTube"),y(F,"canPlay",i.canPlay.youtube)}(Om)),Om}var Dm={},RT;function jW(){return RT||(RT=1,function(t){function e(w){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(y){return typeof y}:e=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},e(w)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(N),r=Ue,i=fe;function s(){if(typeof WeakMap!="function")return null;var w=new WeakMap;return s=function(){return w},w}function o(w){if(w&&w.__esModule)return w;if(w===null||e(w)!=="object"&&typeof w!="function")return{default:w};var d=s();if(d&&d.has(w))return d.get(w);var y={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in w)if(Object.prototype.hasOwnProperty.call(w,x)){var A=p?Object.getOwnPropertyDescriptor(w,x):null;A&&(A.get||A.set)?Object.defineProperty(y,x,A):y[x]=w[x]}return y.default=w,d&&d.set(w,y),y}function a(w,d){var y=Object.keys(w);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(w);d&&(p=p.filter(function(x){return Object.getOwnPropertyDescriptor(w,x).enumerable})),y.push.apply(y,p)}return y}function l(w){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?a(Object(y),!0).forEach(function(p){P(w,p,y[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(y)):a(Object(y)).forEach(function(p){Object.defineProperty(w,p,Object.getOwnPropertyDescriptor(y,p))})}return w}function u(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function")}function c(w,d){for(var y=0;y<d.length;y++){var p=d[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(w,p.key,p)}}function f(w,d,y){return d&&c(w.prototype,d),y&&c(w,y),w}function h(w,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(d&&d.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),d&&g(w,d)}function g(w,d){return g=Object.setPrototypeOf||function(p,x){return p.__proto__=x,p},g(w,d)}function E(w){var d=v();return function(){var p=_(w),x;if(d){var A=_(this).constructor;x=Reflect.construct(p,arguments,A)}else x=p.apply(this,arguments);return S(this,x)}}function S(w,d){return d&&(e(d)==="object"||typeof d=="function")?d:R(w)}function R(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _(w){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},_(w)}function P(w,d,y){return d in w?Object.defineProperty(w,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):w[d]=y,w}var I="https://w.soundcloud.com/player/api.js",T="SC",b=function(w){h(y,w);var d=E(y);function y(){var p;u(this,y);for(var x=arguments.length,A=new Array(x),O=0;O<x;O++)A[O]=arguments[O];return p=d.call.apply(d,[this].concat(A)),P(R(p),"callPlayer",r.callPlayer),P(R(p),"duration",null),P(R(p),"currentTime",null),P(R(p),"fractionLoaded",null),P(R(p),"mute",function(){p.setVolume(0)}),P(R(p),"unmute",function(){p.props.volume!==null&&p.setVolume(p.props.volume)}),P(R(p),"ref",function(C){p.iframe=C}),p}return f(y,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(x,A){var O=this;(0,r.getSDK)(I,T).then(function(C){if(O.iframe){var j=C.Widget.Events,B=j.PLAY,F=j.PLAY_PROGRESS,k=j.PAUSE,M=j.FINISH,L=j.ERROR;A||(O.player=C.Widget(O.iframe),O.player.bind(B,O.props.onPlay),O.player.bind(k,function(){var D=O.duration-O.currentTime;D<.05||O.props.onPause()}),O.player.bind(F,function(D){O.currentTime=D.currentPosition/1e3,O.fractionLoaded=D.loadedProgress}),O.player.bind(M,function(){return O.props.onEnded()}),O.player.bind(L,function(D){return O.props.onError(D)})),O.player.load(x,l(l({},O.props.config.options),{},{callback:function(){O.player.getDuration(function(U){O.duration=U/1e3,O.props.onReady()})}}))}})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.callPlayer("seekTo",x*1e3),A||this.pause()}},{key:"setVolume",value:function(x){this.callPlayer("setVolume",x*100)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var x=this.props.display,A={width:"100%",height:"100%",display:x};return n.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:A,frameBorder:0,allow:"autoplay"})}}]),y}(n.Component);t.default=b,P(b,"displayName","SoundCloud"),P(b,"canPlay",i.canPlay.soundcloud),P(b,"loopOnEnded",!0)}(Dm)),Dm}var Nm={},IT;function FW(){return IT||(IT=1,function(t){function e(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(p){return typeof p}:e=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(d)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(N),r=Ue,i=fe;function s(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return s=function(){return d},d}function o(d){if(d&&d.__esModule)return d;if(d===null||e(d)!=="object"&&typeof d!="function")return{default:d};var y=s();if(y&&y.has(d))return y.get(d);var p={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in d)if(Object.prototype.hasOwnProperty.call(d,A)){var O=x?Object.getOwnPropertyDescriptor(d,A):null;O&&(O.get||O.set)?Object.defineProperty(p,A,O):p[A]=d[A]}return p.default=d,y&&y.set(d,p),p}function a(d,y){var p=Object.keys(d);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(d);y&&(x=x.filter(function(A){return Object.getOwnPropertyDescriptor(d,A).enumerable})),p.push.apply(p,x)}return p}function l(d){for(var y=1;y<arguments.length;y++){var p=arguments[y]!=null?arguments[y]:{};y%2?a(Object(p),!0).forEach(function(x){P(d,x,p[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(p)):a(Object(p)).forEach(function(x){Object.defineProperty(d,x,Object.getOwnPropertyDescriptor(p,x))})}return d}function u(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function c(d,y){for(var p=0;p<y.length;p++){var x=y[p];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(d,x.key,x)}}function f(d,y,p){return y&&c(d.prototype,y),p&&c(d,p),d}function h(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),y&&g(d,y)}function g(d,y){return g=Object.setPrototypeOf||function(x,A){return x.__proto__=A,x},g(d,y)}function E(d){var y=v();return function(){var x=_(d),A;if(y){var O=_(this).constructor;A=Reflect.construct(x,arguments,O)}else A=x.apply(this,arguments);return S(this,A)}}function S(d,y){return y&&(e(y)==="object"||typeof y=="function")?y:R(d)}function R(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _(d){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},_(d)}function P(d,y,p){return y in d?Object.defineProperty(d,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[y]=p,d}var I="https://player.vimeo.com/api/player.js",T="Vimeo",b=function(y){return y.replace("/manage/videos","")},w=function(d){h(p,d);var y=E(p);function p(){var x;u(this,p);for(var A=arguments.length,O=new Array(A),C=0;C<A;C++)O[C]=arguments[C];return x=y.call.apply(y,[this].concat(O)),P(R(x),"callPlayer",r.callPlayer),P(R(x),"duration",null),P(R(x),"currentTime",null),P(R(x),"secondsLoaded",null),P(R(x),"mute",function(){x.setMuted(!0)}),P(R(x),"unmute",function(){x.setMuted(!1)}),P(R(x),"ref",function(j){x.container=j}),x}return f(p,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(A){var O=this;this.duration=null,(0,r.getSDK)(I,T).then(function(C){if(O.container){var j=O.props.config,B=j.playerOptions,F=j.title;O.player=new C.Player(O.container,l({url:b(A),autoplay:O.props.playing,muted:O.props.muted,loop:O.props.loop,playsinline:O.props.playsinline,controls:O.props.controls},B)),O.player.ready().then(function(){var k=O.container.querySelector("iframe");k.style.width="100%",k.style.height="100%",F&&(k.title=F)}).catch(O.props.onError),O.player.on("loaded",function(){O.props.onReady(),O.refreshDuration()}),O.player.on("play",function(){O.props.onPlay(),O.refreshDuration()}),O.player.on("pause",O.props.onPause),O.player.on("seeked",function(k){return O.props.onSeek(k.seconds)}),O.player.on("ended",O.props.onEnded),O.player.on("error",O.props.onError),O.player.on("timeupdate",function(k){var M=k.seconds;O.currentTime=M}),O.player.on("progress",function(k){var M=k.seconds;O.secondsLoaded=M}),O.player.on("bufferstart",O.props.onBuffer),O.player.on("bufferend",O.props.onBufferEnd),O.player.on("playbackratechange",function(k){return O.props.onPlaybackRateChange(k.playbackRate)})}},this.props.onError)}},{key:"refreshDuration",value:function(){var A=this;this.player.getDuration().then(function(O){A.duration=O})}},{key:"play",value:function(){var A=this.callPlayer("play");A&&A.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.callPlayer("setCurrentTime",A),O||this.pause()}},{key:"setVolume",value:function(A){this.callPlayer("setVolume",A)}},{key:"setMuted",value:function(A){this.callPlayer("setMuted",A)}},{key:"setLoop",value:function(A){this.callPlayer("setLoop",A)}},{key:"setPlaybackRate",value:function(A){this.callPlayer("setPlaybackRate",A)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var A=this.props.display,O={width:"100%",height:"100%",overflow:"hidden",display:A};return n.default.createElement("div",{key:this.props.url,ref:this.ref,style:O})}}]),p}(n.Component);t.default=w,P(w,"displayName","Vimeo"),P(w,"canPlay",i.canPlay.vimeo),P(w,"forceLoad",!0)}(Nm)),Nm}var Lm={},AT;function UW(){return AT||(AT=1,function(t){function e(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(p){return typeof p}:e=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(d)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(N),r=Ue,i=fe;function s(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return s=function(){return d},d}function o(d){if(d&&d.__esModule)return d;if(d===null||e(d)!=="object"&&typeof d!="function")return{default:d};var y=s();if(y&&y.has(d))return y.get(d);var p={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in d)if(Object.prototype.hasOwnProperty.call(d,A)){var O=x?Object.getOwnPropertyDescriptor(d,A):null;O&&(O.get||O.set)?Object.defineProperty(p,A,O):p[A]=d[A]}return p.default=d,y&&y.set(d,p),p}function a(){return a=Object.assign||function(d){for(var y=1;y<arguments.length;y++){var p=arguments[y];for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(d[x]=p[x])}return d},a.apply(this,arguments)}function l(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function u(d,y){for(var p=0;p<y.length;p++){var x=y[p];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(d,x.key,x)}}function c(d,y,p){return y&&u(d.prototype,y),p&&u(d,p),d}function f(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),y&&h(d,y)}function h(d,y){return h=Object.setPrototypeOf||function(x,A){return x.__proto__=A,x},h(d,y)}function g(d){var y=R();return function(){var x=v(d),A;if(y){var O=v(this).constructor;A=Reflect.construct(x,arguments,O)}else A=x.apply(this,arguments);return E(this,A)}}function E(d,y){return y&&(e(y)==="object"||typeof y=="function")?y:S(d)}function S(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function v(d){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},v(d)}function _(d,y,p){return y in d?Object.defineProperty(d,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[y]=p,d}var P="https://connect.facebook.net/en_US/sdk.js",I="FB",T="fbAsyncInit",b="facebook-player-",w=function(d){f(p,d);var y=g(p);function p(){var x;l(this,p);for(var A=arguments.length,O=new Array(A),C=0;C<A;C++)O[C]=arguments[C];return x=y.call.apply(y,[this].concat(O)),_(S(x),"callPlayer",r.callPlayer),_(S(x),"playerID",x.props.config.playerId||"".concat(b).concat((0,r.randomString)())),_(S(x),"mute",function(){x.callPlayer("mute")}),_(S(x),"unmute",function(){x.callPlayer("unmute")}),x}return c(p,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(A,O){var C=this;if(O){(0,r.getSDK)(P,I,T).then(function(j){return j.XFBML.parse()});return}(0,r.getSDK)(P,I,T).then(function(j){j.init({appId:C.props.config.appId,xfbml:!0,version:C.props.config.version}),j.Event.subscribe("xfbml.render",function(B){C.props.onLoaded()}),j.Event.subscribe("xfbml.ready",function(B){B.type==="video"&&B.id===C.playerID&&(C.player=B.instance,C.player.subscribe("startedPlaying",C.props.onPlay),C.player.subscribe("paused",C.props.onPause),C.player.subscribe("finishedPlaying",C.props.onEnded),C.player.subscribe("startedBuffering",C.props.onBuffer),C.player.subscribe("finishedBuffering",C.props.onBufferEnd),C.player.subscribe("error",C.props.onError),C.props.muted?C.callPlayer("mute"):C.callPlayer("unmute"),C.props.onReady(),document.getElementById(C.playerID).querySelector("iframe").style.visibility="visible")})})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.callPlayer("seek",A),O||this.pause()}},{key:"setVolume",value:function(A){this.callPlayer("setVolume",A)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var A=this.props.config.attributes,O={width:"100%",height:"100%"};return n.default.createElement("div",a({style:O,id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},A))}}]),p}(n.Component);t.default=w,_(w,"displayName","Facebook"),_(w,"canPlay",i.canPlay.facebook),_(w,"loopOnEnded",!0)}(Lm)),Lm}var Mm={},CT;function $W(){return CT||(CT=1,function(t){function e(T){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(w){return typeof w}:e=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},e(T)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(N),r=Ue,i=fe;function s(){if(typeof WeakMap!="function")return null;var T=new WeakMap;return s=function(){return T},T}function o(T){if(T&&T.__esModule)return T;if(T===null||e(T)!=="object"&&typeof T!="function")return{default:T};var b=s();if(b&&b.has(T))return b.get(T);var w={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in T)if(Object.prototype.hasOwnProperty.call(T,y)){var p=d?Object.getOwnPropertyDescriptor(T,y):null;p&&(p.get||p.set)?Object.defineProperty(w,y,p):w[y]=T[y]}return w.default=T,b&&b.set(T,w),w}function a(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function l(T,b){for(var w=0;w<b.length;w++){var d=b[w];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(T,d.key,d)}}function u(T,b,w){return b&&l(T.prototype,b),w&&l(T,w),T}function c(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),b&&f(T,b)}function f(T,b){return f=Object.setPrototypeOf||function(d,y){return d.__proto__=y,d},f(T,b)}function h(T){var b=S();return function(){var d=R(T),y;if(b){var p=R(this).constructor;y=Reflect.construct(d,arguments,p)}else y=d.apply(this,arguments);return g(this,y)}}function g(T,b){return b&&(e(b)==="object"||typeof b=="function")?b:E(T)}function E(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(T){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},R(T)}function v(T,b,w){return b in T?Object.defineProperty(T,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):T[b]=w,T}var _="https://cdn.embed.ly/player-0.1.0.min.js",P="playerjs",I=function(T){c(w,T);var b=h(w);function w(){var d;a(this,w);for(var y=arguments.length,p=new Array(y),x=0;x<y;x++)p[x]=arguments[x];return d=b.call.apply(b,[this].concat(p)),v(E(d),"callPlayer",r.callPlayer),v(E(d),"duration",null),v(E(d),"currentTime",null),v(E(d),"secondsLoaded",null),v(E(d),"mute",function(){d.callPlayer("mute")}),v(E(d),"unmute",function(){d.callPlayer("unmute")}),v(E(d),"ref",function(A){d.iframe=A}),d}return u(w,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(y){var p=this;(0,r.getSDK)(_,P).then(function(x){p.iframe&&(p.player=new x.Player(p.iframe),p.player.setLoop(p.props.loop),p.player.on("ready",p.props.onReady),p.player.on("play",p.props.onPlay),p.player.on("pause",p.props.onPause),p.player.on("seeked",p.props.onSeek),p.player.on("ended",p.props.onEnded),p.player.on("error",p.props.onError),p.player.on("timeupdate",function(A){var O=A.duration,C=A.seconds;p.duration=O,p.currentTime=C}),p.player.on("buffered",function(A){var O=A.percent;p.duration&&(p.secondsLoaded=p.duration*O)}),p.props.muted&&p.player.mute())},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(y){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.callPlayer("setCurrentTime",y),p||this.pause()}},{key:"setVolume",value:function(y){this.callPlayer("setVolume",y*100)}},{key:"setLoop",value:function(y){this.callPlayer("setLoop",y)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var y=this.props.url.match(i.MATCH_URL_STREAMABLE)[1],p={width:"100%",height:"100%"};return n.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(y),frameBorder:"0",scrolling:"no",style:p,allow:"encrypted-media; autoplay; fullscreen;"})}}]),w}(n.Component);t.default=I,v(I,"displayName","Streamable"),v(I,"canPlay",i.canPlay.streamable)}(Mm)),Mm}var Vm={},kT;function BW(){return kT||(kT=1,function(t){function e(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(p){return typeof p}:e=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(d)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(N),r=Ue,i=fe;function s(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return s=function(){return d},d}function o(d){if(d&&d.__esModule)return d;if(d===null||e(d)!=="object"&&typeof d!="function")return{default:d};var y=s();if(y&&y.has(d))return y.get(d);var p={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in d)if(Object.prototype.hasOwnProperty.call(d,A)){var O=x?Object.getOwnPropertyDescriptor(d,A):null;O&&(O.get||O.set)?Object.defineProperty(p,A,O):p[A]=d[A]}return p.default=d,y&&y.set(d,p),p}function a(d,y){var p=Object.keys(d);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(d);y&&(x=x.filter(function(A){return Object.getOwnPropertyDescriptor(d,A).enumerable})),p.push.apply(p,x)}return p}function l(d){for(var y=1;y<arguments.length;y++){var p=arguments[y]!=null?arguments[y]:{};y%2?a(Object(p),!0).forEach(function(x){P(d,x,p[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(p)):a(Object(p)).forEach(function(x){Object.defineProperty(d,x,Object.getOwnPropertyDescriptor(p,x))})}return d}function u(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function c(d,y){for(var p=0;p<y.length;p++){var x=y[p];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(d,x.key,x)}}function f(d,y,p){return y&&c(d.prototype,y),p&&c(d,p),d}function h(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),y&&g(d,y)}function g(d,y){return g=Object.setPrototypeOf||function(x,A){return x.__proto__=A,x},g(d,y)}function E(d){var y=v();return function(){var x=_(d),A;if(y){var O=_(this).constructor;A=Reflect.construct(x,arguments,O)}else A=x.apply(this,arguments);return S(this,A)}}function S(d,y){return y&&(e(y)==="object"||typeof y=="function")?y:R(d)}function R(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _(d){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},_(d)}function P(d,y,p){return y in d?Object.defineProperty(d,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[y]=p,d}var I="https://fast.wistia.com/assets/external/E-v1.js",T="Wistia",b="wistia-player-",w=function(d){h(p,d);var y=E(p);function p(){var x;u(this,p);for(var A=arguments.length,O=new Array(A),C=0;C<A;C++)O[C]=arguments[C];return x=y.call.apply(y,[this].concat(O)),P(R(x),"callPlayer",r.callPlayer),P(R(x),"playerID",x.props.config.playerId||"".concat(b).concat((0,r.randomString)())),P(R(x),"onPlay",function(){var j;return(j=x.props).onPlay.apply(j,arguments)}),P(R(x),"onPause",function(){var j;return(j=x.props).onPause.apply(j,arguments)}),P(R(x),"onSeek",function(){var j;return(j=x.props).onSeek.apply(j,arguments)}),P(R(x),"onEnded",function(){var j;return(j=x.props).onEnded.apply(j,arguments)}),P(R(x),"onPlaybackRateChange",function(){var j;return(j=x.props).onPlaybackRateChange.apply(j,arguments)}),P(R(x),"mute",function(){x.callPlayer("mute")}),P(R(x),"unmute",function(){x.callPlayer("unmute")}),x}return f(p,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(A){var O=this,C=this.props,j=C.playing,B=C.muted,F=C.controls,k=C.onReady,M=C.config,L=C.onError;(0,r.getSDK)(I,T).then(function(D){M.customControls&&M.customControls.forEach(function(U){return D.defineControl(U)}),window._wq=window._wq||[],window._wq.push({id:O.playerID,options:l({autoPlay:j,silentAutoPlay:"allow",muted:B,controlsVisibleOnLoad:F,fullscreenButton:F,playbar:F,playbackRateControl:F,qualityControl:F,volumeControl:F,settingsControl:F,smallPlayButton:F},M.options),onReady:function(te){O.player=te,O.unbind(),O.player.bind("play",O.onPlay),O.player.bind("pause",O.onPause),O.player.bind("seek",O.onSeek),O.player.bind("end",O.onEnded),O.player.bind("playbackratechange",O.onPlaybackRateChange),k()}})},L)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.callPlayer("time",A),O||this.pause()}},{key:"setVolume",value:function(A){this.callPlayer("volume",A)}},{key:"setPlaybackRate",value:function(A){this.callPlayer("playbackRate",A)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var A=this.props.url,O=A&&A.match(i.MATCH_URL_WISTIA)[1],C="wistia_embed wistia_async_".concat(O),j={width:"100%",height:"100%"};return n.default.createElement("div",{id:this.playerID,key:O,className:C,style:j})}}]),p}(n.Component);t.default=w,P(w,"displayName","Wistia"),P(w,"canPlay",i.canPlay.wistia),P(w,"loopOnEnded",!0)}(Vm)),Vm}var jm={},OT;function zW(){return OT||(OT=1,function(t){function e(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(p){return typeof p}:e=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(d)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(N),r=Ue,i=fe;function s(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return s=function(){return d},d}function o(d){if(d&&d.__esModule)return d;if(d===null||e(d)!=="object"&&typeof d!="function")return{default:d};var y=s();if(y&&y.has(d))return y.get(d);var p={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in d)if(Object.prototype.hasOwnProperty.call(d,A)){var O=x?Object.getOwnPropertyDescriptor(d,A):null;O&&(O.get||O.set)?Object.defineProperty(p,A,O):p[A]=d[A]}return p.default=d,y&&y.set(d,p),p}function a(d,y){var p=Object.keys(d);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(d);y&&(x=x.filter(function(A){return Object.getOwnPropertyDescriptor(d,A).enumerable})),p.push.apply(p,x)}return p}function l(d){for(var y=1;y<arguments.length;y++){var p=arguments[y]!=null?arguments[y]:{};y%2?a(Object(p),!0).forEach(function(x){P(d,x,p[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(p)):a(Object(p)).forEach(function(x){Object.defineProperty(d,x,Object.getOwnPropertyDescriptor(p,x))})}return d}function u(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function c(d,y){for(var p=0;p<y.length;p++){var x=y[p];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(d,x.key,x)}}function f(d,y,p){return y&&c(d.prototype,y),p&&c(d,p),d}function h(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),y&&g(d,y)}function g(d,y){return g=Object.setPrototypeOf||function(x,A){return x.__proto__=A,x},g(d,y)}function E(d){var y=v();return function(){var x=_(d),A;if(y){var O=_(this).constructor;A=Reflect.construct(x,arguments,O)}else A=x.apply(this,arguments);return S(this,A)}}function S(d,y){return y&&(e(y)==="object"||typeof y=="function")?y:R(d)}function R(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _(d){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},_(d)}function P(d,y,p){return y in d?Object.defineProperty(d,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[y]=p,d}var I="https://player.twitch.tv/js/embed/v1.js",T="Twitch",b="twitch-player-",w=function(d){h(p,d);var y=E(p);function p(){var x;u(this,p);for(var A=arguments.length,O=new Array(A),C=0;C<A;C++)O[C]=arguments[C];return x=y.call.apply(y,[this].concat(O)),P(R(x),"callPlayer",r.callPlayer),P(R(x),"playerID",x.props.config.playerId||"".concat(b).concat((0,r.randomString)())),P(R(x),"mute",function(){x.callPlayer("setMuted",!0)}),P(R(x),"unmute",function(){x.callPlayer("setMuted",!1)}),x}return f(p,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(A,O){var C=this,j=this.props,B=j.playsinline,F=j.onError,k=j.config,M=j.controls,L=i.MATCH_URL_TWITCH_CHANNEL.test(A),D=L?A.match(i.MATCH_URL_TWITCH_CHANNEL)[1]:A.match(i.MATCH_URL_TWITCH_VIDEO)[1];if(O){L?this.player.setChannel(D):this.player.setVideo("v"+D);return}(0,r.getSDK)(I,T).then(function(U){C.player=new U.Player(C.playerID,l({video:L?"":D,channel:L?D:"",height:"100%",width:"100%",playsinline:B,autoplay:C.props.playing,muted:C.props.muted,controls:L?!0:M,time:(0,r.parseStartTime)(A)},k.options));var te=U.Player,J=te.READY,ue=te.PLAYING,Ee=te.PAUSE,Te=te.ENDED,Se=te.ONLINE,He=te.OFFLINE,qe=te.SEEK;C.player.addEventListener(J,C.props.onReady),C.player.addEventListener(ue,C.props.onPlay),C.player.addEventListener(Ee,C.props.onPause),C.player.addEventListener(Te,C.props.onEnded),C.player.addEventListener(qe,C.props.onSeek),C.player.addEventListener(Se,C.props.onLoaded),C.player.addEventListener(He,C.props.onLoaded)},F)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.callPlayer("seek",A),O||this.pause()}},{key:"setVolume",value:function(A){this.callPlayer("setVolume",A)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var A={width:"100%",height:"100%"};return n.default.createElement("div",{style:A,id:this.playerID})}}]),p}(n.Component);t.default=w,P(w,"displayName","Twitch"),P(w,"canPlay",i.canPlay.twitch),P(w,"loopOnEnded",!0)}(jm)),jm}var Fm={},DT;function HW(){return DT||(DT=1,function(t){function e(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(B){return typeof B}:e=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},e(C)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(N),r=Ue,i=fe;function s(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return s=function(){return C},C}function o(C){if(C&&C.__esModule)return C;if(C===null||e(C)!=="object"&&typeof C!="function")return{default:C};var j=s();if(j&&j.has(C))return j.get(C);var B={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in C)if(Object.prototype.hasOwnProperty.call(C,k)){var M=F?Object.getOwnPropertyDescriptor(C,k):null;M&&(M.get||M.set)?Object.defineProperty(B,k,M):B[k]=C[k]}return B.default=C,j&&j.set(C,B),B}function a(C,j){var B=Object.keys(C);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(C);j&&(F=F.filter(function(k){return Object.getOwnPropertyDescriptor(C,k).enumerable})),B.push.apply(B,F)}return B}function l(C){for(var j=1;j<arguments.length;j++){var B=arguments[j]!=null?arguments[j]:{};j%2?a(Object(B),!0).forEach(function(F){y(C,F,B[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(B)):a(Object(B)).forEach(function(F){Object.defineProperty(C,F,Object.getOwnPropertyDescriptor(B,F))})}return C}function u(C,j){return E(C)||g(C,j)||f(C,j)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(C,j){if(C){if(typeof C=="string")return h(C,j);var B=Object.prototype.toString.call(C).slice(8,-1);if(B==="Object"&&C.constructor&&(B=C.constructor.name),B==="Map"||B==="Set")return Array.from(C);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return h(C,j)}}function h(C,j){(j==null||j>C.length)&&(j=C.length);for(var B=0,F=new Array(j);B<j;B++)F[B]=C[B];return F}function g(C,j){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(C)))){var B=[],F=!0,k=!1,M=void 0;try{for(var L=C[Symbol.iterator](),D;!(F=(D=L.next()).done)&&(B.push(D.value),!(j&&B.length===j));F=!0);}catch(U){k=!0,M=U}finally{try{!F&&L.return!=null&&L.return()}finally{if(k)throw M}}return B}}function E(C){if(Array.isArray(C))return C}function S(C,j){if(!(C instanceof j))throw new TypeError("Cannot call a class as a function")}function R(C,j){for(var B=0;B<j.length;B++){var F=j[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(C,F.key,F)}}function v(C,j,B){return j&&R(C.prototype,j),B&&R(C,B),C}function _(C,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(j&&j.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),j&&P(C,j)}function P(C,j){return P=Object.setPrototypeOf||function(F,k){return F.__proto__=k,F},P(C,j)}function I(C){var j=w();return function(){var F=d(C),k;if(j){var M=d(this).constructor;k=Reflect.construct(F,arguments,M)}else k=F.apply(this,arguments);return T(this,k)}}function T(C,j){return j&&(e(j)==="object"||typeof j=="function")?j:b(C)}function b(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function d(C){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},d(C)}function y(C,j,B){return j in C?Object.defineProperty(C,j,{value:B,enumerable:!0,configurable:!0,writable:!0}):C[j]=B,C}var p="https://api.dmcdn.net/all.js",x="DM",A="dmAsyncInit",O=function(C){_(B,C);var j=I(B);function B(){var F;S(this,B);for(var k=arguments.length,M=new Array(k),L=0;L<k;L++)M[L]=arguments[L];return F=j.call.apply(j,[this].concat(M)),y(b(F),"callPlayer",r.callPlayer),y(b(F),"onDurationChange",function(){var D=F.getDuration();F.props.onDuration(D)}),y(b(F),"mute",function(){F.callPlayer("setMuted",!0)}),y(b(F),"unmute",function(){F.callPlayer("setMuted",!1)}),y(b(F),"ref",function(D){F.container=D}),F}return v(B,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(k){var M=this,L=this.props,D=L.controls,U=L.config,te=L.onError,J=L.playing,ue=k.match(i.MATCH_URL_DAILYMOTION),Ee=u(ue,2),Te=Ee[1];if(this.player){this.player.load(Te,{start:(0,r.parseStartTime)(k),autoplay:J});return}(0,r.getSDK)(p,x,A,function(Se){return Se.player}).then(function(Se){if(M.container){var He=Se.player;M.player=new He(M.container,{width:"100%",height:"100%",video:Te,params:l({controls:D,autoplay:M.props.playing,mute:M.props.muted,start:(0,r.parseStartTime)(k),origin:window.location.origin},U.params),events:{apiready:M.props.onReady,seeked:function(){return M.props.onSeek(M.player.currentTime)},video_end:M.props.onEnded,durationchange:M.onDurationChange,pause:M.props.onPause,playing:M.props.onPlay,waiting:M.props.onBuffer,error:function(Xe){return te(Xe)}}})}},te)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.callPlayer("seek",k),M||this.pause()}},{key:"setVolume",value:function(k){this.callPlayer("setVolume",k)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var k=this.props.display,M={width:"100%",height:"100%",display:k};return n.default.createElement("div",{style:M},n.default.createElement("div",{ref:this.ref}))}}]),B}(n.Component);t.default=O,y(O,"displayName","DailyMotion"),y(O,"canPlay",i.canPlay.dailymotion),y(O,"loopOnEnded",!0)}(Fm)),Fm}var Um={},NT;function qW(){return NT||(NT=1,function(t){function e(w){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(y){return typeof y}:e=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},e(w)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(N),r=Ue,i=fe;function s(){if(typeof WeakMap!="function")return null;var w=new WeakMap;return s=function(){return w},w}function o(w){if(w&&w.__esModule)return w;if(w===null||e(w)!=="object"&&typeof w!="function")return{default:w};var d=s();if(d&&d.has(w))return d.get(w);var y={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in w)if(Object.prototype.hasOwnProperty.call(w,x)){var A=p?Object.getOwnPropertyDescriptor(w,x):null;A&&(A.get||A.set)?Object.defineProperty(y,x,A):y[x]=w[x]}return y.default=w,d&&d.set(w,y),y}function a(w,d){var y=Object.keys(w);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(w);d&&(p=p.filter(function(x){return Object.getOwnPropertyDescriptor(w,x).enumerable})),y.push.apply(y,p)}return y}function l(w){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?a(Object(y),!0).forEach(function(p){P(w,p,y[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(y)):a(Object(y)).forEach(function(p){Object.defineProperty(w,p,Object.getOwnPropertyDescriptor(y,p))})}return w}function u(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function")}function c(w,d){for(var y=0;y<d.length;y++){var p=d[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(w,p.key,p)}}function f(w,d,y){return d&&c(w.prototype,d),y&&c(w,y),w}function h(w,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(d&&d.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),d&&g(w,d)}function g(w,d){return g=Object.setPrototypeOf||function(p,x){return p.__proto__=x,p},g(w,d)}function E(w){var d=v();return function(){var p=_(w),x;if(d){var A=_(this).constructor;x=Reflect.construct(p,arguments,A)}else x=p.apply(this,arguments);return S(this,x)}}function S(w,d){return d&&(e(d)==="object"||typeof d=="function")?d:R(w)}function R(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _(w){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},_(w)}function P(w,d,y){return d in w?Object.defineProperty(w,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):w[d]=y,w}var I="https://widget.mixcloud.com/media/js/widgetApi.js",T="Mixcloud",b=function(w){h(y,w);var d=E(y);function y(){var p;u(this,y);for(var x=arguments.length,A=new Array(x),O=0;O<x;O++)A[O]=arguments[O];return p=d.call.apply(d,[this].concat(A)),P(R(p),"callPlayer",r.callPlayer),P(R(p),"duration",null),P(R(p),"currentTime",null),P(R(p),"secondsLoaded",null),P(R(p),"mute",function(){}),P(R(p),"unmute",function(){}),P(R(p),"ref",function(C){p.iframe=C}),p}return f(y,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(x){var A=this;(0,r.getSDK)(I,T).then(function(O){A.player=O.PlayerWidget(A.iframe),A.player.ready.then(function(){A.player.events.play.on(A.props.onPlay),A.player.events.pause.on(A.props.onPause),A.player.events.ended.on(A.props.onEnded),A.player.events.error.on(A.props.error),A.player.events.progress.on(function(C,j){A.currentTime=C,A.duration=j}),A.props.onReady()})},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.callPlayer("seek",x),A||this.pause()}},{key:"setVolume",value:function(x){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var x=this.props,A=x.url,O=x.config,C=A.match(i.MATCH_URL_MIXCLOUD)[1],j={width:"100%",height:"100%"},B=(0,r.queryString)(l(l({},O.options),{},{feed:"/".concat(C,"/")}));return n.default.createElement("iframe",{key:C,ref:this.ref,style:j,src:"https://www.mixcloud.com/widget/iframe/?".concat(B),frameBorder:"0",allow:"autoplay"})}}]),y}(n.Component);t.default=b,P(b,"displayName","Mixcloud"),P(b,"canPlay",i.canPlay.mixcloud),P(b,"loopOnEnded",!0)}(Um)),Um}var $m={},LT;function WW(){return LT||(LT=1,function(t){function e(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(p){return typeof p}:e=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(d)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(N),r=Ue,i=fe;function s(){if(typeof WeakMap!="function")return null;var d=new WeakMap;return s=function(){return d},d}function o(d){if(d&&d.__esModule)return d;if(d===null||e(d)!=="object"&&typeof d!="function")return{default:d};var y=s();if(y&&y.has(d))return y.get(d);var p={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in d)if(Object.prototype.hasOwnProperty.call(d,A)){var O=x?Object.getOwnPropertyDescriptor(d,A):null;O&&(O.get||O.set)?Object.defineProperty(p,A,O):p[A]=d[A]}return p.default=d,y&&y.set(d,p),p}function a(d,y){var p=Object.keys(d);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(d);y&&(x=x.filter(function(A){return Object.getOwnPropertyDescriptor(d,A).enumerable})),p.push.apply(p,x)}return p}function l(d){for(var y=1;y<arguments.length;y++){var p=arguments[y]!=null?arguments[y]:{};y%2?a(Object(p),!0).forEach(function(x){P(d,x,p[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(p)):a(Object(p)).forEach(function(x){Object.defineProperty(d,x,Object.getOwnPropertyDescriptor(p,x))})}return d}function u(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function c(d,y){for(var p=0;p<y.length;p++){var x=y[p];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(d,x.key,x)}}function f(d,y,p){return y&&c(d.prototype,y),p&&c(d,p),d}function h(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),y&&g(d,y)}function g(d,y){return g=Object.setPrototypeOf||function(x,A){return x.__proto__=A,x},g(d,y)}function E(d){var y=v();return function(){var x=_(d),A;if(y){var O=_(this).constructor;A=Reflect.construct(x,arguments,O)}else A=x.apply(this,arguments);return S(this,A)}}function S(d,y){return y&&(e(y)==="object"||typeof y=="function")?y:R(d)}function R(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _(d){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},_(d)}function P(d,y,p){return y in d?Object.defineProperty(d,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[y]=p,d}var I="https://play.vidyard.com/embed/v4.js",T="VidyardV4",b="onVidyardAPI",w=function(d){h(p,d);var y=E(p);function p(){var x;u(this,p);for(var A=arguments.length,O=new Array(A),C=0;C<A;C++)O[C]=arguments[C];return x=y.call.apply(y,[this].concat(O)),P(R(x),"callPlayer",r.callPlayer),P(R(x),"mute",function(){x.setVolume(0)}),P(R(x),"unmute",function(){x.props.volume!==null&&x.setVolume(x.props.volume)}),P(R(x),"ref",function(j){x.container=j}),x}return f(p,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(A){var O=this,C=this.props,j=C.playing,B=C.config,F=C.onError,k=C.onDuration,M=A&&A.match(i.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,r.getSDK)(I,T,b).then(function(L){O.container&&(L.api.addReadyListener(function(D,U){O.player||(O.player=U,O.player.on("ready",O.props.onReady),O.player.on("play",O.props.onPlay),O.player.on("pause",O.props.onPause),O.player.on("seek",O.props.onSeek),O.player.on("playerComplete",O.props.onEnded))},M),L.api.renderPlayer(l({uuid:M,container:O.container,autoplay:j?1:0},B.options)),L.api.getPlayerMetadata(M).then(function(D){O.duration=D.length_in_seconds,k(D.length_in_seconds)}))},F)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.callPlayer("seek",A),O||this.pause()}},{key:"setVolume",value:function(A){this.callPlayer("setVolume",A)}},{key:"setPlaybackRate",value:function(A){this.callPlayer("setPlaybackSpeed",A)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var A=this.props.display,O={width:"100%",height:"100%",display:A};return n.default.createElement("div",{style:O},n.default.createElement("div",{ref:this.ref}))}}]),p}(n.Component);t.default=w,P(w,"displayName","Vidyard"),P(w,"canPlay",i.canPlay.vidyard)}($m)),$m}var Bm={},MT;function KW(){return MT||(MT=1,function(t){function e(T){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(w){return typeof w}:e=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},e(T)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(N),r=Ue,i=fe;function s(){if(typeof WeakMap!="function")return null;var T=new WeakMap;return s=function(){return T},T}function o(T){if(T&&T.__esModule)return T;if(T===null||e(T)!=="object"&&typeof T!="function")return{default:T};var b=s();if(b&&b.has(T))return b.get(T);var w={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in T)if(Object.prototype.hasOwnProperty.call(T,y)){var p=d?Object.getOwnPropertyDescriptor(T,y):null;p&&(p.get||p.set)?Object.defineProperty(w,y,p):w[y]=T[y]}return w.default=T,b&&b.set(T,w),w}function a(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function l(T,b){for(var w=0;w<b.length;w++){var d=b[w];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(T,d.key,d)}}function u(T,b,w){return b&&l(T.prototype,b),w&&l(T,w),T}function c(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),b&&f(T,b)}function f(T,b){return f=Object.setPrototypeOf||function(d,y){return d.__proto__=y,d},f(T,b)}function h(T){var b=S();return function(){var d=R(T),y;if(b){var p=R(this).constructor;y=Reflect.construct(d,arguments,p)}else y=d.apply(this,arguments);return g(this,y)}}function g(T,b){return b&&(e(b)==="object"||typeof b=="function")?b:E(T)}function E(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(T){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},R(T)}function v(T,b,w){return b in T?Object.defineProperty(T,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):T[b]=w,T}var _="https://cdn.embed.ly/player-0.1.0.min.js",P="playerjs",I=function(T){c(w,T);var b=h(w);function w(){var d;a(this,w);for(var y=arguments.length,p=new Array(y),x=0;x<y;x++)p[x]=arguments[x];return d=b.call.apply(b,[this].concat(p)),v(E(d),"callPlayer",r.callPlayer),v(E(d),"duration",null),v(E(d),"currentTime",null),v(E(d),"secondsLoaded",null),v(E(d),"mute",function(){d.callPlayer("mute")}),v(E(d),"unmute",function(){d.callPlayer("unmute")}),v(E(d),"ref",function(A){d.iframe=A}),d}return u(w,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(y){var p=this;(0,r.getSDK)(_,P).then(function(x){p.iframe&&(p.player=new x.Player(p.iframe),p.player.on("ready",function(){setTimeout(function(){p.player.isReady=!0,p.player.setLoop(p.props.loop),p.props.muted&&p.player.mute(),p.addListeners(p.player,p.props),p.props.onReady()},500)}))},this.props.onError)}},{key:"addListeners",value:function(y,p){var x=this;y.on("play",p.onPlay),y.on("pause",p.onPause),y.on("ended",p.onEnded),y.on("error",p.onError),y.on("timeupdate",function(A){var O=A.duration,C=A.seconds;x.duration=O,x.currentTime=C})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(y){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.callPlayer("setCurrentTime",y),p||this.pause()}},{key:"setVolume",value:function(y){this.callPlayer("setVolume",y)}},{key:"setLoop",value:function(y){this.callPlayer("setLoop",y)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var y={width:"100%",height:"100%"};return n.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:y,allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}]),w}(n.Component);t.default=I,v(I,"displayName","Kaltura"),v(I,"canPlay",i.canPlay.kaltura)}(Bm)),Bm}var zm={},VT;function QW(){return VT||(VT=1,function(t){function e(F){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(M){return typeof M}:e=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},e(F)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(N),r=Ue,i=fe;function s(){if(typeof WeakMap!="function")return null;var F=new WeakMap;return s=function(){return F},F}function o(F){if(F&&F.__esModule)return F;if(F===null||e(F)!=="object"&&typeof F!="function")return{default:F};var k=s();if(k&&k.has(F))return k.get(F);var M={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in F)if(Object.prototype.hasOwnProperty.call(F,D)){var U=L?Object.getOwnPropertyDescriptor(F,D):null;U&&(U.get||U.set)?Object.defineProperty(M,D,U):M[D]=F[D]}return M.default=F,k&&k.set(F,M),M}function a(){return a=Object.assign||function(F){for(var k=1;k<arguments.length;k++){var M=arguments[k];for(var L in M)Object.prototype.hasOwnProperty.call(M,L)&&(F[L]=M[L])}return F},a.apply(this,arguments)}function l(F,k){if(!(F instanceof k))throw new TypeError("Cannot call a class as a function")}function u(F,k){for(var M=0;M<k.length;M++){var L=k[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(F,L.key,L)}}function c(F,k,M){return k&&u(F.prototype,k),M&&u(F,M),F}function f(F,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(k&&k.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),k&&h(F,k)}function h(F,k){return h=Object.setPrototypeOf||function(L,D){return L.__proto__=D,L},h(F,k)}function g(F){var k=R();return function(){var L=v(F),D;if(k){var U=v(this).constructor;D=Reflect.construct(L,arguments,U)}else D=L.apply(this,arguments);return E(this,D)}}function E(F,k){return k&&(e(k)==="object"||typeof k=="function")?k:S(F)}function S(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function v(F){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},v(F)}function _(F,k,M){return k in F?Object.defineProperty(F,k,{value:M,enumerable:!0,configurable:!0,writable:!0}):F[k]=M,F}var P=typeof navigator<"u",I=P&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,T=P&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||I)&&!window.MSStream,b=P&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!window.MSStream,w="https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js",d="Hls",y="https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js",p="dashjs",x="https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js",A="flvjs",O=/www\.dropbox\.com\/.+/,C=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,j="https://videodelivery.net/{id}/manifest/video.m3u8",B=function(F){f(M,F);var k=g(M);function M(){var L;l(this,M);for(var D=arguments.length,U=new Array(D),te=0;te<D;te++)U[te]=arguments[te];return L=k.call.apply(k,[this].concat(U)),_(S(L),"onReady",function(){var J;return(J=L.props).onReady.apply(J,arguments)}),_(S(L),"onPlay",function(){var J;return(J=L.props).onPlay.apply(J,arguments)}),_(S(L),"onBuffer",function(){var J;return(J=L.props).onBuffer.apply(J,arguments)}),_(S(L),"onBufferEnd",function(){var J;return(J=L.props).onBufferEnd.apply(J,arguments)}),_(S(L),"onPause",function(){var J;return(J=L.props).onPause.apply(J,arguments)}),_(S(L),"onEnded",function(){var J;return(J=L.props).onEnded.apply(J,arguments)}),_(S(L),"onError",function(){var J;return(J=L.props).onError.apply(J,arguments)}),_(S(L),"onPlayBackRateChange",function(J){return L.props.onPlaybackRateChange(J.target.playbackRate)}),_(S(L),"onEnablePIP",function(){var J;return(J=L.props).onEnablePIP.apply(J,arguments)}),_(S(L),"onDisablePIP",function(J){var ue=L.props,Ee=ue.onDisablePIP,Te=ue.playing;Ee(J),Te&&L.play()}),_(S(L),"onPresentationModeChange",function(J){if(L.player&&(0,r.supportsWebKitPresentationMode)(L.player)){var ue=L.player.webkitPresentationMode;ue==="picture-in-picture"?L.onEnablePIP(J):ue==="inline"&&L.onDisablePIP(J)}}),_(S(L),"onSeek",function(J){L.props.onSeek(J.target.currentTime)}),_(S(L),"mute",function(){L.player.muted=!0}),_(S(L),"unmute",function(){L.player.muted=!1}),_(S(L),"renderSourceElement",function(J,ue){return typeof J=="string"?n.default.createElement("source",{key:ue,src:J}):n.default.createElement("source",a({key:ue},J))}),_(S(L),"renderTrack",function(J,ue){return n.default.createElement("track",a({key:ue},J))}),_(S(L),"ref",function(J){L.player&&(L.prevPlayer=L.player),L.player=J}),L}return c(M,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player);var D=this.getSource(this.props.url);D&&(this.player.src=D),(T||this.props.config.forceDisableHls)&&this.player.load()}},{key:"componentDidUpdate",value:function(D){this.shouldUseAudio(this.props)!==this.shouldUseAudio(D)&&(this.removeListeners(this.prevPlayer,D.url),this.addListeners(this.player)),this.props.url!==D.url&&!(0,r.isMediaStream)(this.props.url)&&!(this.props.url instanceof Array)&&(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.player.removeAttribute("src"),this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(D){var U=this.props,te=U.url,J=U.playsinline;D.addEventListener("play",this.onPlay),D.addEventListener("waiting",this.onBuffer),D.addEventListener("playing",this.onBufferEnd),D.addEventListener("pause",this.onPause),D.addEventListener("seeked",this.onSeek),D.addEventListener("ended",this.onEnded),D.addEventListener("error",this.onError),D.addEventListener("ratechange",this.onPlayBackRateChange),D.addEventListener("enterpictureinpicture",this.onEnablePIP),D.addEventListener("leavepictureinpicture",this.onDisablePIP),D.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(te)||D.addEventListener("canplay",this.onReady),J&&(D.setAttribute("playsinline",""),D.setAttribute("webkit-playsinline",""),D.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(D,U){D.removeEventListener("canplay",this.onReady),D.removeEventListener("play",this.onPlay),D.removeEventListener("waiting",this.onBuffer),D.removeEventListener("playing",this.onBufferEnd),D.removeEventListener("pause",this.onPause),D.removeEventListener("seeked",this.onSeek),D.removeEventListener("ended",this.onEnded),D.removeEventListener("error",this.onError),D.removeEventListener("ratechange",this.onPlayBackRateChange),D.removeEventListener("enterpictureinpicture",this.onEnablePIP),D.removeEventListener("leavepictureinpicture",this.onDisablePIP),D.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(U)||D.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(D){return D.config.forceVideo||D.config.attributes.poster?!1:i.AUDIO_EXTENSIONS.test(D.url)||D.config.forceAudio}},{key:"shouldUseHLS",value:function(D){return b&&this.props.config.forceSafariHLS||this.props.config.forceHLS?!0:T||this.props.config.forceDisableHls?!1:i.HLS_EXTENSIONS.test(D)||C.test(D)}},{key:"shouldUseDASH",value:function(D){return i.DASH_EXTENSIONS.test(D)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(D){return i.FLV_EXTENSIONS.test(D)||this.props.config.forceFLV}},{key:"load",value:function(D){var U=this,te=this.props.config,J=te.hlsVersion,ue=te.hlsOptions,Ee=te.dashVersion,Te=te.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(D)&&(0,r.getSDK)(w.replace("VERSION",J),d).then(function(Se){if(U.hls=new Se(ue),U.hls.on(Se.Events.MANIFEST_PARSED,function(){U.props.onReady()}),U.hls.on(Se.Events.ERROR,function(qe,Xe){U.props.onError(qe,Xe,U.hls,Se)}),C.test(D)){var He=D.match(C)[1];U.hls.loadSource(j.replace("{id}",He))}else U.hls.loadSource(D);U.hls.attachMedia(U.player),U.props.onLoaded()}),this.shouldUseDASH(D)&&(0,r.getSDK)(y.replace("VERSION",Ee),p).then(function(Se){U.dash=Se.MediaPlayer().create(),U.dash.initialize(U.player,D,U.props.playing),U.dash.on("error",U.props.onError),parseInt(Ee)<3?U.dash.getDebug().setLogToBrowserConsole(!1):U.dash.updateSettings({debug:{logLevel:Se.Debug.LOG_LEVEL_NONE}}),U.props.onLoaded()}),this.shouldUseFLV(D)&&(0,r.getSDK)(x.replace("VERSION",Te),A).then(function(Se){U.flv=Se.createPlayer({type:"flv",url:D}),U.flv.attachMediaElement(U.player),U.flv.on(Se.Events.ERROR,function(He,qe){U.props.onError(He,qe,U.flv,Se)}),U.flv.load(),U.props.onLoaded()}),D instanceof Array)this.player.load();else if((0,r.isMediaStream)(D))try{this.player.srcObject=D}catch{this.player.src=window.URL.createObjectURL(D)}}},{key:"play",value:function(){var D=this.player.play();D&&D.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(D){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.player.currentTime=D,U||this.pause()}},{key:"setVolume",value:function(D){this.player.volume=D}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,r.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="picture-in-picture"&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,r.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="inline"&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(D){try{this.player.playbackRate=D}catch(U){this.props.onError(U)}}},{key:"getDuration",value:function(){if(!this.player)return null;var D=this.player,U=D.duration,te=D.seekable;return U===1/0&&te.length>0?te.end(te.length-1):U}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var D=this.player.buffered;if(D.length===0)return 0;var U=D.end(D.length-1),te=this.getDuration();return U>te?te:U}},{key:"getSource",value:function(D){var U=this.shouldUseHLS(D),te=this.shouldUseDASH(D),J=this.shouldUseFLV(D);if(!(D instanceof Array||(0,r.isMediaStream)(D)||U||te||J))return O.test(D)?D.replace("www.dropbox.com","dl.dropboxusercontent.com"):D}},{key:"render",value:function(){var D=this.props,U=D.url,te=D.playing,J=D.loop,ue=D.controls,Ee=D.muted,Te=D.config,Se=D.width,He=D.height,qe=this.shouldUseAudio(this.props),Xe=qe?"audio":"video",At={width:Se==="auto"?Se:"100%",height:He==="auto"?He:"100%"};return n.default.createElement(Xe,a({ref:this.ref,src:this.getSource(U),style:At,preload:"auto",autoPlay:te||void 0,controls:ue,muted:Ee,loop:J},Te.attributes),U instanceof Array&&U.map(this.renderSourceElement),Te.tracks.map(this.renderTrack))}}]),M}(n.Component);t.default=B,_(B,"displayName","FilePlayer"),_(B,"canPlay",i.canPlay.file)}(zm)),zm}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=N,n=Ue,r=fe;function i(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(c){return typeof c}:i=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},i(l)}function s(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return s=function(){return l},l}function o(l){if(l&&l.__esModule)return l;if(l===null||i(l)!=="object"&&typeof l!="function")return{default:l};var u=s();if(u&&u.has(l))return u.get(l);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var g=f?Object.getOwnPropertyDescriptor(l,h):null;g&&(g.get||g.set)?Object.defineProperty(c,h,g):c[h]=l[h]}return c.default=l,u&&u.set(l,c),c}var a=[{key:"youtube",name:"YouTube",canPlay:r.canPlay.youtube,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return o(VW())})})},{key:"soundcloud",name:"SoundCloud",canPlay:r.canPlay.soundcloud,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return o(jW())})})},{key:"vimeo",name:"Vimeo",canPlay:r.canPlay.vimeo,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return o(FW())})})},{key:"facebook",name:"Facebook",canPlay:r.canPlay.facebook,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return o(UW())})})},{key:"streamable",name:"Streamable",canPlay:r.canPlay.streamable,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return o($W())})})},{key:"wistia",name:"Wistia",canPlay:r.canPlay.wistia,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return o(BW())})})},{key:"twitch",name:"Twitch",canPlay:r.canPlay.twitch,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return o(zW())})})},{key:"dailymotion",name:"DailyMotion",canPlay:r.canPlay.dailymotion,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return o(HW())})})},{key:"mixcloud",name:"Mixcloud",canPlay:r.canPlay.mixcloud,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return o(qW())})})},{key:"vidyard",name:"Vidyard",canPlay:r.canPlay.vidyard,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return o(WW())})})},{key:"kaltura",name:"Kaltura",canPlay:r.canPlay.kaltura,lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return o(KW())})})},{key:"file",name:"FilePlayer",canPlay:r.canPlay.file,canEnablePIP:function(u){return r.canPlay.file(u)&&(document.pictureInPictureEnabled||(0,n.supportsWebKitPresentationMode)())&&!r.AUDIO_EXTENSIONS.test(u)},lazyPlayer:(0,e.lazy)(function(){return Promise.resolve().then(function(){return o(QW())})})}];t.default=a})(sO);var rp={},jT=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function GW(t,e){return!!(t===e||jT(t)&&jT(e))}function YW(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!GW(t[n],e[n]))return!1;return!0}function XW(t,e){e===void 0&&(e=YW);var n,r=[],i,s=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return s&&n===this&&e(a,r)||(i=t.apply(this,a),s=!0,n=this,r=a),i}return o}const JW=Object.freeze(Object.defineProperty({__proto__:null,default:XW},Symbol.toStringTag,{value:"Module"})),ZW=DO(JW);var e7=typeof Element<"u",t7=typeof Map=="function",n7=typeof Set=="function",r7=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Rf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Rf(t[r],e[r]))return!1;return!0}var s;if(t7&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Rf(r.value[1],e.get(r.value[0])))return!1;return!0}if(n7&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(r7&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(e7&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Rf(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var TO=function(e,n){try{return Rf(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},no={},SO={exports:{}},i7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s7=i7,o7=s7;function bO(){}function RO(){}RO.resetWarningCache=bO;var a7=function(){function t(r,i,s,o,a,l){if(l!==o7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:RO,resetWarningCache:bO};return n.PropTypes=n,n};SO.exports=a7();var l7=SO.exports;Object.defineProperty(no,"__esModule",{value:!0});no.defaultProps=no.propTypes=void 0;var gi=u7(l7);function u7(t){return t&&t.__esModule?t:{default:t}}var fn=gi.default.string,dn=gi.default.bool,Eo=gi.default.number,Hm=gi.default.array,fl=gi.default.oneOfType,qn=gi.default.shape,hn=gi.default.object,Et=gi.default.func,FT=gi.default.node,c7={url:fl([fn,Hm,hn]),playing:dn,loop:dn,controls:dn,volume:Eo,muted:dn,playbackRate:Eo,width:fl([fn,Eo]),height:fl([fn,Eo]),style:hn,progressInterval:Eo,playsinline:dn,pip:dn,stopOnUnmount:dn,light:fl([dn,fn,hn]),playIcon:FT,previewTabIndex:Eo,fallback:FT,oEmbedUrl:fn,wrapper:fl([fn,Et,qn({render:Et.isRequired})]),config:qn({soundcloud:qn({options:hn}),youtube:qn({playerVars:hn,embedOptions:hn,onUnstarted:Et}),facebook:qn({appId:fn,version:fn,playerId:fn,attributes:hn}),dailymotion:qn({params:hn}),vimeo:qn({playerOptions:hn,title:fn}),file:qn({attributes:hn,tracks:Hm,forceVideo:dn,forceAudio:dn,forceHLS:dn,forceSafariHLS:dn,forceDisableHls:dn,forceDASH:dn,forceFLV:dn,hlsOptions:hn,hlsVersion:fn,dashVersion:fn,flvVersion:fn}),wistia:qn({options:hn,playerId:fn,customControls:Hm}),mixcloud:qn({options:hn}),twitch:qn({options:hn,playerId:fn}),vidyard:qn({options:hn})}),onReady:Et,onStart:Et,onPlay:Et,onPause:Et,onBuffer:Et,onBufferEnd:Et,onEnded:Et,onError:Et,onDuration:Et,onSeek:Et,onPlaybackRateChange:Et,onPlaybackQualityChange:Et,onProgress:Et,onClickPreview:Et,onEnablePIP:Et,onDisablePIP:Et};no.propTypes=c7;var Ut=function(){},f7={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:Ut},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:Ut,onStart:Ut,onPlay:Ut,onPause:Ut,onBuffer:Ut,onBufferEnd:Ut,onEnded:Ut,onError:Ut,onDuration:Ut,onSeek:Ut,onPlaybackRateChange:Ut,onPlaybackQualityChange:Ut,onProgress:Ut,onClickPreview:Ut,onEnablePIP:Ut,onDisablePIP:Ut};no.defaultProps=f7;var IO={};(function(t){function e(w){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(y){return typeof y}:e=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},e(w)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(N),r=o(TO),i=no,s=Ue;function o(w){return w&&w.__esModule?w:{default:w}}function a(){if(typeof WeakMap!="function")return null;var w=new WeakMap;return a=function(){return w},w}function l(w){if(w&&w.__esModule)return w;if(w===null||e(w)!=="object"&&typeof w!="function")return{default:w};var d=a();if(d&&d.has(w))return d.get(w);var y={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in w)if(Object.prototype.hasOwnProperty.call(w,x)){var A=p?Object.getOwnPropertyDescriptor(w,x):null;A&&(A.get||A.set)?Object.defineProperty(y,x,A):y[x]=w[x]}return y.default=w,d&&d.set(w,y),y}function u(){return u=Object.assign||function(w){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var p in y)Object.prototype.hasOwnProperty.call(y,p)&&(w[p]=y[p])}return w},u.apply(this,arguments)}function c(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function")}function f(w,d){for(var y=0;y<d.length;y++){var p=d[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(w,p.key,p)}}function h(w,d,y){return d&&f(w.prototype,d),y&&f(w,y),w}function g(w,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(d&&d.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),d&&E(w,d)}function E(w,d){return E=Object.setPrototypeOf||function(p,x){return p.__proto__=x,p},E(w,d)}function S(w){var d=_();return function(){var p=P(w),x;if(d){var A=P(this).constructor;x=Reflect.construct(p,arguments,A)}else x=p.apply(this,arguments);return R(this,x)}}function R(w,d){return d&&(e(d)==="object"||typeof d=="function")?d:v(w)}function v(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function P(w){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},P(w)}function I(w,d,y){return d in w?Object.defineProperty(w,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):w[d]=y,w}var T=5e3,b=function(w){g(y,w);var d=S(y);function y(){var p;c(this,y);for(var x=arguments.length,A=new Array(x),O=0;O<x;O++)A[O]=arguments[O];return p=d.call.apply(d,[this].concat(A)),I(v(p),"mounted",!1),I(v(p),"isReady",!1),I(v(p),"isPlaying",!1),I(v(p),"isLoading",!0),I(v(p),"loadOnReady",null),I(v(p),"startOnPlay",!0),I(v(p),"seekOnPlay",null),I(v(p),"onDurationCalled",!1),I(v(p),"handlePlayerMount",function(C){if(p.player){p.progress();return}p.player=C,p.player.load(p.props.url),p.progress()}),I(v(p),"getInternalPlayer",function(C){return p.player?p.player[C]:null}),I(v(p),"progress",function(){if(p.props.url&&p.player&&p.isReady){var C=p.getCurrentTime()||0,j=p.getSecondsLoaded(),B=p.getDuration();if(B){var F={playedSeconds:C,played:C/B};j!==null&&(F.loadedSeconds=j,F.loaded=j/B),(F.playedSeconds!==p.prevPlayed||F.loadedSeconds!==p.prevLoaded)&&p.props.onProgress(F),p.prevPlayed=F.playedSeconds,p.prevLoaded=F.loadedSeconds}}p.progressTimeout=setTimeout(p.progress,p.props.progressFrequency||p.props.progressInterval)}),I(v(p),"handleReady",function(){if(p.mounted){p.isReady=!0,p.isLoading=!1;var C=p.props,j=C.onReady,B=C.playing,F=C.volume,k=C.muted;j(),!k&&F!==null&&p.player.setVolume(F),p.loadOnReady?(p.player.load(p.loadOnReady,!0),p.loadOnReady=null):B&&p.player.play(),p.handleDurationCheck()}}),I(v(p),"handlePlay",function(){p.isPlaying=!0,p.isLoading=!1;var C=p.props,j=C.onStart,B=C.onPlay,F=C.playbackRate;p.startOnPlay&&(p.player.setPlaybackRate&&F!==1&&p.player.setPlaybackRate(F),j(),p.startOnPlay=!1),B(),p.seekOnPlay&&(p.seekTo(p.seekOnPlay),p.seekOnPlay=null),p.handleDurationCheck()}),I(v(p),"handlePause",function(C){p.isPlaying=!1,p.isLoading||p.props.onPause(C)}),I(v(p),"handleEnded",function(){var C=p.props,j=C.activePlayer,B=C.loop,F=C.onEnded;j.loopOnEnded&&B&&p.seekTo(0),B||(p.isPlaying=!1,F())}),I(v(p),"handleError",function(){var C;p.isLoading=!1,(C=p.props).onError.apply(C,arguments)}),I(v(p),"handleDurationCheck",function(){clearTimeout(p.durationCheckTimeout);var C=p.getDuration();C?p.onDurationCalled||(p.props.onDuration(C),p.onDurationCalled=!0):p.durationCheckTimeout=setTimeout(p.handleDurationCheck,100)}),I(v(p),"handleLoaded",function(){p.isLoading=!1}),p}return h(y,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(x){var A=this;if(this.player){var O=this.props,C=O.url,j=O.playing,B=O.volume,F=O.muted,k=O.playbackRate,M=O.pip,L=O.loop,D=O.activePlayer,U=O.disableDeferredLoading;if(!(0,r.default)(x.url,C)){if(this.isLoading&&!D.forceLoad&&!U&&!(0,s.isMediaStream)(C)){console.warn("ReactPlayer: the attempt to load ".concat(C," is being deferred until the player has loaded")),this.loadOnReady=C;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(C,this.isReady)}!x.playing&&j&&!this.isPlaying&&this.player.play(),x.playing&&!j&&this.isPlaying&&this.player.pause(),!x.pip&&M&&this.player.enablePIP&&this.player.enablePIP(),x.pip&&!M&&this.player.disablePIP&&this.player.disablePIP(),x.volume!==B&&B!==null&&this.player.setVolume(B),x.muted!==F&&(F?this.player.mute():(this.player.unmute(),B!==null&&setTimeout(function(){return A.player.setVolume(B)}))),x.playbackRate!==k&&this.player.setPlaybackRate&&this.player.setPlaybackRate(k),x.loop!==L&&this.player.setLoop&&this.player.setLoop(L)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(x,A,O){var C=this;if(!this.isReady){x!==0&&(this.seekOnPlay=x,setTimeout(function(){C.seekOnPlay=null},T));return}var j=A?A==="fraction":x>0&&x<1;if(j){var B=this.player.getDuration();if(!B){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(B*x,O);return}this.player.seekTo(x,O)}},{key:"render",value:function(){var x=this.props.activePlayer;return x?n.default.createElement(x,u({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}]),y}(n.Component);t.default=b,I(b,"displayName","Player"),I(b,"propTypes",i.propTypes),I(b,"defaultProps",i.defaultProps)})(IO);var qm={},UT;function d7(){return UT||(UT=1,function(t){function e(T){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(w){return typeof w}:e=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},e(T)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(N);function r(){if(typeof WeakMap!="function")return null;var T=new WeakMap;return r=function(){return T},T}function i(T){if(T&&T.__esModule)return T;if(T===null||e(T)!=="object"&&typeof T!="function")return{default:T};var b=r();if(b&&b.has(T))return b.get(T);var w={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in T)if(Object.prototype.hasOwnProperty.call(T,y)){var p=d?Object.getOwnPropertyDescriptor(T,y):null;p&&(p.get||p.set)?Object.defineProperty(w,y,p):w[y]=T[y]}return w.default=T,b&&b.set(T,w),w}function s(T,b){var w=Object.keys(T);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(T);b&&(d=d.filter(function(y){return Object.getOwnPropertyDescriptor(T,y).enumerable})),w.push.apply(w,d)}return w}function o(T){for(var b=1;b<arguments.length;b++){var w=arguments[b]!=null?arguments[b]:{};b%2?s(Object(w),!0).forEach(function(d){v(T,d,w[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(w)):s(Object(w)).forEach(function(d){Object.defineProperty(T,d,Object.getOwnPropertyDescriptor(w,d))})}return T}function a(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function l(T,b){for(var w=0;w<b.length;w++){var d=b[w];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(T,d.key,d)}}function u(T,b,w){return b&&l(T.prototype,b),w&&l(T,w),T}function c(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),b&&f(T,b)}function f(T,b){return f=Object.setPrototypeOf||function(d,y){return d.__proto__=y,d},f(T,b)}function h(T){var b=S();return function(){var d=R(T),y;if(b){var p=R(this).constructor;y=Reflect.construct(d,arguments,p)}else y=d.apply(this,arguments);return g(this,y)}}function g(T,b){return b&&(e(b)==="object"||typeof b=="function")?b:E(T)}function E(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(T){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},R(T)}function v(T,b,w){return b in T?Object.defineProperty(T,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):T[b]=w,T}var _="64px",P={},I=function(T){c(w,T);var b=h(w);function w(){var d;a(this,w);for(var y=arguments.length,p=new Array(y),x=0;x<y;x++)p[x]=arguments[x];return d=b.call.apply(b,[this].concat(p)),v(E(d),"mounted",!1),v(E(d),"state",{image:null}),v(E(d),"handleKeyPress",function(A){(A.key==="Enter"||A.key===" ")&&d.props.onClick()}),d}return u(w,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(y){var p=this.props,x=p.url,A=p.light;(y.url!==x||y.light!==A)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(y){var p=this,x=y.url,A=y.light,O=y.oEmbedUrl;if(!n.default.isValidElement(A)){if(typeof A=="string"){this.setState({image:A});return}if(P[x]){this.setState({image:P[x]});return}return this.setState({image:null}),window.fetch(O.replace("{url}",x)).then(function(C){return C.json()}).then(function(C){if(C.thumbnail_url&&p.mounted){var j=C.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");p.setState({image:j}),P[x]=j}})}}},{key:"render",value:function(){var y=this.props,p=y.light,x=y.onClick,A=y.playIcon,O=y.previewTabIndex,C=this.state.image,j=n.default.isValidElement(p),B={display:"flex",alignItems:"center",justifyContent:"center"},F={preview:o({width:"100%",height:"100%",backgroundImage:C&&!j?"url(".concat(C,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},B),shadow:o({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:_,width:_,height:_,position:j?"absolute":void 0},B),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},k=n.default.createElement("div",{style:F.shadow,className:"react-player__shadow"},n.default.createElement("div",{style:F.playIcon,className:"react-player__play-icon"}));return n.default.createElement("div",{style:F.preview,className:"react-player__preview",onClick:x,tabIndex:O,onKeyPress:this.handleKeyPress},j?p:null,A||k)}}]),w}(n.Component);t.default=I}(qm)),qm}Object.defineProperty(rp,"__esModule",{value:!0});rp.createReactPlayer=void 0;var _s=CO(N),h7=ip(aO),Wm=ip(ZW),$T=ip(TO),Tl=no,p7=Ue,m7=ip(IO);function ip(t){return t&&t.__esModule?t:{default:t}}function Kl(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kl=function(n){return typeof n}:Kl=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kl(t)}function BT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BT(Object(n),!0).forEach(function(r){ut(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fd(){return Fd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}function Km(t){return _7(t)||v7(t)||g7(t)||y7()}function y7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g7(t,e){if(t){if(typeof t=="string")return ev(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ev(t,e)}}function v7(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _7(t){if(Array.isArray(t))return ev(t)}function ev(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E7(t,e,n){return e&&HT(t.prototype,e),n&&HT(t,n),t}function P7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tv(t,e)}function tv(t,e){return tv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},tv(t,e)}function x7(t){var e=S7();return function(){var r=Ud(t),i;if(e){var s=Ud(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return T7(this,i)}}function T7(t,e){return e&&(Kl(e)==="object"||typeof e=="function")?e:Jt(t)}function Jt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ud(t)}function ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AO(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return AO=function(){return t},t}function CO(t){if(t&&t.__esModule)return t;if(t===null||Kl(t)!=="object"&&typeof t!="function")return{default:t};var e=AO();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var b7=(0,_s.lazy)(function(){return Promise.resolve().then(function(){return CO(d7())})}),R7=typeof window<"u"&&window.document,I7=typeof dp<"u"&&dp.window&&dp.window.document,A7=Object.keys(Tl.propTypes),C7=R7||I7?_s.Suspense:function(){return null},dl=[],k7=function(e,n){var r,i;return i=r=function(s){P7(a,s);var o=x7(a);function a(){var l;w7(this,a);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=o.call.apply(o,[this].concat(c)),ut(Jt(l),"state",{showPreview:!!l.props.light}),ut(Jt(l),"references",{wrapper:function(g){l.wrapper=g},player:function(g){l.player=g}}),ut(Jt(l),"handleClickPreview",function(h){l.setState({showPreview:!1}),l.props.onClickPreview(h)}),ut(Jt(l),"showPreview",function(){l.setState({showPreview:!0})}),ut(Jt(l),"getDuration",function(){return l.player?l.player.getDuration():null}),ut(Jt(l),"getCurrentTime",function(){return l.player?l.player.getCurrentTime():null}),ut(Jt(l),"getSecondsLoaded",function(){return l.player?l.player.getSecondsLoaded():null}),ut(Jt(l),"getInternalPlayer",function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"player";return l.player?l.player.getInternalPlayer(h):null}),ut(Jt(l),"seekTo",function(h,g,E){if(!l.player)return null;l.player.seekTo(h,g,E)}),ut(Jt(l),"handleReady",function(){l.props.onReady(Jt(l))}),ut(Jt(l),"getActivePlayer",(0,Wm.default)(function(h){for(var g=0,E=[].concat(dl,Km(e));g<E.length;g++){var S=E[g];if(S.canPlay(h))return S}return n||null})),ut(Jt(l),"getConfig",(0,Wm.default)(function(h,g){var E=l.props.config;return h7.default.all([Tl.defaultProps.config,Tl.defaultProps.config[g]||{},E,E[g]||{}])})),ut(Jt(l),"getAttributes",(0,Wm.default)(function(h){return(0,p7.omit)(l.props,A7)})),ut(Jt(l),"renderActivePlayer",function(h){if(!h)return null;var g=l.getActivePlayer(h);if(!g)return null;var E=l.getConfig(h,g.key);return _s.default.createElement(m7.default,Fd({},l.props,{key:g.key,ref:l.references.player,config:E,activePlayer:g.lazyPlayer||g,onReady:l.handleReady}))}),l}return E7(a,[{key:"shouldComponentUpdate",value:function(u,c){return!(0,$T.default)(this.props,u)||!(0,$T.default)(this.state,c)}},{key:"componentDidUpdate",value:function(u){var c=this.props.light;!u.light&&c&&this.setState({showPreview:!0}),u.light&&!c&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(u){if(!u)return null;var c=this.props,f=c.light,h=c.playIcon,g=c.previewTabIndex,E=c.oEmbedUrl;return _s.default.createElement(b7,{url:u,light:f,playIcon:h,previewTabIndex:g,oEmbedUrl:E,onClick:this.handleClickPreview})}},{key:"render",value:function(){var u=this.props,c=u.url,f=u.style,h=u.width,g=u.height,E=u.fallback,S=u.wrapper,R=this.state.showPreview,v=this.getAttributes(c),_=typeof S=="string"?this.references.wrapper:void 0;return _s.default.createElement(S,Fd({ref:_,style:zT(zT({},f),{},{width:h,height:g})},v),_s.default.createElement(C7,{fallback:E},R?this.renderPreview(c):this.renderActivePlayer(c)))}}]),a}(_s.Component),ut(r,"displayName","ReactPlayer"),ut(r,"propTypes",Tl.propTypes),ut(r,"defaultProps",Tl.defaultProps),ut(r,"addCustomPlayer",function(s){dl.push(s)}),ut(r,"removeCustomPlayers",function(){dl.length=0}),ut(r,"canPlay",function(s){for(var o=0,a=[].concat(dl,Km(e));o<a.length;o++){var l=a[o];if(l.canPlay(s))return!0}return!1}),ut(r,"canEnablePIP",function(s){for(var o=0,a=[].concat(dl,Km(e));o<a.length;o++){var l=a[o];if(l.canEnablePIP&&l.canEnablePIP(s))return!0}return!1}),i};rp.createReactPlayer=k7;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=r(sO),n=rp;function r(o){return o&&o.__esModule?o:{default:o}}var i=e.default[e.default.length-1],s=(0,n.createReactPlayer)(e.default,i);t.default=s})(iO);const O7=qT(iO),D7=()=>{const t={open:{opacity:1},closed:{opacity:0}},{state:e}=La(),{videoId:n}=rr(),r=async()=>{const a={method:"GET",url:"https://youtube-v31.p.rapidapi.com/videos",params:{part:"contentDetails,snippet,statistics",id:n},headers:{"X-RapidAPI-Key":"8290fcf14bmsh71b447a7c3053ebp14a6e9jsn831685ff95f0","X-RapidAPI-Host":"youtube-v31.p.rapidapi.com"}};try{return(await An.request(a)).data}catch{throw new Error("Something went wrong")}},{data:i,isError:s,isFetching:o}=$n({queryKey:["videos",n],queryFn:r,refetchOnWindowFocus:!1,staleTime:1e3*60*3});return m.jsxs(mi.section,{variants:t,initial:"closed",animate:"open",exit:"closed",transition:{duration:.3},className:"md:col-span-7 md:col-start-2 mx-auto w-[95%] lg:grid lg:grid-cols-5 lg:space-x-3 mt-7 md:pl-4 lg:pl-0 sm:flex sm:flex-col items center justify-start mb-28 gap-4",children:[o&&m.jsx("p",{children:"Loading..."}),s&&m.jsx("p",{children:"Something went wrong"}),i&&i.items.map(a=>m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex flex-col col-span-3 gap-3 overflow-hidden rounded-xl w-full",children:[m.jsx(O7,{url:`https://www.youtube.com/watch?v=${n}`,width:"100%",controls:!0,pip:!0,stopOnUnmount:!1}),m.jsx(Hq,{channelId:a.snippet.channelId,videoDetails:i})]},a.id),m.jsxs("aside",{className:"flex flex-col w-full col-span-2 gap-2 mt-3 md:mt-0",children:[e&&m.jsx(Qq,{playlistVideos:e.playlistVideos,playlistId:e.playlistId}),m.jsx(Wq,{})]})]}))]})},N7=async t=>{const e=rt(it,`users/${t}`);try{return(await yr(e)).data()}catch{throw new Error("User isn't found")}},L7=t=>async()=>{const e=localStorage.getItem("uid");return e?await t.ensureQueryData(["userData",e],{queryFn:()=>N7(e),staleTime:1/0,cacheTime:1/0}):null},M7=({channelName:t,userName:e})=>{const n=()=>{var s,o;const r=t.split(" ");return((s=r[0])==null?void 0:s.charAt(0).toUpperCase())+((o=r[1])==null?void 0:o.charAt(0).toUpperCase())};return m.jsx("div",{className:"flex flex-col items-center justify-center gap-4 mb-6",children:m.jsxs("div",{className:"flex flex-row justify-start w-full gap-4 items-start",children:[m.jsx("p",{className:"text-3xl font-bold p-4 rounded-full bg-black text-white dark:bg-white dark:text-indigo-400",children:t&&n()}),m.jsxs("div",{className:"flex flex-col justify-start w-full text-start gap-2",children:[m.jsx("h1",{className:"text-2xl font-bold",children:t}),m.jsx("p",{className:"font-bold text-start text-slate-600 dark:text-slate-400",children:e})]})]})})},V7=()=>{const{userData:t}=cn(),e=oh(),n=async()=>{const o=await yr(rt(it,`users/${t.uid}`));try{return o.data()}catch{throw new Error("Something went wrong")}},{data:r,isLoading:i,error:s}=$n({queryKey:["userData",t.uid],queryFn:n,initialData:e||null,refetchOnWindowFocus:!1,enabled:!!e});return m.jsxs("div",{className:"col-span-6 col-start-2 md:col-span-7 pb-28 md:pb-0 md:col-start-2 mt-10  whitespace-nowrap text-black dark:text-white w-[95%] mx-auto md:pl-5 lg:pl-0",children:[i&&m.jsx("p",{children:"Loading..."}),s&&m.jsx("p",{children:s.message}),r&&t.auth&&m.jsxs(m.Fragment,{children:[m.jsx(M7,{channelName:r.name,userName:r.username}),m.jsxs("section",{className:"sticky top-16 flex flex-row gap-3 border-b-[1px] border-b-slate-50/20  h-fit justify-around md:justify-start z-10 dark:bg-slate-900/60 bg-slate-50/60",children:[m.jsx(Ds,{children:"watchLater"}),m.jsx(Ds,{children:"likedVideos"}),m.jsx(Ds,{children:"playlists"}),m.jsx(Ds,{children:"subscriptions"})]}),m.jsx(n0,{})]})]})},j7=t=>async()=>{const e=localStorage.getItem("uid");if(e)return await t.ensureQueryData(["userData",e]);throw I2({message:""},{status:403})},Jc=({title:t,to:e,data:n,content:r,icon:i})=>m.jsxs("section",{className:"flex flex-col gap-3 w-full mt-3",children:[m.jsxs("section",{className:"flex flex-row justify-between",children:[m.jsxs("p",{className:"text-2xl font-semibold flex flex-row gap-2 items-center",children:[i," ",t]}),m.jsx(Mt,{to:e,className:"text-indigo-400 font-medium underline-offset-1 underline",children:n&&n.items.length===0?"":"See all"})]}),n&&n.items.length===0?m.jsx("p",{className:"text-center font-semibold",children:`There is no ${r} yet`}):m.jsx("section",{className:"grid grid-cols-4 gap-3",children:n==null?void 0:n.items.map(s=>m.jsx(Q_,{videoData:s,extraStyles:"col-span-2 lg:col-span-1",pathname:e,linkName:`Remove from ${t}`}))})]}),F7=()=>{const{userData:t}=cn();oh();const e=async a=>(await yr(rt(it,`${a}/${t.uid}`))).data(),n=Fz({queries:[{queryKey:["watchLater",t.uid],queryFn:async()=>await e("watchLater"),refetchOnWindowFocus:!1},{queryKey:["playlists",t.uid],queryFn:async()=>await e("playlists"),refetchOnWindowFocus:!1},{queryKey:["subscriptions",t.uid],queryFn:async()=>await e("subscriptions"),refetchOnWindowFocus:!1},{queryKey:["likedVideos",t.uid],queryFn:async()=>await e("likedVideos"),refetchOnWindowFocus:!1}]}),[r,i,s,o]=n;return m.jsx("article",{className:"flex flex-col gap-4 w-full mt-3",children:n&&m.jsxs(m.Fragment,{children:[m.jsx(Jc,{content:"videos",title:"Watch Later",data:r==null?void 0:r.data,to:"watchLater",icon:m.jsx(eH,{})}),m.jsx(Jc,{content:"videos",title:"Liked Videos",data:o==null?void 0:o.data,to:"likedVideos",icon:m.jsx(kk,{})}),m.jsx(Jc,{content:"playlists",title:"Playlists",data:i==null?void 0:i.data,to:"playlists",icon:m.jsx(Yz,{})}),m.jsx(Jc,{content:"subscriptions",title:"Subscriptions",data:s==null?void 0:s.data,to:"subscriptions",icon:m.jsx(Ck,{})})]})})},U7=t=>async()=>{const e=localStorage.getItem("uid");if(e)return await t.ensureQueryData(["userData",e])},$7=({data:t,extra:e,linkName:n,pathname:r,picutre:i})=>{const s=Vr();return m.jsxs("div",{className:"relative w-full group",children:[m.jsxs(Mt,{to:{pathname:`/videos/${t.id}`},className:`flex flex-row items-center justify-start w-full ${e?`${e}`:"h-32"} gap-3 px-3 py-2 transition-all duration-150 rounded-xl hover:bg-indigo-50/10 w-full overflow-hidden`,children:[m.jsx("div",{className:`relative h-full overflow-hidden bg-white rounded-lg  ${e?"w-36":"w-48"}`,children:m.jsx("img",{src:i,alt:`${t.title}`,className:"object-cover object-center h-full rounded-lg w-44"})}),m.jsxs("div",{className:"flex flex-col self-start gap-2 w-full",children:[m.jsx("p",{className:`${e?"text-lg":"text-xl"} font-semibold dark:text-white text-slate-900 whitespace-pre-wrap line-clamp-2`,children:t.title}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("p",{onClick:()=>s(`/channels/${t.channelId}`),className:"text-xs font-semibold dark:text-slate-400 text-slate-600",children:t.channelTitle}),t.publishTime&&m.jsx("p",{className:"text-xs font-semibold dark:text-slate-400 text-slate-600",children:t.publishTime})]}),t.description&&m.jsx("p",{className:"font-semibold dark:text-slate-400 text-slate-600 line-clamp-2 whitespace-pre-wrap",children:t.description})]})]}),m.jsx(_c,{data:t,pathname:r,remove:!0,linkName:n})]},t.id)},kO=({pathname:t,linkName:e})=>{const{userData:n}=cn(),r=Vr(),i=async()=>(await yr(rt(it,`${t}/${n.uid}`))).data(),{data:s,isFetching:o}=$n({queryKey:[t,n.uid],queryFn:i,refetchOnWindowFocus:!1});return m.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[o&&m.jsx("p",{children:"Loading..."}),(s==null?void 0:s.items.length)===0&&m.jsxs("p",{className:"mt-10 text-center",children:["There is no videos, ",m.jsx("br",{})," Do you want to go"," ",m.jsxs("span",{onClick:()=>r("/"),className:"text-indigo-400 underline capitalize cursor-pointer underline-offset-1",children:[" ","home"," "]})]}),(s==null?void 0:s.items)&&s.items.map(a=>m.jsx($7,{data:a,picutre:a.url&&a.url,linkName:e,pathname:t}))]})},B7=()=>m.jsx(kO,{linkName:"Remove from Watch Later",pathname:"watchLater"}),z7=()=>m.jsx(kO,{linkName:"Remove from Liked Videos",pathname:"likedVideos"}),H7=({channelName:t,description:e,id:n,img:r,subscribersCount:i,videoCount:s})=>{const{subscriptionHandler:o}=ds(),a=yc();return m.jsxs("section",{className:"flex flex-row text-slate-900 dark:text-slate-50 justify-between w-full items-center p-2 h-fit hover:bg-slate-900/20 dark:hover:bg-slate-50/20 rounded-xl",children:[m.jsxs(Mt,{to:`/channels/${n}`,className:"flex flex-row gap-3",children:[m.jsx("img",{src:r,alt:"channel-name",className:"w-20 h-20 rounded-full object-cover object-center bg-white"}),m.jsxs("section",{className:"flex flex-col gap-1 w-full",children:[m.jsx("p",{className:"text-xl  font-semibold text-black dark:text-white mb-2",children:t}),m.jsxs("section",{className:"text-sm text-slate-600 dark:text-slate-400 flex flex-row gap-2 capitalize",children:[m.jsxs("p",{children:[Aa(i)," subscribers"]}),m.jsxs("p",{children:[Aa(s)," videos"]})]}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 whitespace-normal",children:e})]})]}),m.jsx("button",{onClick:()=>{o(!1,n,a)},className:"text-white bg-indigo-400 px-4 py-2 font-medium rounded-full h-fit focus:ring-2 ring-white hover:bg-indigo-500 active:bg-indigo-600",children:"unsubscribe"})]})},q7=()=>{const{userData:t}=cn(),e=Vr(),n=async()=>{try{return(await yr(rt(it,`subscriptions/${t.uid}`))).data()}catch{throw new Error("Something went wrong")}},{data:r,isFetching:i,error:s}=$n({queryKey:["subscriptions",t.uid],queryFn:n,refetchOnWindowFocus:!1});return m.jsxs("article",{className:"flex flex-col gap-4 mx-auto w-full mt-3",children:[i&&m.jsx("p",{children:"Loading..."}),s&&m.jsx("p",{children:s.message}),(r==null?void 0:r.items.length)===0&&m.jsxs("p",{className:"mt-10 text-center",children:["There is no videos, ",m.jsx("br",{})," Do you want to go"," ",m.jsxs("span",{onClick:()=>e("/"),className:"text-indigo-400 underline capitalize cursor-pointer underline-offset-1",children:[" ","home"," "]})]}),r==null?void 0:r.items.map(o=>m.jsx(H7,{channelName:o.title,description:o.description,id:o.id,img:o.url,subscribersCount:o.subscriberCount,videoCount:o.videoCount,pathname:"subscriptions"}))]})},W7=()=>{const{userData:t}=cn(),e=Vr(),n=async()=>(await yr(rt(it,`playlists/${t.uid}`))).data(),{data:r,isError:i,isFetching:s}=$n({queryKey:["user","playlists",t.uid],queryFn:n,refetchOnWindowFocus:!1});return m.jsxs("article",{className:" ",children:[s&&m.jsx("p",{children:"Loading..."}),i&&m.jsx("p",{children:"Something went wrong"}),(r==null?void 0:r.items.length)===0&&m.jsxs("p",{className:"mt-10 text-center",children:["There is no videos, ",m.jsx("br",{})," Do you want to go"," ",m.jsxs("span",{onClick:()=>e("/"),className:"text-indigo-400 underline capitalize cursor-pointer underline-offset-1",children:[" ","home"," "]})]}),m.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 mx-auto w-[95%] md:w-full gap-3 items-end",children:r==null?void 0:r.items.map(o=>m.jsx(nO,{userPlaylist:o,linkName:"Remove from playlist",remove:!0}))})]})},Po=new pk;function K7(){const t=dL([{path:"/",element:m.jsx(lH,{}),errorElement:m.jsx(cH,{}),loader:L7(Po),children:[{index:!0,element:m.jsx(bq,{})},{path:"playlists/:playlistId",element:m.jsx(Vq,{}),loader:jq(Po)},{path:"channels/:channelId",element:m.jsx(Iq,{}),loader:Aq(Po),children:[{path:"videos",element:m.jsx(Cq,{})},{path:"playlists",element:m.jsx(kq,{})},{path:"about",element:m.jsx(Oq,{})}]},{path:"videos/:videoId",element:m.jsx(D7,{})},{path:"/you",element:m.jsx(V7,{}),loader:j7(Po),children:[{index:!0,element:m.jsx(F7,{}),loader:U7(Po)},{path:"watchLater",element:m.jsx(B7,{})},{path:"likedVideos",element:m.jsx(z7,{})},{path:"playlists",element:m.jsx(W7,{})},{path:"subscriptions",element:m.jsx(q7,{})}]}]}]);return m.jsx(_k,{client:Po,children:m.jsx(F9,{children:m.jsx(qu,{children:m.jsx(iL,{router:t})})})})}var Q7="firebase",G7="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(Q7,G7,"app");const Y7={apiKey:"AIzaSyCiujnf3-gDeYmeaVdSBiFPLk3FrK2MPow",authDomain:"chat-app-24ff5.firebaseapp.com",projectId:"chat-app-24ff5",storageBucket:"chat-app-24ff5.appspot.com",messagingSenderId:"387772116568",appId:"1:387772116568:web:dc370a7e3054fd7f43e42d"};XR(Y7);const it=P9(),X7=new pk;Qm.createRoot(document.getElementById("root")).render(m.jsx(_k,{client:X7,children:m.jsx(K7,{})}));
